"use strict";var log=null,$manifest$cssAutoClassificator=!1,$manifest$cssDisableTransformations=!1,$manifest$cssDisableTransitions=!1,$manifest$disableAnimations=!1,$manifest$expectRunContextEvent=!1,$manifest$html5$prefix="",$manifest$log$disable=!1,$manifest$style$font$family="Montserrat",$manifest$style$font$lineHeight=1.2,$manifest$style$font$pixelSize=14,$manifest$style$font$pointSize=0,$manifest$trace$focus=!1,$manifest$trace$keys=!1,$manifest$trace$listeners=!1,qml=function(){var o={};o._get=function(Fo){return o[Fo]};var s=o;s.core||(s.core={}),s.web||(s.web={}),s.controls||(s.controls={}),s.controls.core||(s.controls.core={}),s.controls.experiment||(s.controls.experiment={}),s.controls.pure||(s.controls.pure={}),s.controls.input||(s.controls.input={}),s.video||(s.video={}),s.video.html5||(s.video.html5={}),s.video.videojs||(s.video.videojs={}),s.html5||(s.html5={}),s.src||(s.src={}),s.src.Components||(s.src.Components={}),s.core.core=function(){var Fo=s;Fo._get=function(ta){return Fo[ta]},Fo.core.device=0,Fo.core.vendor="",Fo.core.__videoBackends={},"undefined"==typeof navigator?(Fo.core.os="unknown",Fo.core.userAgent="Unknown"):(Fo.core.os=navigator.platform,Fo.core.userAgent=navigator.userAgent,Fo.core.language=navigator.language);var Wo=function(ta,ra){0>Fo.core.userAgent.indexOf(ta)||(Fo.core.vendor=ra.vendor,Fo.core.device=ra.device,Fo.core.os=ra.os)};Fo.core.vendor||(Wo("Blackberry",{vendor:"blackberry",device:2,os:"blackberry"}),Wo("Android",{vendor:"google",device:2,os:"android"}),Wo("iPhone",{vendor:"apple",device:2,os:"iOS"}),Wo("iPad",{vendor:"apple",device:2,os:"iOS"}),Wo("iPod",{vendor:"apple",device:2,os:"iOS"})),Fo.core.browser=-1===Fo.core.userAgent.indexOf("Edge")?-1!==Fo.core.userAgent.indexOf("Chrome/")||-1!==Fo.core.userAgent.indexOf("Chromium")?"Chrome":-1===Fo.core.userAgent.indexOf("Opera/")?-1===Fo.core.userAgent.indexOf("Firefox/")?-1===Fo.core.userAgent.indexOf("Safari/")?-1!==Fo.core.userAgent.indexOf("MSIE ")||-1!==Fo.core.userAgent.indexOf("Trident")?"IE":-1===Fo.core.userAgent.indexOf("YaBrowser")?"":"Yandex":"Safari":"Firefox":"Opera":"Edge",s._backend=function(){return s.html5.html},s.core.__locationBackend=function(){return s.html5.location},s.core.__localStorageBackend=function(){return s.html5.localstorage},s.core.__videoBackends.html5=function(){return s.video.html5.backend},s.core.__videoBackends.videojs=function(){return s.video.videojs.backend},s.core.__deviceBackend=function(){return s.web.device},Fo.core.keyCodes={13:"Select",16:"Shift",17:"Ctrl",18:"LeftAlt",27:"Back",32:"Space",33:"PageUp",34:"PageDown",37:"Left",38:"Up",39:"Right",40:"Down",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"Green",107:"Blue",109:"Yellow",111:"Red",112:"Red",113:"Green",114:"Yellow",115:"Blue",230:"RightAlt"},Fo.closeApp=function(){window.close()},Function.prototype.bind||(Function.prototype.bind=function(ta){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var ra=Array.prototype.slice.call(arguments,1),oa=this,aa=function(){},na=function(){return oa.apply(this instanceof aa&&ta?this:ta,ra.concat(Array.prototype.slice.call(arguments)))};return aa.prototype=this.prototype,na.prototype=new aa,na},null==log&&(log=function(){for(var ta="",ra=0;ra<arguments.length;++ra)ta+=arguments[ra]+" ";console.log(ta)})),null==log&&(log=console.log.bind(console)),s.qsTr=function(){return s._context.qsTr.apply(qml._context,arguments)};var Do={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32","":"",transparent:"0000"},jo=function(ta,ra,oa,aa){try{return ta.apply(ra,oa)}catch(na){aa(na)}};Fo.core.safeCall=function(ta,ra,oa){return function(aa){return jo(aa,ta,ra,oa)}},Fo.core.getKeyCodeByName=function(ta){var ra=s.core.keyCodes;for(var oa in ra)if(ra[oa]===ta)return~~oa};var Vo=Fo.core.CoreObject=function(ta){this._local=Object.create(ta?ta._local:null)},Yo=Vo.prototype;Yo.componentName="core.CoreObject",Yo.constructor=Vo,Yo.$c=function(){},Yo.$s=function(){},Yo.__init=function(){var ta={};this.$c(ta),this.$s(ta)},Yo.__complete=function(){},Yo._get=function(ta,ra){if(ta in this)return this[ta];if(ta in this._local)return this._local[ta];if(ra)return null;throw new Error("invalid property requested: '"+ta+"'")};var Xo=Fo.core.Color=function(ta){if(Array.isArray(ta))return this.r=ta[0],this.g=ta[1],this.b=ta[2],void(this.a=void 0===ta[3]?255:ta[3]);if("string"!=typeof ta)return this.r=this.b=this.a=255,this.g=0,void log("invalid color specification: "+ta,new Error().stack);var ra;if("#"===ta[0])ra=ta.substring(1);else{if("rgba"===ta.substring(0,4)){var oa=ta.indexOf("("),aa=ta.lastIndexOf(")");return ta=ta.substring(oa+1,aa).split(","),this.r=parseInt(ta[0],10),this.g=parseInt(ta[1],10),this.b=parseInt(ta[2],10),void(this.a=Math.floor(255*parseFloat(ta[3])))}ra=Do[ta]}if(!ra)return this.r=this.b=this.a=255,this.g=0,void log("invalid color specification: "+ta,new Error().stack);var na=ra.length;if(3===na||4===na){var ia=parseInt(ra[0],16),da=parseInt(ra[1],16),oa=parseInt(ra[2],16),la=4===na?parseInt(ra[3],16):15;this.r=ia<<4|ia,this.g=da<<4|da,this.b=oa<<4|oa,this.a=la<<4|la}else if(6===na||8===na)this.r=parseInt(ra.substring(0,2),16),this.g=parseInt(ra.substring(2,4),16),this.b=parseInt(ra.substring(4,6),16),this.a=8===na?parseInt(ra.substring(6,8),16):255;else throw new Error("invalid color specification: "+ta)};Xo.interpolate=function(ta,ra,oa){ta instanceof Xo||(ta=new Xo(ta)),ra instanceof Xo||(ra=new Xo(ra));var aa=function(ca,sa,pa){return Math.floor(pa*(ca-sa)+sa)},na=aa(ta.r,ra.r,oa),ia=aa(ta.g,ra.g,oa),da=aa(ta.b,ra.b,oa),la=aa(ta.a,ra.a,oa);return new Xo([na,ia,da,la])},Xo.normalize=function(ta){return ta instanceof Xo?ta.rgba():new Xo(ta).rgba()};var qo=Xo.prototype;qo.constructor=Fo.core.Color,qo.rgba=function(){return"rgba("+this.r+","+this.g+","+this.b+","+this.a/255+")"};var Ko=function(ta){var ra=15&ta>>4,oa=15&ta;return ra+=9<ra?87:48,oa+=9<oa?87:48,String.fromCharCode(ra,oa)};qo.hex=function(){return"#"+Ko(this.r)+Ko(this.g)+Ko(this.b)+Ko(this.a)},qo.ahex=function(){return"#"+Ko(this.a)+Ko(this.r)+Ko(this.g)+Ko(this.b)},Fo.addLazyProperty=function(ta,ra,oa){var aa=function(na){var ia=na.__properties[ra];return void 0===ia?na.__properties[ra]=new Go(oa(na)):(void 0===ia.value&&(ia.value=oa(na)),ia)};Object.defineProperty(ta,ra,{get:function(){return aa(this).value},set:function(na){var ia=aa(this);if(!ia.forwardSet(this,ra,na,null))throw new Error("could not set lazy property "+ra+" in "+ta.componentName)},enumerable:!0})},Fo.addConstProperty=function(ta,ra,oa){Object.defineProperty(ta,ra,{get:function(){return oa.call(this)},set:function(){throw new Error("could not set const property")},enumerable:!0})};var Go=function(ta){this.value=ta,this.onChanged=[]};Fo.PropertyStorage=Go;var Jo=Go.prototype;Jo.getAnimation=function(){var oa=this.animation;return oa&&oa.enabled()&&!oa._native?oa._context._completed?oa:null:null},Jo.removeUpdater=function(){var ta=this.callback;if(void 0!==ta){for(var ra=this.deps,oa=0,aa=ra.length;oa<aa;oa+=2){var na=ra[oa],ia=ra[oa+1];na.removeOnChanged(ia,ta)}this.deps=this.callback=void 0}},Jo.replaceUpdater=function(ta,ra,oa){this.removeUpdater(),this.callback=ra,this.deps=oa;for(var aa=0,na=oa.length;aa<na;aa+=2){var ia=oa[aa],da=oa[aa+1];ta.connectOnChanged(ia,da,ra)}ra()},Jo.forwardSet=function(ta,ra,oa,aa){var na=this.forwardTarget;if(void 0===na)return!1;var ia=this.getCurrentValue(aa);if(null!==ia&&ia instanceof Object){var da=ia[na];return oa!==da&&(ia[na]=oa,this.callOnChanged(ta,ra,oa,da)),!0}return oa instanceof Object?(ta.connectOnChanged(oa,na,function(la,ca){var sa=ta.__properties[ra];void 0!==sa&&sa.callOnChanged(ta,ra,la,ca)}),!1):void 0},Jo.discard=function(){},Jo.getSimpleValue=function(ta){var ra=this.value;return void 0===ra?ta:ra},Jo.getCurrentValue=function(ta){var ra=this.interpolatedValue;return void 0===ra?this.getSimpleValue(ta):ra},Jo.setCurrentValue=function(ta,ra,oa,aa,na){var ia=this.value;this.interpolatedValue=void 0,this.value=oa,na&&this.callOnChanged(ta,ra,oa,ia)},Jo.set=function(ta,ra,oa,aa,na){var ia=this.value;void 0===ia&&(ia=aa),ia===oa||this.forwardSet(ta,ra,oa,aa)||(this.value=oa,na&&this.callOnChanged(ta,ra,oa,ia))},Jo.callOnChanged=function(ta,ra,oa){var aa=ta["__changed__"+ra],na=this.onChanged,ia=void 0!==aa,da=void 0!==na;if(ia||da){var la=s.core.safeCall(ta,[oa],function(ca){log("on "+ra+" changed callback failed: ",ca,ca.stack)});ia&&aa.forEach(la),da&&na.forEach(la)}},Jo.removeOnChanged=function(ta){var ra=this.onChanged,oa=ra.indexOf(ta);if(0<=oa)return ra.splice(oa,1)},Fo.addProperty=function(ta,ra,oa,aa){var na,ia=!1;switch(ra){case"enum":case"int":na=function(ha){return~~ha},ia=!0;break;case"bool":na=function(ha){return!!ha};break;case"real":na=function(ha){return+ha},ia=!0;break;case"string":na=function(ha){return ha+""};break;case"Color":ia=!0;default:na=function(ha){return ha};}aa=void 0===aa?"enum"===ra||"int"===ra?0:"bool"!==ra&&("real"===ra?0:"string"===ra?"":"array"===ra?[]:"Color"===ra?"#0000":ra[0].toUpperCase()==ra[0]?null:void 0):na(aa);var da=function(ha){var _a=this.__properties[oa];if(void 0===_a){if(ha===aa)return;_a=this.__properties[oa]=new Go(aa)}return _a};Object.defineProperty(ta,oa,{get:ia?function(){var ha=this.__properties[oa];return void 0===ha?aa:ha.getCurrentValue(aa)}:function(){var ha=this.__properties[oa];return void 0===ha?aa:ha.getSimpleValue(aa)},set:ia?function(ha){ha=na(ha);var _a=da.call(this,ha);if(void 0!==_a){var ga=_a.getAnimation();if(ga&&_a.value!==ha){var ua=this._context,ma=ua.backend;_a.frameRequest&&ma.cancelAnimationFrame(_a.frameRequest),_a.started=Date.now();var ya=_a.getCurrentValue(aa),fa=ha,ba=this,$a=function(){ma.cancelAnimationFrame(_a.frameRequest),_a.frameRequest=void 0,ga.complete=function(){},ga.running=!1,_a.interpolatedValue=void 0,_a.started=void 0,_a.callOnChanged(ba,oa,fa,ya)},va=ga.duration,xa=ua.wrapNativeCallback(function(){var wa=Date.now(),Ca=1*(wa-_a.started)/va;1<=Ca||!ga.active()?$a():(_a.interpolatedValue=na(ga.interpolate(fa,ya,Ca)),_a.callOnChanged(ba,oa,_a.getCurrentValue(aa),ya),_a.frameRequest=ma.requestAnimationFrame(xa))});_a.frameRequest=ma.requestAnimationFrame(xa),ga.running=!0,ga.complete=$a}_a.set(this,oa,ha,aa,!ga)}}:function(ha){ha=na(ha);var _a=da.call(this,ha);void 0===_a||_a.set(this,oa,ha,aa,!0)},enumerable:!0})},Fo.addAliasProperty=function(ta,ra,oa,aa){var na=oa();ta.connectOnChanged(na,aa,function(ia){var da=ta.__properties[ra];void 0!==da&&da.callOnChanged(ta,ra,ia)}),Object.defineProperty(ta,ra,{get:function(){return na[aa]},set:function(ia){na[aa]=ia},enumerable:!0})},Fo.core.createSignal=function(ta){return function(){this.emitWithArgs(ta,arguments)}},Fo.core.createSignalForwarder=function(ta,ra){return function(){ta.emitWithArgs(ra,arguments)}},Fo.core.EventBinder=function(ta){this.target=ta,this.callbacks={},this.enabled=!1},Fo.core.EventBinder.prototype.on=function(ta,ra){if(ta in this.callbacks)throw new Error("double adding of event ("+ta+")");this.callbacks[ta]=ra,this.enabled&&this.target.on(ta,ra)},Fo.core.EventBinder.prototype.constructor=Fo.core.EventBinder,Fo.core.EventBinder.prototype.enable=function(ta){if(ta!=this.enabled){var ra=this.target;if(this.enabled=ta,ta)for(var oa in this.callbacks)ra.on(oa,this.callbacks[oa]);else for(var oa in this.callbacks)ra.removeListener(oa,this.callbacks[oa])}};var Zo=function(ta,ra,oa,aa){var na=ta+"__"+oa,ia=ra[na];if(void 0!==ia){var da=ra.hasOwnProperty(na);if(da)ia.push(aa);else{var la=ia.slice();la.push(aa),ra[na]=la}}else ra[na]=[aa]};Fo.core._protoOn=function(ta,ra,oa){Zo("__on",ta,ra,oa)},Fo.core._protoOnChanged=function(ta,ra,oa){Zo("__changed",ta,ra,oa)},Fo.core._protoOnKey=function(ta,ra,oa){Zo("__key",ta,ra,oa)};var Qo=function(ta){this._callback=ta,this._queue=[],this.history=[]},ea=Qo.prototype;return ea.constructor=Qo,ea.unshift=function(){var ta=this._queue;ta.unshift.apply(ta,arguments)},ea.push=function(){var ta=this._queue;ta.push.apply(ta,arguments)},ea.enumerate=function(ta,ra){var oa=[this,ra],aa=this._queue;for(aa.unshift(ta);aa.length;){var na=aa.shift();this.history.push(na);var ia=this._callback.apply(na,oa);if(ia)break}},Fo.forEach=function(ta,ra,oa){var aa=new Qo(ra);return aa.enumerate(ta,oa),oa},String.prototype.arg=function(ta){for(var ra=1;100>ra;++ra)if(-1!==this.indexOf("%"+ra)){for(var oa=this;-1!==oa.indexOf("%"+ra);)oa=oa.replace("%"+ra,ta);return oa}return log("string.arg: Argument missing: '%1', arg: '%2'".arg(this).arg(ta)),this},Array.prototype.__defineGetter__("count",function(){return this.length}),Fo}();var _=s.core.core,u=s.core.CoreObject,m=u.prototype,f=s.core.EventEmitter=function(){u.apply(this,arguments),this._eventHandlers={},this._onConnections=[]},$=f.prototype=Object.create(m);$.constructor=f,$.componentName="core.EventEmitter",$.discard=function(){for(var Fo in this._eventHandlers)this.removeAllListeners(Fo);for(var Wo=this._onConnections,Do=0,jo=Wo.length;Do<jo;Do+=3)Wo[Do].removeListener(Wo[Do+1],Wo[Do+2]);this._onConnections=[]},$.removeAllListeners=function(Fo){delete this._eventHandlers[Fo]},$.emit=function(Fo){if(""===Fo)throw new Error("empty listener name");var Wo=this["__on__"+Fo],Do=this._eventHandlers[Fo];if(void 0!==Wo||void 0!==Do){for(var jo=arguments.length,Vo=Array(jo-1),Yo=0,Xo=1;Xo<jo;)Vo[Yo++]=arguments[Xo++];var qo=s.core.safeCall(this,Vo,function(Ko){log("event/signal "+Fo+" handler failed:",Ko,Ko.stack)});void 0!==Wo&&Wo.forEach(qo),void 0!==Do&&Do.forEach(qo)}},$.emitWithArgs=function(Fo,Wo){if(""===Fo)throw new Error("empty listener name");var Do=this["__on__"+Fo],jo=this._eventHandlers[Fo];if(void 0!==Do||void 0!==jo){var Vo=s.core.safeCall(this,Wo,function(Yo){log("event/signal "+Fo+" handler failed:",Yo,Yo.stack)});void 0!==Do&&Do.forEach(Vo),void 0!==jo&&jo.forEach(Vo)}},$.removeListener=function(Fo,Wo){if(Fo in this._eventHandlers&&void 0!==Wo&&null!==Wo&&""!==Fo){var Do=this._eventHandlers[Fo],jo=Do.indexOf(Wo);!(0<=jo)||Do.splice(jo,1),Do.length||this.removeAllListeners(Fo)}},$.on=function(Fo,Wo){if(""===Fo)throw new Error("empty listener name");var Do=this._eventHandlers,jo=Do[Fo];void 0===jo?Do[Fo]=[Wo]:jo.push(Wo)},$.connectOn=function(Fo,Wo,Do){Fo.on(Wo,Do),this._onConnections.push(Fo,Wo,Do)};var C=s.core.EventEmitter,P=C.prototype,A=s.core.Object=function(Fo,Wo){C.apply(this,arguments);{this.parent=Fo,this.children=[],this.__properties={},this.__attachedObjects=[],Fo&&Fo.__attachedObjects.push(this);var Do=this._context=Fo?Fo._context:null;if(Do&&Do._onCompleted(this),Wo){var jo=this._local;jo.model=Wo,jo._delegate=this}this._changedConnections=[],this._properties={}}},O=A.prototype=Object.create(P);O._propertyToStyle={width:"width",height:"height",x:"left",y:"top",viewX:"left",viewY:"top",opacity:"opacity",border:"border",radius:"border-radius",rotate:"transform",boxshadow:"box-shadow",transform:"transform",visible:"visibility",visibleInView:"visibility",background:"background",color:"color",backgroundImage:"background-image",font:"font"},O.constructor=A,O.componentName="core.Object",_.addProperty(O,"bool","qt",!1),O.toString=function(){return"QML Object"},O.discard=function(){for(var Fo=this._changedConnections,Wo=0,Do=Fo.length;Wo<Do;Wo+=3)Fo[Wo].removeOnChanged(Fo[Wo+1],Fo[Wo+2]);this._changedConnections=[];var jo=this.__attachedObjects;this.__attachedObjects=[],jo.forEach(function(Ko){Ko.discard()});var Vo=this.parent;if(Vo){var Yo=Vo.__attachedObjects.indexOf(this);0<=Yo&&Vo.__attachedObjects.splice(Yo,1)}this.children=[],this.parent=null,this._local={};var Xo=this.__properties;for(var qo in Xo)Xo[qo].discard();this._properties={},s.core.EventEmitter.prototype.discard.apply(this)},O._tryFocus=function(){return!1},O.addChild=function(Fo){this.children.push(Fo)},O._setId=function(Fo){for(var Wo=this;Wo;)Wo._local[Fo]=this,Wo=Wo.parent},O._removeUpdater=function(Fo){var Wo=this.__properties[Fo];void 0!==Wo&&Wo.removeUpdater()},O.updateAnimation=function(Fo,Wo){this._context.backend.setAnimation(this,Fo,Wo)},O.setAnimation=function(Fo,Wo){var Do=this._get("context",!0);var Do=this._context,jo=Do.backend;("contentX"===Fo||"contentY"===Fo)&&log("WARNING: you're trying to animate contentX/contentY property, this will always use animation frames, ignoring CSS transitions, please use content.x/content.y instead"),Wo._target=this,Wo._property=Fo;var Vo=this._createPropertyStorage(Fo);Vo.animation=Wo,jo.setAnimation(this,Fo,Wo)&&(Wo._native=!0)},O.removeOnChanged=function(Fo,Wo){var jo,Do=this.__properties[Fo];void 0!==Do&&(jo=Do.removeOnChanged(Wo)),$manifest$trace$listeners},O.onChanged=function(Fo,Wo){var Do=this._createPropertyStorage(Fo);Do.onChanged.push(Wo)},O._replaceUpdater=function(Fo,Wo,Do){this._createPropertyStorage(Fo).replaceUpdater(this,Wo,Do)},O.setPropertyForwardingTarget=function(Fo,Wo){this._createPropertyStorage(Fo).forwardTarget=Wo},O._setProperty=function(Fo,Wo){var Do=this._createPropertyStorage(Fo,Wo),jo=Do.animation;void 0!==jo&&jo.disable(),Do.setCurrentValue(this,null,Wo),void 0!==jo&&jo.enable()},O._createPropertyStorage=function(Fo,Wo){var Do=this.__properties[Fo];return void 0===Do?this.__properties[Fo]=new s.core.core.PropertyStorage(Wo):Do},O.connectOnChanged=function(Fo,Wo,Do){Fo.onChanged(Wo,Do),this._changedConnections.push(Fo,Wo,Do)};var I=s.core.Object,S=I.prototype,U=s.core.System=function(){I.apply(this,arguments);{this.vendor=s.core.vendor,this.device=s.core.device,this.os=s.core.os,this.browser=s.core.browser,this.userAgent=s.core.userAgent,this.language=s.core.language;var Do=this._context;Do.language=this.language.replace("-","_"),this.webkit=0<=this.userAgent.toLowerCase().indexOf("webkit"),this.support3dTransforms=Do.backend.capabilities.csstransforms3d||!1,this.supportTransforms=Do.backend.capabilities.csstransforms||!1,this.supportTransitions=Do.backend.capabilities.csstransitions||!1}},z=U.prototype=Object.create(S);z.constructor=U,z.componentName="core.System",_.addProperty(z,"string","userAgent"),_.addProperty(z,"string","language"),_.addProperty(z,"string","browser"),_.addProperty(z,"string","vendor"),_.addProperty(z,"string","os"),_.addProperty(z,"bool","webkit"),_.addProperty(z,"bool","support3dTransforms"),_.addProperty(z,"bool","supportTransforms"),_.addProperty(z,"bool","supportTransitions"),_.addProperty(z,"bool","portrait"),_.addProperty(z,"bool","landscape"),_.addProperty(z,"bool","pageActive",!0),_.addProperty(z,"int","screenWidth"),_.addProperty(z,"int","screenHeight"),_.addProperty(z,"int","contextWidth"),_.addProperty(z,"int","contextHeight"),z.Desktop=0,U.Desktop=0,z.Tv=1,U.Tv=1,z.Mobile=2,U.Mobile=2,_.addProperty(z,"enum","device"),z.MobileS=0,U.MobileS=0,z.MobileM=1,U.MobileM=1,z.MobileL=2,U.MobileL=2,z.Tablet=3,U.Tablet=3,z.Laptop=4,U.Laptop=4,z.LaptopL=5,U.LaptopL=5,z.Laptop4K=6,U.Laptop4K=6,_.addProperty(z,"enum","layoutType"),z._updateLayoutType=function(){if(this.contextWidth&&this.contextHeight){var Fo=this.contextWidth;this.layoutType=320>=Fo?this.MobileS:375>=Fo?this.MobileM:425>=Fo?this.MobileL:768>=Fo?this.Tablet:1024>=this.contextWidth?this.Laptop:1440>=this.contextWidth?this.LaptopL:this.Laptop4K}};var E=function(){this._updateLayoutType()};s.core._protoOnChanged(z,"contextHeight",E),s.core._protoOnChanged(z,"contextWidth",E),z.$c=function(Fo){this;S.$c.call(this,Fo.$b={})},z.$s=function(Fo){var Wo=this;S.$s.call(this,Fo.$b),delete Fo.$b,Wo._replaceUpdater("portrait",function(){Wo.portrait=Wo.parent.width<Wo.parent.height},[Wo.parent,"height",Wo.parent,"width"]),Wo._replaceUpdater("contextWidth",function(){Wo.contextWidth=Wo._context.width},[Wo._context,"width"]),Wo._replaceUpdater("landscape",function(){Wo.landscape=!Wo.portrait},[Wo,"portrait"]),Wo._replaceUpdater("contextHeight",function(){Wo.contextHeight=Wo._context.height},[Wo._context,"height"])};var B=s.core.Object,T=B.prototype,L=s.core.Item=function(Fo){if(B.apply(this,arguments),this._pressedHandlers={},this._topPadding=0,this._borderXAdjust=0,this._borderYAdjust=0,this._borderWidthAdjust=0,this._borderHeightAdjust=0,Fo){if(this.element)throw new Error("double ctor call");this._createElement(this.getTag(),this.getClass())}},M=L.prototype=Object.create(T);M.constructor=L,M.componentName="core.Item",M.newBoundingBox=s.core.createSignal("newBoundingBox"),_.addProperty(M,"int","x"),_.addProperty(M,"int","y"),_.addProperty(M,"int","z"),_.addProperty(M,"int","width"),_.addProperty(M,"int","height"),_.addProperty(M,"bool","clip"),_.addProperty(M,"real","radius"),_.addProperty(M,"real","scale",1),_.addProperty(M,"bool","fixed"),_.addProperty(M,"bool","mouseEnabled",!0),_.addProperty(M,"bool","focus"),_.addProperty(M,"bool","focused"),_.addProperty(M,"bool","activeFocus"),_.addProperty(M,"Item","focusedChild"),_.addProperty(M,"string","class"),_.addProperty(M,"bool","visible",!0),_.addProperty(M,"bool","visibleInView",!0),_.addProperty(M,"bool","recursiveVisible",!1),_.addProperty(M,"real","opacity",1),_.addProperty(M,"real","rotation"),_.addLazyProperty(M,"anchors",function(Fo,Wo){var Do=new s.core.Anchors(Fo,Wo),jo={lazy$anchors:Do};Do.$c(jo.$c$lazy$anchors={});var Do=jo.lazy$anchors;return Do.$s(jo.$c$lazy$anchors),delete jo.$c$lazy$anchors,Do}),_.addLazyProperty(M,"effects",function(Fo,Wo){var Do=new s.core.Effects(Fo,Wo),jo={lazy$effects:Do};Do.$c(jo.$c$lazy$effects={});var Do=jo.lazy$effects;return Do.$s(jo.$c$lazy$effects),delete jo.$c$lazy$effects,Do}),_.addLazyProperty(M,"transform",function(Fo,Wo){var Do=new s.core.Transform(Fo,Wo),jo={lazy$transform:Do};Do.$c(jo.$c$lazy$transform={});var Do=jo.lazy$transform;return Do.$s(jo.$c$lazy$transform),delete jo.$c$lazy$transform,Do}),_.addProperty(M,"bool","cssTranslatePositioning"),_.addProperty(M,"bool","cssNullTranslate3D"),_.addProperty(M,"bool","cssDelegateAlwaysVisibleOnAcceleratedSurfaces",!0),_.addProperty(M,"var","itemStyle"),_.addConstProperty(M,"left",function(){return[this,0]}),_.addConstProperty(M,"top",function(){return[this,1]}),_.addConstProperty(M,"right",function(){return[this,2]}),_.addConstProperty(M,"bottom",function(){return[this,3]}),_.addConstProperty(M,"horizontalCenter",function(){return[this,4]}),_.addConstProperty(M,"verticalCenter",function(){return[this,5]}),_.addProperty(M,"int","viewX"),_.addProperty(M,"int","viewY"),_.addProperty(M,"int","keyProcessDelay"),_.addProperty(M,"bool","absoluteEnabled"),_.addProperty(M,"int","absoluteX"),_.addProperty(M,"int","absoluteY"),_.addProperty(M,"bool","visibleX"),_.addProperty(M,"bool","visibleY"),M.discard=function(){s.core.Object.prototype.discard.apply(this),this.focusedChild=null,this._pressedHandlers={},this.element&&this.element.discard()},M._tryFocus=function(){if(!this.visible)return!1;if(this.focusedChild&&this.focusedChild._tryFocus())return!0;for(var Do,Fo=this.children,Wo=0;Wo<Fo.length;++Wo)if(Do=Fo[Wo],Do._tryFocus())return this._focusChild(Do),!0;return this.focus},M.toString=function(){return"Item (width: "+this.width+", height: "+this.height+", x: "+this.x+", y: "+this.y+")"},M._updateStyle=function(){var Fo=this.element;Fo&&Fo.updateStyle()},M.toScreen=function(){for(var Fo=this,Wo=0,Do=0,jo=this.width,Vo=this.height;Fo;)Wo+=Fo.x,Do+=Fo.y,Fo.hasOwnProperty("view")&&(Wo+=Fo.viewX+Fo.view.content.x,Do+=Fo.viewY+Fo.view.content.y),Fo=Fo.parent;return[Wo,Do,Wo+jo,Do+Vo,Wo+jo/2,Do+Vo/2]},M.hasActiveFocus=function(){for(var Fo=this;Fo.parent;){if(Fo.parent.focusedChild!=Fo)return!1;Fo=Fo.parent}return!0},M._propagateFocusToParents=function(){for(var Fo=this;Fo.parent&&(!Fo.parent.focusedChild||!Fo.parent.focusedChild.visible);)Fo.parent._focusChild(Fo),Fo=Fo.parent},M.forceActiveFocus=function(){for(var Fo=this;Fo.parent;)Fo.parent._focusChild(Fo),Fo=Fo.parent},M.getComponentPath=function(){for(var Fo=[],Wo=this;Wo;)Fo.unshift(Wo.componentName),Wo=Wo.parent;return Fo.join(" \u2192 ")},M._updateVisibility=function(){var Fo=this.visible&&this.visibleInView,Wo=!0,Do=this.view;if(void 0!==Do){var jo=Do.content;jo.cssDelegateAlwaysVisibleOnAcceleratedSurfaces&&(jo.cssTranslatePositioning||jo.cssNullTranslate3D)&&!$manifest$cssDisableTransformations&&(Wo=!1)}Wo&&this.style("visibility",Fo?"inherit":"hidden"),this.recursiveVisible=Fo&&(null===this.parent||this.parent.recursiveVisible)},M._setSizeAdjust=function(){var Fo=this.x+this.viewX+this._borderXAdjust,Wo=this.y+this.viewY+this._borderYAdjust;this.cssTranslatePositioning&&!$manifest$cssDisableTransformations?(this.transform.translateX=Fo,this.transform.translateY=Wo):(this.style("left",Fo),this.style("top",Wo))},M._updateAbsoluteCoords=function(){var Fo=this._get("context",!0);if(Fo){var Wo=this.element.dom.getBoundingClientRect();this.absoluteX=Wo.x+window.pageXOffset,this.absoluteY=Wo.y+window.pageYOffset,Fo._updateContentScroll(),this.newBoundingBox()}},M.itemStyleUpdate=function(){this.itemStyle._getStyle(this)},M.getClass=function(){return""},M.getTag=function(){return"div"},M.setFocus=function(){this.forceActiveFocus()},M._focusTree=function(Fo){this.activeFocus=Fo,this.focusedChild&&this.focusedChild._focusTree(Fo)},M.addChild=function(Fo){s.core.Object.prototype.addChild.apply(this,arguments),Fo._tryFocus()&&Fo._propagateFocusToParents()},M._focusChild=function(Fo){if(Fo.parent!==this)throw new Error("invalid object passed as child");this.focusedChild===Fo||(this.focusedChild&&(this.focusedChild._focusTree(!1),this.focusedChild.focused=!1),this.focusedChild=Fo,this.focusedChild&&(this.focusedChild._focusTree(this.hasActiveFocus()),this.focusedChild.focused=!0))},M.focusChild=function(Fo){this._propagateFocusToParents(),this._focusChild(Fo)},M._updateVisibilityForChild=function(Fo,Wo){Fo.recursiveVisible=Wo&&Fo.visible&&Fo.visibleInView},M._attachElement=function(Fo){this.element&&this.element.discard(),Fo._item=this,this.element=Fo;var Wo=this.parent;Wo&&Wo.element.append(Fo)},M._processKey=function(Fo){var Wo=this._get("key",!0),Do=Fo.which||Fo.keyCode,Wo=s.core.keyCodes[Do],jo=Fo.timeStamp;if(void 0!==Wo){if(this.keyProcessDelay){if(this._lastEvent&&jo>this._lastEvent&&jo-this._lastEvent<this.keyProcessDelay)return!0;this._lastEvent=jo}var Vo=s.core.safeCall(this,[Wo,Fo],function(Xo){log("on "+Wo+" handler failed:",Xo,Xo.stack)}),Yo=this["__key__"+Wo];if(Wo in this._pressedHandlers)return this.invokeKeyHandlers(Wo,Fo,this._pressedHandlers[Wo],Vo);if(Yo)return this.invokeKeyHandlers(Wo,Fo,Yo,Vo);var Yo=this.__key__Key;if("Key"in this._pressedHandlers)return this.invokeKeyHandlers(Wo,Fo,this._pressedHandlers.Key,Vo);if(Yo)return this.invokeKeyHandlers(Wo,Fo,Yo,Vo)}else log("unknown keycode "+Do+": ["+Fo.charCode+" "+Fo.keyCode+" "+Fo.which+" "+Fo.key+" "+Fo.code+" "+Fo.location+"]");return!1},M.invokeKeyHandlers=function(Fo,Wo,Do,jo){for(var Yo,Vo=Do.length-1;0<=Vo;--Vo)if(Yo=Do[Vo],jo(Yo))return $manifest$trace$keys,!0;return!1},M.onPressed=function(Fo,Wo){var jo,Do=this._get("key",!0);jo="Key"==Fo?Wo:function(Vo,Yo){return Yo.accepted=!0,Wo(Vo,Yo),Yo.accepted},Fo in this._pressedHandlers?this._pressedHandlers[Fo].push(jo):this._pressedHandlers[Fo]=[jo]},M.style=function(Fo,Wo){var Do=this.element;return Do?Do.style(Fo,Wo):void log("WARNING: style skipped:",Fo,Wo)},M._enqueueNextChildInFocusChain=function(Fo,Wo){this._tryFocus();var Do=this.focusedChild;Do&&Do.visible&&(Fo.unshift(Do),Wo.unshift(Do))},M.registerStyle=function(Fo,Wo){var Do="position: absolute; visibility: inherit; opacity: 1.0;";Do+="border-style: solid; border-width: 0px; border-radius: 0px; box-sizing: border-box; border-color: rgba(0,0,0,1);",Do+="white-space: nowrap; transform: none;",Do+="left: 0px; top: 0px; width: 0px; height: 0px;",Do+="font-family: "+$manifest$style$font$family+"; line-height: "+$manifest$style$font$lineHeight+"; ",Do+="font-size: "+$manifest$style$font$pixelSize+"px; ",Fo.addRule(Wo,Do)},M._createElement=function(Fo,Wo){var Do=this._get("context",!0),Do=this._context;null===Do&&(Do=this),Do.registerStyle(this,Fo,Wo),this._attachElement(Do.createElement(Fo,Wo))},s.core._protoOnChanged(M,"cssNullTranslate3D",function(Fo){this.style("transform",Fo?"translateZ(0)":"")}),s.core._protoOnChanged(M,"recursiveVisible",function(Fo){for(var Vo,Wo=this.children,Do=0,jo=Wo.length;Do<jo;++Do)Vo=Wo[Do],this._updateVisibilityForChild(Vo,Fo);Fo||this.parent._tryFocus()});var E=function(){var Wo=this._get("hack",!0),Do=this.x+this.viewX;this.cssTranslatePositioning&&!$manifest$cssDisableTransformations?this.transform.translateX=Do:this.style("left",Do),this.newBoundingBox(),Wo&&this.absoluteEnabled&&Wo.start()};s.core._protoOnChanged(M,"x",E),s.core._protoOnChanged(M,"viewX",E);var R=function(){var Wo=this._get("hack",!0),Do=this.y+this.viewY;this.cssTranslatePositioning&&!$manifest$cssDisableTransformations?this.transform.translateY=Do:this.style("top",Do),this.newBoundingBox(),Wo&&this.absoluteEnabled&&Wo.start()};s.core._protoOnChanged(M,"y",R),s.core._protoOnChanged(M,"viewY",R),s.core._protoOnChanged(M,"opacity",function(Fo){this.element&&this.style("opacity",Fo)});var N=function(){this._updateVisibility()};s.core._protoOnChanged(M,"visible",N),s.core._protoOnChanged(M,"visibleInView",N),s.core._protoOnChanged(M,"class",function(Fo){this.element.dom.setAttribute("class",Fo)}),s.core._protoOnChanged(M,"itemStyle",function(){this.itemStyleUpdate()}),s.core._protoOnChanged(M,"radius",function(Fo){this.style("border-radius",Fo)}),s.core._protoOnChanged(M,"height",function(Fo){this.style("height",Fo-this._topPadding+this._borderHeightAdjust),this.newBoundingBox()}),s.core._protoOnChanged(M,"clip",function(Fo){this.style("overflow",Fo?"hidden":"visible")}),s.core._protoOnChanged(M,"mouseEnabled",function(Fo){this.style("pointer-events",Fo?"auto":"none")}),s.core._protoOnChanged(M,"fixed",function(Fo){this.style("position",Fo?"fixed":"absolute")}),s.core._protoOnChanged(M,"width",function(Fo){this.style("width",Fo+this._borderWidthAdjust),this.newBoundingBox()}),s.core._protoOnChanged(M,"z",function(Fo){this.style("z-index",Fo)}),s.core._protoOnChanged(M,"rotation",function(){this.transform.rotateZ=this.rotation}),s.core._protoOnChanged(M,"scale",function(){this.transform.scaleX=this.scale,this.transform.scaleY=this.scale}),M.$c=function(Fo){var Wo=this;T.$c.call(this,Fo.$b={});var Do=new s.core.Timer(Wo);Fo._this$child0=Do,Do.$c(Fo.$c$_this$child0={}),Do._setId("hack"),Wo.addChild(Do)},M.$s=function(Fo){var Wo=this;T.$s.call(this,Fo.$b),delete Fo.$b,Wo._replaceUpdater("visibleX",function(){Wo.visibleX=-1!==Wo.absoluteX&&Wo._context.contentMaxX&&Wo.absoluteX<Wo._context.contentX+Wo._context.width&&Wo.absoluteX+Wo._context.width>Wo._context.contentX},[Wo._context,"contentX",Wo._context,"contentMaxX",Wo,"absoluteX",Wo._context,"width"]),Wo._replaceUpdater("visibleY",function(){Wo.visibleY=-1!==Wo.absoluteY&&Wo._context.contentMaxY&&Wo.absoluteY<Wo._context.contentY+Wo._context.height&&Wo.absoluteY+Wo._context.height>Wo._context.contentY},[Wo._context,"height",Wo._context,"contentY",Wo,"absoluteY",Wo._context,"contentMaxY"]),Wo._removeUpdater("absoluteX"),Wo.absoluteX=-1,Wo._removeUpdater("absoluteY"),Wo.absoluteY=-1;var Do=Fo._this$child0;Do.$s(Fo.$c$_this$child0),delete Fo.$c$_this$child0,Do._removeUpdater("running"),Do.running=!0,Do._removeUpdater("interval"),Do.interval=100,Do.on("triggered",function(){this.parent._updateAbsoluteCoords()}.bind(Do))};var H=s.core.Item,F=H.prototype,W=s.controls.input.BaseInput=function(){H.apply(this,arguments),this._placeholderClass="",this.element.on("focus",function(){this.forceActiveFocus()}.bind(this)),this.element.on("blur",function(){this.forceActiveFocus()}.bind(this))},D=W.prototype=Object.create(F);D.constructor=W,D.componentName="controls.input.BaseInput",D.fontChanged=s.core.createSignal("fontChanged"),_.addProperty(D,"Paddings","paddings"),_.addProperty(D,"Color","color","#000"),_.addProperty(D,"Color","backgroundColor","#fff"),_.addLazyProperty(D,"font",function(Fo,Wo){var Do=new s.core.Font(Fo,Wo),jo={lazy$font:Do};Do.$c(jo.$c$lazy$font={});var Do=jo.lazy$font;return Do.$s(jo.$c$lazy$font),delete jo.$c$lazy$font,Do}),_.addProperty(D,"Border","border"),_.addProperty(D,"string","type","text"),_.addProperty(D,"PlaceHolder","placeholder"),_.addProperty(D,"bool","enabled",!0),D.AlignLeft=0,W.AlignLeft=0,D.AlignRight=1,W.AlignRight=1,D.AlignHCenter=2,W.AlignHCenter=2,D.Justify=3,W.Justify=3,_.addProperty(D,"enum","horizontalAlignment"),D._updateSize=function(){var Fo={width:this.width,height:this.height};this.style(Fo)},D.focusBrowser=function(){var Fo=this._get("focusTimer",!0);Fo.restart()},D.blurBrowser=function(){var Fo=this._get("focusTimer",!0);Fo.stop(),this.element.dom.blur()},D.getTag=function(){return"input"},D.registerStyle=function(Fo){Fo.addRule("input","position: absolute; visibility: inherit; border-style: solid; border-width: 0px; box-sizing: border-box;"),Fo.addRule("input:focus","outline: none;")},s.core._protoOnChanged(D,"recursiveVisible",function(Fo){Fo||this.blurBrowser()}),s.core._protoOnChanged(D,"activeFocus",function(Fo){Fo?this.focusBrowser():this.blurBrowser()}),s.core._protoOnChanged(D,"horizontalAlignment",function(Fo){Fo===this.AlignLeft?this.style("text-align","left"):Fo===this.AlignRight?this.style("text-align","right"):Fo===this.AlignHCenter?this.style("text-align","center"):Fo===this.AlignJustify?this.style("text-align","justify"):void 0}),s.core._protoOnChanged(D,"enabled",function(Fo){this.element.dom.disabled=!Fo});var E=function(){this._updateSize()};s.core._protoOnChanged(D,"height",E),s.core._protoOnChanged(D,"width",E),s.core._protoOnChanged(D,"type",function(Fo){this.element.dom.type=Fo}),s.core._protoOnChanged(D,"backgroundColor",function(Fo){this.style("background",Fo)}),s.core._protoOnChanged(D,"color",function(Fo){this.style("color",Fo)}),D.$c=function(Fo){var Wo=this;F.$c.call(this,Fo.$b={});var Do=new s.core.Timer(Wo);Fo._this$child0=Do,Do.$c(Fo.$c$_this$child0={}),Do._setId("focusTimer"),Wo.addChild(Do);var jo=new s.controls.core.PlaceHolder(Wo);Fo._this$placeholder=jo,jo.$c(Fo.$c$_this$placeholder={}),Wo.placeholder=jo;var Vo=new s.core.Border(Wo);Fo._this$border=Vo,Vo.$c(Fo.$c$_this$border={}),Wo.border=Vo;var Yo=new s.controls.core.Paddings(Wo);Fo._this$paddings=Yo,Yo.$c(Fo.$c$_this$paddings={}),Wo.paddings=Yo},D.$s=function(Fo){this;F.$s.call(this,Fo.$b),delete Fo.$b;var Do=Fo._this$placeholder;Do.$s(Fo.$c$_this$placeholder),delete Fo.$c$_this$placeholder;var jo=Fo._this$border;jo.$s(Fo.$c$_this$border),delete Fo.$c$_this$border;var Vo=Fo._this$paddings;Vo.$s(Fo.$c$_this$paddings),delete Fo.$c$_this$paddings;var Yo=Fo._this$child0;Yo.$s(Fo.$c$_this$child0),delete Fo.$c$_this$child0,Yo._removeUpdater("interval"),Yo.interval=100,Yo.on("triggered",function(){this.parent.element.dom.focus(),this.parent.element.dom.select()}.bind(Yo))};var j=s.controls.input.BaseInput,V=j.prototype,Y=s.controls.input.DateInput=function(){j.apply(this,arguments),this.element.on("change",function(){this.value=this.element.dom.value}.bind(this))},X=Y.prototype=Object.create(V);X.constructor=Y,X.componentName="controls.input.DateInput",_.addProperty(X,"string","max"),_.addProperty(X,"string","min"),_.addProperty(X,"string","value"),s.core._protoOnChanged(X,"max",function(Fo){this.element.dom.max=Fo}),s.core._protoOnChanged(X,"min",function(Fo){this.element.dom.min=Fo}),X.$c=function(Fo){this;V.$c.call(this,Fo.$b={})},X.$s=function(Fo){var Wo=this;V.$s.call(this,Fo.$b),delete Fo.$b,Wo._removeUpdater("width"),Wo.width=150,Wo._removeUpdater("type"),Wo.type="date",Wo._removeUpdater("height"),Wo.height=20};var K=s.core.Item,G=K.prototype,J=s.core.BaseLayout=function(){K.apply(this,arguments),this.count=0},Z=J.prototype=Object.create(G);Z.constructor=J,Z.componentName="core.BaseLayout",_.addProperty(Z,"int","count"),_.addProperty(Z,"bool","trace"),_.addProperty(Z,"int","spacing"),_.addProperty(Z,"int","currentIndex"),_.addProperty(Z,"int","contentWidth"),_.addProperty(Z,"int","contentHeight"),_.addProperty(Z,"bool","keyNavigationWraps"),_.addProperty(Z,"bool","handleNavigationKeys"),_.addProperty(Z,"int","layoutDelay"),_.addProperty(Z,"int","prerenderDelay"),_.addProperty(Z,"bool","offlineLayout"),Z._scheduleLayout=function(){(this.recursiveVisible||this.offlineLayout)&&(0<=this.prerenderDelay?(this._context.delayedAction("layout",this,this._doLayoutNP,this.layoutDelay),this._context.delayedAction("prerender",this,this._doLayout,this.prerenderDelay)):this._context.delayedAction("layout",this,this._doLayout,this.layoutDelay))},Z._doLayout=function(){this._attach(),this._processUpdates(),this._layout()},Z._doLayoutNP=function(){this._attach(),this._processUpdates(),this._layout(!0)},Z.__complete=function(){G.__complete.call(this),this._scheduleLayout()};var E=function(){};Z._attach=E,Z._processUpdates=E;var R=function(){this._scheduleLayout()};s.core._protoOnChanged(Z,"recursiveVisible",R),s.core._protoOnChanged(Z,"spacing",R),Z.$c=function(Fo){this;G.$c.call(this,Fo.$b={})},Z.$s=function(Fo){var Wo=this;G.$s.call(this,Fo.$b),delete Fo.$b,Wo._removeUpdater("layoutDelay"),Wo.layoutDelay=-1,Wo._removeUpdater("prerenderDelay"),Wo.prerenderDelay=-1};var Q=s.core.BaseLayout,ee=Q.prototype,te=s.core.Layout=function(){Q.apply(this,arguments)},ae=te.prototype=Object.create(ee);ae.constructor=te,ae.componentName="core.Layout",ae.focusNextChild=function(){var Fo=0,Wo=this.children;this.focusedChild&&(Fo=Wo.indexOf(this.focusedChild));for(var Do=Fo+1;Do<Wo.length;++Do)if(Wo[Do]._tryFocus())return this.currentIndex=Do,this.focusChild(this.children[Do]),!0;if(!this.keyNavigationWraps)return!1;for(var Do=0;Do<=Fo;++Do)if(Wo[Do]._tryFocus())return this.currentIndex=Do,this.focusChild(this.children[Do]),!0;return!1},ae.focusPrevChild=function(){var Fo=0,Wo=this.children;this.focusedChild&&(Fo=Wo.indexOf(this.focusedChild));for(var Do=Fo-1;0<=Do;--Do)if(Wo[Do]._tryFocus())return this.currentIndex=Do,this.focusChild(this.children[Do]),!0;if(!this.keyNavigationWraps)return!1;for(var jo=Wo.length-1,Do=jo;Do>=Fo;--Do)if(Wo[Do]._tryFocus())return this.currentIndex=Do,this.focusChild(this.children[Do]),!0;return!1},s.core._protoOnChanged(ae,"currentIndex",function(Fo){0<=Fo&&Fo<this.children.length&&this.focusChild(this.children[Fo])}),ae.$c=function(Fo){this;ee.$c.call(this,Fo.$b={})},ae.$s=function(Fo){var Wo=this;ee.$s.call(this,Fo.$b),delete Fo.$b,Wo._removeUpdater("keyNavigationWraps"),Wo.keyNavigationWraps=!0,Wo._replaceUpdater("width",function(){Wo.width=Wo.contentWidth},[Wo,"contentWidth"]),Wo._removeUpdater("handleNavigationKeys"),Wo.handleNavigationKeys=!0,Wo._replaceUpdater("height",function(){Wo.height=Wo.contentHeight},[Wo,"contentHeight"])};var ne=s.core.BaseLayout,ie=ne.prototype,de=s.core.BaseView=function(){ne.apply(this,arguments),this._items=[],this._modelUpdate=new s.core.model.ModelUpdate,this._attached=null,this._modelReset=this._onReset.bind(this),this._modelRowsInserted=this._onRowsInserted.bind(this),this._modelRowsChanged=this._onRowsChanged.bind(this),this._modelRowsRemoved=this._onRowsRemoved.bind(this)},le=de.prototype=Object.create(ie);le.constructor=de,le.componentName="core.BaseView",le.layoutFinished=s.core.createSignal("layoutFinished"),_.addProperty(le,"Object","model"),_.addProperty(le,"Item","delegate"),_.addProperty(le,"int","contentX"),_.addProperty(le,"int","contentY"),_.addProperty(le,"int","scrollingStep",0),_.addProperty(le,"int","animationDuration",0),_.addProperty(le,"string","animationEasing","ease"),_.addProperty(le,"bool","contentFollowsCurrentItem",!0),_.addProperty(le,"bool","nativeScrolling"),_.addProperty(le,"real","prerender",0.5),_.addProperty(le,"string","visibilityProperty"),_.addProperty(le,"BaseViewContent","content"),le.Contain=0,de.Contain=0,le.Beginning=1,de.Beginning=1,le.Center=2,de.Center=2,le.End=3,de.End=3,le.Visible=4,de.Visible=4,le.Page=5,de.Page=5,_.addProperty(le,"enum","positionMode"),le.discard=function(){this._detach(),s.core.BaseLayout.prototype.discard.apply(this)},le._processUpdates=function(){this._modelUpdate.apply(this),qml.core.BaseLayout.prototype._processUpdates.apply(this),this.count=this._items.length},le.focusCurrent=function(){var Fo=this.count;if(0!=Fo){var Wo=this.currentIndex;if(0>Wo||Wo>=Fo)return void(this.currentIndex=this.keyNavigationWraps?(Wo+Fo)%Fo:0>Wo?0:Fo-1);var Do=this._items[Wo];Do&&this.focusChild(Do),this.contentFollowsCurrentItem&&this.positionViewAtIndex(Wo)}},le._attach=function(){var Fo=this._get("model",!0);if(!this._attached&&this.model&&this.delegate){this.trace&&log("attaching model...");var Wo=s.core.Model,Fo=this.model,Do=typeof Fo;if(void 0!==Wo&&Fo instanceof Wo);else if(Array.isArray(Fo))Fo=new s.core.model.ArrayModelWrapper(Fo);else if("number"==Do){for(var jo=[],Vo=0;Vo<Fo;++Vo)jo.push({});Fo=new s.core.model.ArrayModelWrapper(jo)}else throw new Error("unknown value of type '"+typeof Fo+"', attached to model property: "+Fo+("object"==Do&&"componentName"in Fo?", component name: "+Fo.componentName:""));Fo.on("reset",this._modelReset),Fo.on("rowsInserted",this._modelRowsInserted),Fo.on("rowsChanged",this._modelRowsChanged),Fo.on("rowsRemoved",this._modelRowsRemoved),this._attached=Fo,this._onReset()}},le._detach=function(){var Fo=this._get("model",!0),Fo=this._attached;Fo&&(this.trace&&log("detaching model..."),this._attached=null,Fo.removeListener("reset",this._modelReset),Fo.removeListener("rowsInserted",this._modelRowsInserted),Fo.removeListener("rowsChanged",this._modelRowsChanged),Fo.removeListener("rowsRemoved",this._modelRowsRemoved))},le._onReset=function(){var Fo=this._get("model",!0),Fo=this._attached;this.trace&&log("reset",this._items.length,Fo.count),this._modelUpdate.reset(Fo),this._scheduleLayout()},le.__complete=function(){ie.__complete.call(this);var Fo=this;this.element.on("scroll",function(){Fo._updateScrollPositions(Fo.element.dom.scrollLeft,Fo.element.dom.scrollTop)}.bind(this))},le._updateItems=function(Fo,Wo){for(var Do=Fo;Do<Wo;++Do)this._updateDelegate(Do)},le._onRowsChanged=function(Fo,Wo){this.trace&&log("rows changed",Fo,Wo),this._modelUpdate.update(this._attached,Fo,Wo),this._scheduleLayout()},le._onRowsInserted=function(Fo,Wo){this.trace&&log("rows inserted",Fo,Wo),this._modelUpdate.insert(this._attached,Fo,Wo),this._scheduleLayout()},le._onRowsRemoved=function(Fo,Wo){this.trace&&log("rows removed",Fo,Wo),this._modelUpdate.remove(this._attached,Fo,Wo),this._scheduleLayout()},le._removeItems=function(Fo,Wo){var Do=this._items.splice(Fo,Wo-Fo),jo=this;Do.forEach(function(Vo){jo._discardItem(Vo)})},le._insertItems=function(Fo,Wo){var Do=Wo-Fo+2,jo=Array(Do);jo[0]=Fo,jo[1]=0;for(var Vo=2;Vo<Do;++Vo)jo[Vo]=null;Array.prototype.splice.apply(this._items,jo)},le._updateDelegateIndex=function(Fo){var Wo=this._items[Fo];if(Wo){Wo._local.model.index=Fo;var Do=Wo._createPropertyStorage("_rowIndex");Do.callOnChanged(Wo,"_rowIndex")}},le._updateDelegate=function(Fo){var Wo=this._items[Fo];if(Wo){var Do=this._attached.get(Fo);Do.index=Fo,Wo._local.model=Do;var jo=Wo._createPropertyStorage("_row");jo.callOnChanged(Wo,"_row")}},le._createDelegate=function(Fo){var Wo=this._items,Do=Wo[Fo];if(null!==Do&&void 0!==Do)return Do;var jo=this.visibilityProperty,Vo=this._attached.get(Fo);return(this.trace&&log("createDelegate",Fo,Vo),jo&&!Vo[jo])?null:(Vo.index=Fo,Do=this.delegate(this,Vo),Wo[Fo]=Do,Do.view=this,Do.element.remove(),this.content.element.append(Do.element),Do.recursiveVisible=this.recursiveVisible&&Do.visible&&Do.visibleInView,Do)},le._discardItem=function(Fo){null===Fo||(this.focusedChild===Fo&&(this.focusedChild=null),Fo.discard())},le.itemAt=function(Fo,Wo){var Do=this.indexAt(Fo,Wo);return 0<=Do?this._items[Do]:null},le._updateScrollPositions=function(Fo,Wo,Do){this._setProperty("contentX",Fo),this._setProperty("contentY",Wo),this.content._updateScrollPositions(Fo,Wo,Do)},s.core._protoOnChanged(le,"model",function(Fo){this.trace&&log("model changed to ",Fo),this._detach(),this._modelUpdate.clear(),this._removeItems(0,this.count),this.count=0,this._scheduleLayout()}),s.core._protoOnChanged(le,"recursiveVisible",function(Fo){Fo&&this._scheduleLayout();var Wo=this;this._items.forEach(function(Do){null!==Do&&Wo._updateVisibilityForChild(Do,Fo)}),this._updateVisibilityForChild(this.content,Fo)}),s.core._protoOnChanged(le,"delegate",function(Fo){Fo&&(Fo.visible=!1)}),s.core._protoOnChanged(le,"currentIndex",function(){this.focusCurrent()}),s.core._protoOnChanged(le,"focusedChild",function(){var Wo=this._items.indexOf(this.focusedChild);0<=Wo&&(this.currentIndex=Wo)});var E=function(){this._scheduleLayout()};s.core._protoOnChanged(le,"height",E),s.core._protoOnChanged(le,"width",E),s.core._protoOnChanged(le,"contentX",function(Fo){this.content.x=-Fo}),s.core._protoOnChanged(le,"contentY",function(Fo){this.content.y=-Fo}),le.$c=function(Fo){var Wo=this;ie.$c.call(this,Fo.$b={});var Do=new s.core.BaseViewContent(Wo);Fo._this$content=Do,Do.$c(Fo.$c$_this$content={}),Wo.content=Do;var jo=new s.core.ListModel(Wo);Fo._this$model=jo,jo.$c(Fo.$c$_this$model={}),Wo.model=jo},le.$s=function(Fo){var Wo=this;ie.$s.call(this,Fo.$b),delete Fo.$b,Wo._removeUpdater("keyNavigationWraps"),Wo.keyNavigationWraps=!0;var Do=Fo._this$content;Do.$s(Fo.$c$_this$content),delete Fo.$c$_this$content;var jo=new s.core.Animation(Do),Vo={behavior__this_content_on_y:jo};jo.$c(Vo.$c$behavior__this_content_on_y={});var jo=Vo.behavior__this_content_on_y;jo.$s(Vo.$c$behavior__this_content_on_y),delete Vo.$c$behavior__this_content_on_y,jo._replaceUpdater("duration",function(){jo.duration=jo.parent.parent.animationDuration},[jo.parent.parent,"animationDuration"]),jo._replaceUpdater("easing",function(){jo.easing=jo.parent.parent.animationEasing},[jo.parent.parent,"animationEasing"]),Do.setAnimation("y",jo);var Yo=new s.core.Animation(Do),Xo={behavior__this_content_on_x:Yo};Yo.$c(Xo.$c$behavior__this_content_on_x={});var Yo=Xo.behavior__this_content_on_x;Yo.$s(Xo.$c$behavior__this_content_on_x),delete Xo.$c$behavior__this_content_on_x,Yo._replaceUpdater("duration",function(){Yo.duration=Yo.parent.parent.animationDuration},[Yo.parent.parent,"animationDuration"]),Yo._replaceUpdater("easing",function(){Yo.easing=Yo.parent.parent.animationEasing},[Yo.parent.parent,"animationEasing"]),Do.setAnimation("x",Yo);var qo=new s.core.Animation(Do),Ko={behavior__this_content_on_transform:qo};qo.$c(Ko.$c$behavior__this_content_on_transform={});var qo=Ko.behavior__this_content_on_transform;qo.$s(Ko.$c$behavior__this_content_on_transform),delete Ko.$c$behavior__this_content_on_transform,qo._replaceUpdater("duration",function(){qo.duration=qo.parent.parent.animationDuration},[qo.parent.parent,"animationDuration"]),qo._replaceUpdater("easing",function(){qo.easing=qo.parent.parent.animationEasing},[qo.parent.parent,"animationEasing"]),Do.setAnimation("transform",qo),Wo._removeUpdater("contentWidth"),Wo.contentWidth=1;var Go=Fo._this$model;Go.$s(Fo.$c$_this$model),delete Fo.$c$_this$model,Wo._removeUpdater("contentHeight"),Wo.contentHeight=1,Wo._removeUpdater("handleNavigationKeys"),Wo.handleNavigationKeys=!0};var ce=s.core.BaseView,se=ce.prototype,pe=s.core.GridView=function(){ce.apply(this,arguments)},he=pe.prototype=Object.create(se);he.constructor=pe,he.componentName="core.GridView",_.addProperty(he,"int","cellWidth",100),_.addProperty(he,"int","cellHeight",100),_.addProperty(he,"int","rows"),_.addProperty(he,"int","columns"),he.FlowLeftToRight=0,pe.FlowLeftToRight=0,he.FlowTopToBottom=1,pe.FlowTopToBottom=1,_.addProperty(he,"enum","flow"),he._updateOverflow=function(){if(this.nativeScrolling){var Fo=this.flow!==this.FlowLeftToRight,Wo={};Fo?(Wo["overflow-x"]="auto",Wo["overflow-y"]="hidden"):(Wo["overflow-x"]="hidden",Wo["overflow-y"]="auto"),this.style(Wo)}},he._layout=function(){var Fo=this._get("model",!0);if(this.recursiveVisible||this.offlineLayout){var Fo=this._attached;if(!Fo)return void this.layoutFinished();if(this.count=Fo.count,!this.count)return void this.layoutFinished();var Wo=this.flow==this.FlowLeftToRight,Do=this._items,jo=Do.length,Vo=this.width,Yo=this.height;this.trace&&log("layout "+jo+" into "+Vo+"x"+Yo+" @ "+this.content.x+","+this.content.y);for(var na,Xo=!1,qo=0,Ko=0,Go=this.content.x,Jo=this.content.y,Zo=Wo?function(){return Jo+Ko>=Yo}:function(){return Go+qo>=Vo},Qo=0,ea=this.cellWidth,ta=this.cellHeight,ra=ea+this.spacing,oa=ta+this.spacing,aa=0;aa<jo&&!Zo();++aa){if(na=this._items[aa],na||(na=this._createDelegate(aa),na&&(Xo=!0)),++Qo,na&&(na.viewX=qo,na.viewY=Ko),na){this.currentIndex!==aa||na.focused||(this.focusChild(na),this.contentFollowsCurrentItem&&this.positionViewAtIndex(aa));var ia=Wo?0<=Jo+Ko+na.height&&Jo+Ko<Yo:0<=Go+qo+na.width&&Go+qo<Vo;na.visibleInView=ia}Wo?(qo+=ra,0<qo&&qo+ea>Vo&&(qo=0,Ko+=oa)):(Ko+=oa,0<Ko&&Ko+ta>Yo&&(Ko=0,qo+=ra))}for(;aa<jo;++aa){var na=Do[aa];na&&(na.visibleInView=!1)}Wo?(this.columns=Math.floor((Vo+this.spacing)/(this.cellWidth+this.spacing)),this.rows=Math.floor((jo+this.columns-1)/this.columns),this.contentWidth=this.content.width=this.columns*(this.cellWidth+this.spacing)-this.spacing,this.contentHeight=this.content.height=this.rows*(this.cellHeight+this.spacing)-this.spacing):(this.rows=Math.floor((Yo+this.spacing)/(this.cellHeight+this.spacing)),this.columns=Math.floor((jo+this.rows-1)/this.rows),this.contentWidth=this.content.width=this.columns*(this.cellWidth+this.spacing)-this.spacing,this.contentHeight=this.content.height=this.rows*(this.cellHeight+this.spacing)-this.spacing),this.layoutFinished(),Xo&&this._context.scheduleComplete()}},he.__complete=function(){se.__complete.call(this),this._updateOverflow()},he.move=function(Fo,Wo){var jo,Vo,Do=this.flow==this.FlowLeftToRight;Do&&this.contentHeight>this.height?(Vo=this.contentY+Wo,0>Vo?Vo=0:Vo>this.contentHeight-this.height&&(Vo=this.contentHeight-this.height),this.contentY=Vo):!Do&&this.contentWidth>this.width&&(jo=this.contentX+Fo,0>jo?jo=0:jo>this.contentWidth-this.width&&(jo=this.contentWidth-this.width),this.contentX=jo)},he.positionViewAtIndex=function(Fo){var Wo=this.contentX,Do=this.contentY,jo=this.getItemPosition(Fo),Vo=jo[0],Yo=jo[1],Xo=jo[2],qo=jo[3],Ko=this.width,Go=this.height,Jo=this.flow==this.FlowLeftToRight;if(!Jo){if(Xo>Ko)return void(this.contentX=Vo-Ko/2+Xo/2);0>Vo-Wo?this.contentX=Vo:Vo-Wo+Xo>Ko&&(this.contentX=Vo+Xo-Ko)}else{if(qo>Go)return void(this.contentY=Yo-Go/2+qo/2);0>Yo-Do?this.contentY=Yo:Yo-Do+qo>Go&&(this.contentY=Yo+qo-Go)}},he.getItemPosition=function(Fo){var Do,jo,Wo=this.flow==this.FlowLeftToRight,Vo=this.cellWidth,Yo=this.cellHeight;if(Wo){if(0==this.columns)return[0,0,0,0];Do=Fo%this.columns*Vo,jo=Math.floor(Fo/this.columns)*Yo}else{if(0==this.rows)return[0,0,0,0];Do=Math.floor(Fo/this.rows)*Vo,jo=Fo%this.rows*Yo}return[Do,jo,Vo,Yo]},he.indexAt=function(Fo,Wo){Fo-=this.content.x,Wo-=this.content.y;var Do=this.flow==this.FlowLeftToRight;return Fo=Math.floor(Fo/(this.cellWidth+this.spacing)),Wo=Math.floor(Wo/(this.cellHeight+this.spacing)),Do?Wo*this.columns+Fo:Fo*this.rows+Wo};var E=function(){this._scheduleLayout()};s.core._protoOnChanged(he,"cellWidth",E),s.core._protoOnChanged(he,"cellHeight",E),s.core._protoOnChanged(he,"flow",function(){this._updateOverflow(),this._scheduleLayout()}),s.core._protoOnKey(he,"Key",function(Fo){if(!this.handleNavigationKeys)return!1;var Do=this.flow==this.FlowLeftToRight;if(Do)switch(Fo){case"Left":return(this.keyNavigationWraps||0!=this.currentIndex)&&(--this.currentIndex,!0);case"Right":return(this.keyNavigationWraps||this.currentIndex!=this.columns-1)&&(++this.currentIndex,!0);case"Up":return!this.keyNavigationWraps&&this.currentIndex<this.columns?!1:(this.currentIndex-=this.columns,!0);case"Down":return!this.keyNavigationWraps&&this.currentIndex>this.count-this.columns+1?!1:(this.currentIndex+=this.columns,!0);}else switch(Fo){case"Up":return(this.keyNavigationWraps||0!=this.currentIndex)&&(--this.currentIndex,!0);case"Down":return(this.keyNavigationWraps||this.currentIndex!=this.columns-1)&&(++this.currentIndex,!0);case"Left":return!this.keyNavigationWraps&&this.currentIndex<this.rows?!1:(this.currentIndex-=this.rows,!0);case"Right":return!this.keyNavigationWraps&&this.currentIndex>this.count-this.rows+1?!1:(this.currentIndex+=this.rows,!0);}});var _e=s.core.GridView,ge=_e.prototype,ue=s.src.Gallery=function(){_e.apply(this,arguments)},me=ue.prototype=Object.create(ge);me.constructor=ue,me.componentName="src.Gallery",me.$c=function(Fo){var Wo=this;ge.$c.call(this,Fo.$b={});var Do=new s.controls.experiment.NetworkRequest(Wo);Fo._this$child0=Do,Do.$c(Fo.$c$_this$child0={}),Do._setId("imagesRequest"),Wo.addChild(Do);var jo=new s.core.ProxyModel(Wo);Fo._this$model=jo,jo.$c(Fo.$c$_this$model={}),jo._setId("proxyModel");var Vo=new s.core.ListModel(jo);Fo._this_model$target=Vo,Vo.$c(Fo.$c$_this_model$target={}),Vo._setId("imagesModel"),jo.target=Vo,Wo.model=jo,Wo.delegate=function(Yo,Xo){var qo=new s.core.Image(Yo,Xo),Ko={delegate:qo};qo.$c(Ko.$c$delegate={}),_.addProperty(qo,"string","imageUrl");var Go=new s.core.HoverMixin(qo);Ko.delegate$child0=Go,Go.$c(Ko.$c$delegate$child0={}),Go._setId("hover"),qo.addChild(Go);var Jo=new s.core.Rectangle(qo);Ko.delegate$child1=Jo,Jo.$c(Ko.$c$delegate$child1={}),qo.addChild(Jo);var Zo=new s.core.Rectangle(qo);Ko.delegate$child2=Zo,Zo.$c(Ko.$c$delegate$child2={});var Qo=new s.core.Text(Zo);Ko.delegate_child2$child0=Qo,Qo.$c(Ko.$c$delegate_child2$child0={}),Qo._setId("descText"),Zo.addChild(Qo);var ea=new s.core.Column(Zo);Ko.delegate_child2$child1=ea,ea.$c(Ko.$c$delegate_child2$child1={});var ta=new s.controls.experiment.AbstractButton(ea);Ko.delegate_child2_child1$child0=ta,ta.$c(Ko.$c$delegate_child2_child1$child0={}),ea.addChild(ta);var ra=new s.controls.experiment.AbstractButton(ea);Ko.delegate_child2_child1$child1=ra,ra.$c(Ko.$c$delegate_child2_child1$child1={}),ea.addChild(ra),Zo.addChild(ea),qo.addChild(Zo),qo._setId("image");var qo=Ko.delegate;qo.$s(Ko.$c$delegate),delete Ko.$c$delegate,qo._replaceUpdater("source",function(){qo.source=qo.imageUrl},[qo,"imageUrl"]),qo._replaceUpdater("imageUrl",function(){qo.imageUrl=qo._get("webApp").serverUrl+"images/"+qo._get("model").file},[qo._get("_delegate"),"_row",qo._get("webApp"),"serverUrl"]),qo._replaceUpdater("height",function(){qo.height=qo.parent.cellHeight},[qo.parent,"cellHeight"]),qo._replaceUpdater("width",function(){qo.width=qo.parent.cellHeight},[qo.parent,"cellHeight"]),qo._removeUpdater("fillMode"),qo.fillMode=s.core.Image.prototype.PreserveAspectCrop;var Go=Ko.delegate$child0;Go.$s(Ko.$c$delegate$child0),delete Ko.$c$delegate$child0;var Jo=Ko.delegate$child1;Jo.$s(Ko.$c$delegate$child1),delete Ko.$c$delegate$child1,Jo._removeUpdater("color"),Jo.color="lightgray",Jo._replaceUpdater("opacity",function(){Jo.opacity=Jo._get("image").status!==s.core.Image.prototype.Ready},[Jo._get("image"),"status"]),Jo.anchors._removeUpdater("fill"),Jo.anchors.fill=Jo.parent;var oa=new s.core.Animation(Jo),aa={behavior_delegate_child1_on_opacity:oa};oa.$c(aa.$c$behavior_delegate_child1_on_opacity={});var oa=aa.behavior_delegate_child1_on_opacity;oa.$s(aa.$c$behavior_delegate_child1_on_opacity),delete aa.$c$behavior_delegate_child1_on_opacity,oa._removeUpdater("duration"),oa.duration=1e3,Jo.setAnimation("opacity",oa);var Zo=Ko.delegate$child2;Zo.$s(Ko.$c$delegate$child2),delete Ko.$c$delegate$child2,Zo._removeUpdater("opacity"),Zo.opacity=0.8,Zo._removeUpdater("color"),Zo.color="white",Zo.anchors._removeUpdater("margins"),Zo.anchors.margins=10,Zo._replaceUpdater("visible",function(){Zo.visible=Zo._get("hover").value},[Zo._get("hover"),"value"]),Zo._removeUpdater("radius"),Zo.radius=5,Zo.anchors._removeUpdater("fill"),Zo.anchors.fill=Zo.parent;var Qo=Ko.delegate_child2$child0;Qo.$s(Ko.$c$delegate_child2$child0),delete Ko.$c$delegate_child2$child0,Qo.anchors._removeUpdater("horizontalCenter"),Qo.anchors.horizontalCenter=Qo.parent,Qo._replaceUpdater("text",function(){Qo.text="<b>"+Qo._get("model").name+"</b><br><br><b>"+Qo._get("model").compress_size+"</b> MB<br>(original: <b>"+Qo._get("model").original_size+"</b> MB)<br><br>"+Qo._get("model").time},[Qo._get("_delegate"),"_row"]),Qo._replaceUpdater("width",function(){Qo.width=98/100*Qo.parent.width},[Qo.parent,"width"]),Qo._removeUpdater("horizontalAlignment"),Qo.horizontalAlignment=s.core.Text.prototype.AlignHCenter,Qo._removeUpdater("wrapMode"),Qo.wrapMode=s.core.Text.prototype.WrapAnywhere,Qo._removeUpdater("x"),Qo.x=5;var ea=Ko.delegate_child2$child1;ea.$s(Ko.$c$delegate_child2$child1),delete Ko.$c$delegate_child2$child1,ea.anchors._removeUpdater("horizontalCenter"),ea.anchors.horizontalCenter=ea.parent,ea.anchors._replaceUpdater("bottom",function(){ea.anchors.bottom=ea.parent.bottom},[ea.parent,"bottom"]);var ta=Ko.delegate_child2_child1$child0;ta.$s(Ko.$c$delegate_child2_child1$child0),delete Ko.$c$delegate_child2_child1$child0,ta._removeUpdater("text"),ta.text="Compress",ta._removeUpdater("height"),ta.height=35,ta._replaceUpdater("width",function(){ta.width=ta.parent.width},[ta.parent,"width"]),ta.on("clicked",function(){var na=this._get("image",!0);window.open(na.imageUrl,"_blank")}.bind(ta));var ra=Ko.delegate_child2_child1$child1;return ra.$s(Ko.$c$delegate_child2_child1$child1),delete Ko.$c$delegate_child2_child1$child1,ra._removeUpdater("text"),ra.text="Original",ra._removeUpdater("height"),ra.height=35,ra._replaceUpdater("width",function(){ra.width=ra.parent.width},[ra.parent,"width"]),ra.on("clicked",function(){var na=this._get("model",!0);window.open(na.original_url,"_blank")}.bind(ra)),qo},Wo._setId("images")},me.$s=function(Fo){var Wo=this;ge.$s.call(this,Fo.$b),delete Fo.$b,Wo._replaceUpdater("cellWidth",function(){Wo.cellWidth=Wo._get("webApp").mobile?0.9*Wo._get("webApp").width:250},[Wo._get("webApp"),"mobile",Wo._get("webApp"),"width"]),Wo._removeUpdater("spacing"),Wo.spacing=5,Wo._replaceUpdater("height",function(){Wo.height=Wo.contentHeight},[Wo,"contentHeight"]),Wo._replaceUpdater("width",function(){Wo.width=Wo.parent.width},[Wo.parent,"width"]);var Do=Fo._this$model;Do.$s(Fo.$c$_this$model),delete Fo.$c$_this$model;var jo=Fo._this_model$target;jo.$s(Fo.$c$_this_model$target),delete Fo.$c$_this_model$target,jo.__complete=function(){var Yo=this._get("imagesRequest",!0),Xo=this._get("filterName",!0),qo=this._get("filterSize",!0),Ko=this._get("proxyModel",!0),Go=this._get("filters",!0);s.core.ListModel.prototype.__complete.call(this),Yo.send(),Ko.setFilter(Jo=>Jo.name.includes(Xo.text)&&Jo.compress_size>=qo.text&&Jo.time>=Go.filterDateTime)}.bind(jo),Wo.anchors._removeUpdater("topMargin"),Wo.anchors.topMargin=20,Wo.anchors._replaceUpdater("top",function(){Wo.anchors.top=Wo._get("filters").bottom},[Wo._get("filters"),"bottom"]),Wo._replaceUpdater("cellHeight",function(){Wo.cellHeight=Wo.cellWidth},[Wo,"cellWidth"]);var Vo=Fo._this$child0;Vo.$s(Fo.$c$_this$child0),delete Fo.$c$_this$child0,Vo._replaceUpdater("url",function(){Vo.url=Vo._get("webApp").serverUrl+"all"},[Vo._get("webApp"),"serverUrl"]),Vo.on("error",function(){var Xo=this._get("errorRect",!0);Xo.visible=!0}.bind(Vo)),Vo.on("loaded",function(Yo){var Xo=this._get("imagesModel",!0);log(this.url);let qo=JSON.parse(Yo);Xo.append(qo)}.bind(Vo))};var ye=s.core.Object,fe=ye.prototype,be=s.core.Shadow=function(){ye.apply(this,arguments)},$e=be.prototype=Object.create(fe);$e.constructor=be,$e.componentName="core.Shadow",_.addProperty($e,"real","x"),_.addProperty($e,"real","y"),_.addProperty($e,"Color","color","black"),_.addProperty($e,"real","blur"),_.addProperty($e,"real","spread"),$e._empty=function(){return!this.x&&!this.y&&!this.blur&&!this.spread},$e._getFilterStyle=function(){var Fo=this.x+"px "+this.y+"px "+this.blur+"px ";return 0<this.spread&&(Fo+=this.spread+"px "),Fo+=s.core.Color.normalize(this.color),Fo};var E=function(){this.parent._updateStyle(!0)};s.core._protoOnChanged($e,"x",E),s.core._protoOnChanged($e,"spread",E),s.core._protoOnChanged($e,"y",E),s.core._protoOnChanged($e,"blur",E),s.core._protoOnChanged($e,"color",E);var ve=s.core.Layout,xe=ve.prototype,we=s.core.Row=function(){ve.apply(this,arguments)},Ce=we.prototype=Object.create(xe);Ce.constructor=we,Ce.componentName="core.Row",Ce._layout=function(){if(this.recursiveVisible||this.offlineLayout){var Fo=this.children,Wo=0,Do=0;this.count=Fo.length;for(var Vo,jo=0;jo<Fo.length;++jo)if(Vo=Fo[jo],"height"in Vo){var Yo=Vo.y+Vo.height;Yo>Do&&(Do=Yo),Vo.viewX=Wo,Vo.recursiveVisible&&(Wo+=Vo.width+this.spacing)}0<Wo&&(Wo-=this.spacing),this.contentWidth=Wo,this.contentHeight=Do}},Ce.addChild=function(Fo){s.core.Item.prototype.addChild.apply(this,arguments),Fo.onChanged("recursiveVisible",this._scheduleLayout.bind(this)),Fo.onChanged("width",this._scheduleLayout.bind(this)),Fo.onChanged("height",this._scheduleLayout.bind(this))},s.core._protoOnKey(Ce,"Key",function(Fo){return!!this.handleNavigationKeys&&("Left"===Fo?this.focusPrevChild():"Right"===Fo?this.focusNextChild():void 0)});var Pe=s.core.Item,Ae=Pe.prototype,Oe=s.core.BaseViewContent=function(){Pe.apply(this,arguments),this.style("will-change","scroll-position, transform, left, top")},Ie=Oe.prototype=Object.create(Ae);Ie.constructor=Oe,Ie.componentName="core.BaseViewContent",Ie._updateScrollPositions=function(Fo,Wo,Do){this._setProperty("x",-Fo),this._setProperty("y",-Wo),(void 0===Do||Do)&&this.parent._scheduleLayout()};var E=function(){this.parent._scheduleLayout()};s.core._protoOnChanged(Ie,"x",E),s.core._protoOnChanged(Ie,"y",E);var Se=s.core.Object,ke=Se.prototype,Ue=s.controls.experiment.NetworkRequest=function(){Se.apply(this,arguments),this._method="GET"},ze=Ue.prototype=Object.create(ke);ze.constructor=Ue,ze.componentName="controls.experiment.NetworkRequest",ze.loaded=s.core.createSignal("loaded"),ze.error=s.core.createSignal("error"),_.addProperty(ze,"bool","autoLoad"),_.addProperty(ze,"string","url"),_.addProperty(ze,"string","result"),_.addProperty(ze,"string","body"),ze.Error=0,Ue.Error=0,ze.Loading=1,Ue.Loading=1,ze.Loaded=2,Ue.Loaded=2,_.addProperty(ze,"enum","status"),ze.Get=0,Ue.Get=0,ze.Post=1,Ue.Post=1,ze.Put=2,Ue.Put=2,ze.Delete=3,Ue.Delete=3,_.addProperty(ze,"enum","method"),ze.toJson=function(){var Fo;try{Fo=JSON.parse(this.result)}catch(Wo){return log("Error loading from "+this.url),this.error(),[]}return this.result="",Fo},ze.send=function(){var Fo=new XMLHttpRequest,Wo=this,Do=this._context;Fo.addEventListener("error",Do.wrapNativeCallback(function(jo){Wo.status=this.Error,Wo.result="",Wo.error(jo)})),Fo.addEventListener("load",Do.wrapNativeCallback(function(){4==Fo.readyState&&200==Fo.status&&(Wo.result=Fo.responseText,Wo.status=this.Loaded,Wo.loaded(Wo.result))})),Fo.open(this._method,this.url),("POST"===this._method||"PUT"===this._method)&&this.body?Fo.send(this.body):Fo.send(),this.loading=!0},s.core._protoOnChanged(ze,"method",function(){switch(this.method){case this.GET:this._method="GET";break;case this.Post:this._method="POST";break;case this.Put:this._method="PUT";break;case this.Delete:this._method="DELETE";}});var Ee=s.core.Item,Be=Ee.prototype,Te=s.controls.experiment.MainItem=function(){Ee.apply(this,arguments),this.title=document.title},Le=Te.prototype=Object.create(Be);Le.constructor=Te,Le.componentName="controls.experiment.MainItem",_.addProperty(Le,"bool","active"),_.addProperty(Le,"Color","color"),_.addProperty(Le,"string","title"),_.addProperty(Le,"bool","mobile"),s.core._protoOnChanged(Le,"color",function(Fo){var Wo=this._get("mainItemBackground",!0);Wo.color=Fo,document.body.style.background=s.core.Color.normalize(Fo)}),s.core._protoOnChanged(Le,"title",function(Fo){document.title=Fo}),Le.$c=function(Fo){var Wo=this;Be.$c.call(this,Fo.$b={});var Do=new s.core.Rectangle(Wo);Fo._this$child0=Do,Do.$c(Fo.$c$_this$child0={}),Do._setId("mainItemBackground"),Wo.addChild(Do),Wo._setId("mainItemPrivateItem")},Le.$s=function(Fo){var Wo=this;Be.$s.call(this,Fo.$b),delete Fo.$b,Wo._replaceUpdater("active",function(){Wo.active=Wo._context.system.pageActive},[Wo._context.system,"pageActive"]),Wo._replaceUpdater("mobile",function(){Wo.mobile=Wo._context.system.device===s.core.System.prototype.Mobile||Wo.width<Wo.height},[Wo,"width",Wo,"height",Wo._context.system,"device"]),Wo.anchors._removeUpdater("fill"),Wo.anchors.fill=Wo.parent;var Do=Fo._this$child0;Do.$s(Fo.$c$_this$child0),delete Fo.$c$_this$child0,Do._removeUpdater("color"),Do.color="transparent",Do._removeUpdater("fixed"),Do.fixed=!0,Do.anchors._removeUpdater("fill"),Do.anchors.fill=Do.parent;var jo=new s.core.Animation(Do),Vo={behavior__this_child0_on_background:jo};jo.$c(Vo.$c$behavior__this_child0_on_background={});var jo=Vo.behavior__this_child0_on_background;jo.$s(Vo.$c$behavior__this_child0_on_background),delete Vo.$c$behavior__this_child0_on_background,jo._removeUpdater("duration"),jo.duration=500,Do.setAnimation("background",jo)};var Me=s.core.Object,Re=Me.prototype,Ne=s.core.Transform=function(){Me.apply(this,arguments),this._transforms={}},He=Ne.prototype=Object.create(Re);He.constructor=Ne,He.componentName="core.Transform",_.addProperty(He,"int","perspective"),_.addProperty(He,"int","translateX"),_.addProperty(He,"int","translateY"),_.addProperty(He,"int","translateZ"),_.addProperty(He,"real","rotateX"),_.addProperty(He,"real","rotateY"),_.addProperty(He,"real","rotateZ"),_.addProperty(He,"real","rotate"),_.addProperty(He,"real","scaleX"),_.addProperty(He,"real","scaleY"),_.addProperty(He,"real","skewX"),_.addProperty(He,"real","skewY"),He._updateTransform=function(){var Fo="";for(var Wo in this._transforms)Fo+=Wo,Fo+="("+this._transforms[Wo]+") ";this.parent.style("transform",Fo)},s.core._protoOnChanged(He,"perspective",function(Fo){this._transforms.perspective=Fo+"px",this._updateTransform()}),s.core._protoOnChanged(He,"rotate",function(Fo){this._transforms.rotate=Fo+"deg",this._updateTransform()}),s.core._protoOnChanged(He,"rotateX",function(Fo){this._transforms.rotateX=Fo+"deg",this._updateTransform()}),s.core._protoOnChanged(He,"rotateY",function(Fo){this._transforms.rotateY=Fo+"deg",this._updateTransform()}),s.core._protoOnChanged(He,"rotateZ",function(Fo){this._transforms.rotateZ=Fo+"deg",this._updateTransform()}),s.core._protoOnChanged(He,"scaleX",function(Fo){this._transforms.scaleX=Fo,this._updateTransform()}),s.core._protoOnChanged(He,"scaleY",function(Fo){this._transforms.scaleY=Fo,this._updateTransform()}),s.core._protoOnChanged(He,"skewX",function(Fo){this._transforms.skewX=Fo+"deg",this._updateTransform()}),s.core._protoOnChanged(He,"skewY",function(Fo){this._transforms.skewY=Fo+"deg",this._updateTransform()}),s.core._protoOnChanged(He,"translateX",function(Fo){this._transforms.translateX=Fo+"px",this._updateTransform()}),s.core._protoOnChanged(He,"translateY",function(Fo){this._transforms.translateY=Fo+"px",this._updateTransform()}),s.core._protoOnChanged(He,"translateZ",function(Fo){this._transforms.translateZ=Fo+"px",this._updateTransform()});var Fe=s.core.Object,We=Fe.prototype,De=s.core.Animation=function(){Fe.apply(this,arguments),this._disabled=0,this._native=!1},je=De.prototype=Object.create(We);je.constructor=De,je.componentName="core.Animation",_.addProperty(je,"int","delay",0),_.addProperty(je,"int","duration",200),_.addProperty(je,"bool","cssTransition",!0),_.addProperty(je,"bool","running",!1),_.addProperty(je,"string","easing","ease"),je._updateAnimation=function(){this._target&&this._target.updateAnimation(this._property,this)},je.active=function(){return this.enabled()&&0<this.duration},je.disable=function(){++this._disabled,this._updateAnimation()},je.enable=function(){--this._disabled,this._updateAnimation()},je.enabled=function(){return 0==this._disabled},je.complete=function(){},je.interpolate=function(Fo,Wo,Do){return Do*(Fo-Wo)+Wo};var E=function(){this._updateAnimation()};s.core._protoOnChanged(je,"easing",E),s.core._protoOnChanged(je,"duration",E),s.core._protoOnChanged(je,"delay",E),s.core._protoOnChanged(je,"cssTransition",E),s.core._protoOnChanged(je,"running",E);var Ve=s.core.Item,Ye=Ve.prototype,Xe=s.core.Loader=function(){Ve.apply(this,arguments)},qe=Xe.prototype=Object.create(Ye);qe.constructor=Xe,qe.componentName="core.Loader",qe.loaded=s.core.createSignal("loaded"),_.addProperty(qe,"string","source"),_.addProperty(qe,"Object","item"),qe.discard=function(){this.discardItem(),s.core.Item.prototype.discard.call(this)},qe.discardItem=function(){var Fo=this.item;Fo&&(Fo.discard(),Fo=null)},qe._load=function(){var Fo=this.source;if(Fo){log("loading "+Fo+"\u2026");for(var jo,Wo=Fo.split("."),Do=s;Wo.length;)if(jo=Wo.shift(),Do=Do[jo],void 0===Do)throw new Error("unknown component used: "+Fo);var Vo=new Do(this);Vo.__init(),this.item=Vo,this._context.scheduleComplete(),this._updateVisibilityForChild(this.item,this.recursiveVisible),this._tryFocus(),this.loaded()}},qe.__complete=function(){Ye.__complete.call(this),!this.item&&this.source&&this._load()},s.core._protoOnChanged(qe,"recursiveVisible",function(Fo){this.item&&this._updateVisibilityForChild(this.item,Fo)}),s.core._protoOnChanged(qe,"source",function(){this.discardItem(),this._load()});var Ke=s.core.Item,Ge=Ke.prototype,Je=s.core.Image=function(){Ke.apply(this,arguments),this._context.backend.initImage(this),this._scheduleLoad()},Ze=Je.prototype=Object.create(Ge);Ze.constructor=Je,Ze.componentName="core.Image",_.addProperty(Ze,"int","paintedWidth"),_.addProperty(Ze,"int","paintedHeight"),_.addProperty(Ze,"int","sourceWidth"),_.addProperty(Ze,"int","sourceHeight"),_.addProperty(Ze,"string","source"),_.addProperty(Ze,"bool","smooth",!0),_.addProperty(Ze,"bool","preload",!1),Ze.Null=0,Je.Null=0,Ze.Ready=1,Je.Ready=1,Ze.Loading=2,Je.Loading=2,Ze.Error=3,Je.Error=3,_.addProperty(Ze,"enum","status"),Ze.Stretch=0,Je.Stretch=0,Ze.PreserveAspectFit=1,Je.PreserveAspectFit=1,Ze.PreserveAspectCrop=2,Je.PreserveAspectCrop=2,Ze.Tile=3,Je.Tile=3,Ze.TileVertically=4,Je.TileVertically=4,Ze.TileHorizontally=5,Je.TileHorizontally=5,Ze.Pad=6,Je.Pad=6,_.addProperty(Ze,"enum","fillMode"),Ze._load=function(){this.status!==this.Ready&&(this.preload||this.recursiveVisible)&&this.source&&(this.status=this.Loading,this._context.backend.loadImage(this))},Ze._onError=function(){this.status=this.Error},Ze._scheduleLoad=function(){this._get("image",!0);(this.preload||this.recursiveVisible)&&this._context.delayedAction("image.load",this,this._load)},Ze.getClass=function(){this._get("image",!0);return"core-image"};var E=function(){this._scheduleLoad()};s.core._protoOnChanged(Ze,"width",E),s.core._protoOnChanged(Ze,"preload",E),s.core._protoOnChanged(Ze,"height",E),s.core._protoOnChanged(Ze,"recursiveVisible",E),s.core._protoOnChanged(Ze,"fillMode",E),s.core._protoOnChanged(Ze,"source",function(){this.status=this.Null,this._scheduleLoad()}),Ze.$c=function(Fo){this;Ge.$c.call(this,Fo.$b={})},Ze.$s=function(Fo){var Wo=this;Ge.$s.call(this,Fo.$b),delete Fo.$b,Wo._replaceUpdater("visible",function(){Wo.visible=!Wo.absoluteEnabled||Wo.visibleX&&Wo.visibleY},[Wo,"visibleX",Wo,"absoluteEnabled",Wo,"visibleY"]),Wo._replaceUpdater("height",function(){Wo.height=Wo.sourceHeight},[Wo,"sourceHeight"]),Wo._replaceUpdater("width",function(){Wo.width=Wo.sourceWidth},[Wo,"sourceWidth"])};var Qe=s.core.Item,et=Qe.prototype,tt=s.controls.core.BaseActivity=function(){Qe.apply(this,arguments)},rt=tt.prototype=Object.create(et);rt.constructor=tt,rt.componentName="controls.core.BaseActivity",rt.started=s.core.createSignal("started"),rt.stopped=s.core.createSignal("stopped"),_.addProperty(rt,"string","name"),_.addProperty(rt,"Item","manager"),rt.clear=function(){this.manager.clear()},rt.pop=function(){this.manager.pop()},rt.init=function(){},rt.push=function(Fo,Wo,Do){this.manager.push(Fo,Wo,Do)},rt.replaceTopActivity=function(Fo,Wo,Do){this.manager.replaceTopActivity(Fo,Wo,Do)},rt.setIntent=function(Fo,Wo){this.manager.setIntent(Fo,Wo)},rt.setState=function(Fo,Wo){this.manager.setState(Fo,Wo)},s.core._protoOnKey(rt,"Back",function(){return this.manager.pop(),!0}),rt.$c=function(Fo){this;et.$c.call(this,Fo.$b={})},rt.$s=function(Fo){var Wo=this;et.$s.call(this,Fo.$b),delete Fo.$b,Wo._removeUpdater("visible"),Wo.visible=!1,Wo._removeUpdater("manager"),Wo.manager=Wo.parent};var ot=s.controls.core.BaseActivity,at=ot.prototype,nt=s.controls.core.LazyActivity=function(){ot.apply(this,arguments)},it=nt.prototype=Object.create(at);it.constructor=nt,it.componentName="controls.core.LazyActivity",_.addProperty(it,"string","component"),it.init=function(){s.controls.core.BaseActivity.prototype.init.apply(this,arguments);var Fo=this.createActivity();Fo&&Fo.init.apply(Fo,arguments)},it.start=function(){this.createActivity().start(),this.visible=!0},it.stop=function(){this.visible=!1;var Fo=this.getActivity();Fo&&Fo.stop()},it.getActivity=function(){var Fo=this._get("loader",!0);return Fo.item},it.createActivity=function(){var Fo=this._get("loader",!0),Wo=Fo.item;if(!Wo){if(Fo.source=this.component,Wo=Fo.item,Wo.anchors.fill=this,this._context._processActions(),Wo.manager=this.manager,!Wo)throw new Error("can't create component "+this.component);var Do=this;Wo.on("started",function(){Do.started()}),Wo.on("stopped",function(){Do.stopped()})}return Fo.item},it.$c=function(Fo){var Wo=this;at.$c.call(this,Fo.$b={});var Do=new s.core.Loader(Wo);Fo._this$child0=Do,Do.$c(Fo.$c$_this$child0={}),Do._setId("loader"),Wo.addChild(Do)},it.$s=function(Fo){var Wo=this;at.$s.call(this,Fo.$b),delete Fo.$b,Wo.anchors._replaceUpdater("fill",function(){Wo.anchors.fill=Wo.manager},[Wo,"manager"]);var Do=Fo._this$child0;Do.$s(Fo.$c$_this$child0),delete Fo.$c$_this$child0,Do.anchors._replaceUpdater("fill",function(){Do.anchors.fill=Do.parent.manager},[Do.parent,"manager"])};var dt=s.core.Object,lt=dt.prototype,ct=s.controls.core.Paddings=function(){dt.apply(this,arguments)},st=ct.prototype=Object.create(lt);st.constructor=ct,st.componentName="controls.core.Paddings",_.addProperty(st,"int","top"),_.addProperty(st,"int","left"),_.addProperty(st,"int","right"),_.addProperty(st,"int","bottom"),_.addProperty(st,"int","all"),s.core._protoOnChanged(st,"bottom",function(Fo){this.parent.style("padding-bottom",Fo)}),s.core._protoOnChanged(st,"left",function(Fo){this.parent.style("padding-left",Fo)}),s.core._protoOnChanged(st,"right",function(Fo){this.parent.style("padding-right",Fo)}),s.core._protoOnChanged(st,"top",function(Fo){this.parent.style("padding-top",Fo)}),st.$c=function(Fo){this;lt.$c.call(this,Fo.$b={})},st.$s=function(Fo){var Wo=this;lt.$s.call(this,Fo.$b),delete Fo.$b,Wo._replaceUpdater("top",function(){Wo.top=Wo.all},[Wo,"all"]),Wo._replaceUpdater("right",function(){Wo.right=Wo.all},[Wo,"all"]),Wo._replaceUpdater("bottom",function(){Wo.bottom=Wo.all},[Wo,"all"]),Wo._replaceUpdater("left",function(){Wo.left=Wo.all},[Wo,"all"])};var pt=s.controls.input.BaseInput,ht=pt.prototype,_t=s.controls.input.TimeInput=function(){pt.apply(this,arguments),this.element.on("change",function(){this.value=this.element.dom.value}.bind(this))},gt=_t.prototype=Object.create(ht);gt.constructor=_t,gt.componentName="controls.input.TimeInput",_.addProperty(gt,"string","max"),_.addProperty(gt,"string","min"),_.addProperty(gt,"string","value"),s.core._protoOnChanged(gt,"max",function(Fo){this.element.dom.max=Fo}),s.core._protoOnChanged(gt,"min",function(Fo){this.element.dom.min=Fo}),gt.$c=function(Fo){this;ht.$c.call(this,Fo.$b={})},gt.$s=function(Fo){var Wo=this;ht.$s.call(this,Fo.$b),delete Fo.$b,Wo._removeUpdater("width"),Wo.width=75,Wo._removeUpdater("type"),Wo.type="time",Wo._removeUpdater("height"),Wo.height=20};var ut=s.core.Item,mt=ut.prototype,yt=s.core.Rectangle=function(){ut.apply(this,arguments),this._context.backend.initRectangle(this),this.style("background-color",s.core.Color.normalize(this.color))},ft=yt.prototype=Object.create(mt);{var bt=ft._propertyToStyle=Object.create(mt._propertyToStyle);bt.color="background-color"}ft.constructor=yt,ft.componentName="core.Rectangle",_.addLazyProperty(ft,"border",function(Fo,Wo){var Do=new s.core.Border(Fo,Wo),jo={lazy$border:Do};Do.$c(jo.$c$lazy$border={});var Do=jo.lazy$border;return Do.$s(jo.$c$lazy$border),delete jo.$c$lazy$border,Do}),_.addProperty(ft,"color","color","#ffffff"),_.addProperty(ft,"Gradient","gradient"),ft.toString=function(){return"Rectangle (color: "+this.color+", width: "+this.width+", height: "+this.height+", x: "+this.x+", y: "+this.y+")"},s.core._protoOnChanged(ft,"color",function(Fo){this.style("background-color",s.core.Color.normalize(Fo))});var $t=s.core.Rectangle,vt=$t.prototype,xt=s.src.ErrorRect=function(){$t.apply(this,arguments)},wt=xt.prototype=Object.create(vt);wt.constructor=xt,wt.componentName="src.ErrorRect",wt.$c=function(Fo){var Wo=this;vt.$c.call(this,Fo.$b={});var Do=new s.core.Text(Wo);Fo._this$child0=Do,Do.$c(Fo.$c$_this$child0={}),Wo.addChild(Do),Wo._setId("errorRect")},wt.$s=function(Fo){var Wo=this;vt.$s.call(this,Fo.$b),delete Fo.$b,Wo._removeUpdater("color"),Wo.color="darkred",Wo._removeUpdater("visible"),Wo.visible=!1,Wo._removeUpdater("fixed"),Wo.fixed=!0,Wo.anchors._removeUpdater("fill"),Wo.anchors.fill=Wo.parent;var Do=Fo._this$child0;Do.$s(Fo.$c$_this$child0),delete Fo.$c$_this$child0,Do._removeUpdater("color"),Do.color="white",Do._removeUpdater("text"),Do.text="Connection error<br>Please, reload page",Do.font._removeUpdater("bold"),Do.font.bold=!0,Do._removeUpdater("verticalAlignment"),Do.verticalAlignment=s.core.Text.prototype.AlignVCenter,Do._removeUpdater("wrapMode"),Do.wrapMode=s.core.Text.prototype.WordWrap,Do.font._removeUpdater("pixelSize"),Do.font.pixelSize=30,Do._removeUpdater("horizontalAlignment"),Do.horizontalAlignment=s.core.Text.prototype.AlignHCenter,Do.anchors._removeUpdater("fill"),Do.anchors.fill=Do.parent};var Ct=s.core.Object,Pt=Ct.prototype,At=s.core.Model=function(){Ct.apply(this,arguments)},Ot=At.prototype=Object.create(Pt);Ot.constructor=At,Ot.componentName="core.Model",Ot.reset=s.core.createSignal("reset"),Ot.rowsChanged=s.core.createSignal("rowsChanged"),Ot.rowsRemoved=s.core.createSignal("rowsRemoved"),Ot.rowsInserted=s.core.createSignal("rowsInserted"),_.addProperty(Ot,"int","count");var It=s.core.Object,St=It.prototype,kt=s.controls.core.PlaceHolder=function(){It.apply(this,arguments),this._placeholderClass=""},Ut=kt.prototype=Object.create(St);Ut.constructor=kt,Ut.componentName="controls.core.PlaceHolder",_.addProperty(Ut,"string","text"),_.addProperty(Ut,"Color","color"),_.addProperty(Ut,"Font","font"),Ut.getClass=function(){var Fo;return this._placeholderClass?Fo=this._placeholderClass:(Fo=this._placeholderClass=this._context.stylesheet.allocateClass("input"),this.parent.element.addClass(Fo)),Fo},Ut.setPlaceholderColor=function(Fo){var Wo=this.getClass(),Do=new s.core.Color(Fo).rgba();["::-webkit-input-placeholder","::-moz-placeholder",":-moz-placeholder",":-ms-input-placeholder"].forEach(function(Vo){try{this._context.stylesheet._addRule("."+Wo+Vo,"color: "+Do),log("added rule for ."+Wo+Vo)}catch(Yo){}}.bind(this))},s.core._protoOnChanged(Ut,"text",function(Fo){this.parent.element.setAttribute("placeholder",Fo)}),s.core._protoOnChanged(Ut,"color",function(Fo){this.setPlaceholderColor(Fo)}),Ut.$c=function(Fo){var Wo=this;St.$c.call(this,Fo.$b={});var Do=new s.controls.core.PlaceholderFont(Wo);Fo._this$font=Do,Do.$c(Fo.$c$_this$font={}),Wo.font=Do},Ut.$s=function(Fo){this;St.$s.call(this,Fo.$b),delete Fo.$b;var Do=Fo._this$font;Do.$s(Fo.$c$_this$font),delete Fo.$c$_this$font};var zt=s.controls.input.BaseInput,Et=zt.prototype,Bt=s.controls.input.TextInput=function(){zt.apply(this,arguments),this.element.on("input",function(){this.text=this.element.dom.value}.bind(this)),this.element.on("select",context.wrapNativeCallback(function(){this.selectionStart=this.element.dom.selectionStart,this.selectionEnd=this.element.dom.selectionEnd,this.selectedText=this.getText(this.selectionStart,this.selectionEnd)}.bind(this))),this.element.on("focus",context.wrapNativeCallback(function(){this.focused=!0}.bind(this))),this.element.on("blur",context.wrapNativeCallback(function(){this.focused=!1}.bind(this)))},Tt=Bt.prototype=Object.create(Et);Tt.constructor=Bt,Tt.componentName="controls.input.TextInput",_.addProperty(Tt,"string","text"),_.addProperty(Tt,"Validator","validator"),_.addProperty(Tt,"int","length"),_.addProperty(Tt,"string","selectedText"),_.addProperty(Tt,"int","selectionStart"),_.addProperty(Tt,"int","selectionEnd"),_.addProperty(Tt,"int","maximumLength"),_.addProperty(Tt,"bool","cursorVisible",!0),_.addProperty(Tt,"color","selectedTextColor","red"),Tt.Normal=0,Bt.Normal=0,Tt.Password=1,Bt.Password=1,Tt.NoEcho=2,Bt.NoEcho=2,Tt.PasswordEchoOnEdit=3,Bt.PasswordEchoOnEdit=3,_.addProperty(Tt,"enum","echoMode"),Tt.AlignLeft=0,Bt.AlignLeft=0,Tt.AlignRight=1,Bt.AlignRight=1,Tt.AlignHCenter=2,Bt.AlignHCenter=2,Tt.AlignJustify=3,Bt.AlignJustify=3,_.addProperty(Tt,"enum","horizontalAlignment"),Tt.copy=function(){document.execCommand("Copy")},Tt.cut=function(){document.execCommand("Cut")},Tt.selectAll=function(){this.element.dom.select()},Tt.clear=function(){this.text=""};var E=function(){};Tt.deselect=E,Tt.paste=E,Tt.selectWord=E,Tt.redo=E,Tt.insert=function(Fo,Wo){this.text=this.text.slice(0,Fo)+Wo+this.text.slice(Fo)},Tt.getText=function(Fo,Wo){return this.text.substring(Fo,Wo)},Tt.select=function(Fo,Wo){this.element.dom.focus(),this.element.dom.setSelectionRange(Fo,Wo)},Tt.remove=function(Fo,Wo){this.text=this.text.slice(0,Fo)+this.text.slice(Wo)},s.core._protoOnChanged(Tt,"text",function(Fo){Fo!=this.element.dom.value&&(this.element.dom.value=Fo),this.length=this.element.dom.textLength}),s.core._protoOnChanged(Tt,"selectedTextColor",function(){log("COLOR")}),s.core._protoOnChanged(Tt,"horizontalAlignment",function(Fo){Fo===this.AlignLeft?this.style("text-align","left"):Fo===this.AlignRight?this.style("text-align","right"):Fo===this.AlignHCenter?this.style("text-align","center"):Fo===this.AlignJustify?this.style("text-align","justify"):void 0}),s.core._protoOnChanged(Tt,"echoMode",function(Fo){Fo===this.Normal?this.type="text":Fo===this.Password?this.type="password":void 0}),s.core._protoOnChanged(Tt,"maximumLength",function(Fo){this.element.dom.maxLength=Fo}),s.core._protoOnChanged(Tt,"cursorVisible",function(){this.style("caret-color",s.core.normalizeColor("transparent"))}),Tt.$c=function(Fo){this;Et.$c.call(this,Fo.$b={})},Tt.$s=function(Fo){var Wo=this;Et.$s.call(this,Fo.$b),delete Fo.$b,Wo._removeUpdater("width"),Wo.width=173,Wo._removeUpdater("backgroundColor"),Wo.backgroundColor="transparent",Wo._removeUpdater("height"),Wo.height=20};var Lt=s.core.Layout,Mt=Lt.prototype,Rt=s.core.Column=function(){Lt.apply(this,arguments)},Nt=Rt.prototype=Object.create(Mt);Nt.constructor=Rt,Nt.componentName="core.Column",Nt._layout=function(){if(this.recursiveVisible||this.offlineLayout){var Fo=this.children,Wo=0,Do=0;this.count=Fo.length;for(var Vo,jo=0;jo<Fo.length;++jo)if(Vo=Fo[jo],"height"in Vo){var Yo=Vo.anchors.topMargin||Vo.anchors.margins,Xo=Vo.anchors.bottomMargin||Vo.anchors.margins,qo=Vo.x+Vo.width;qo>Do&&(Do=qo),Vo.viewY=Wo+Yo,Vo.recursiveVisible&&(Wo+=Vo.height+Yo+Xo+this.spacing)}0<Wo&&(Wo-=this.spacing),this.contentWidth=Do,this.contentHeight=Wo}},Nt.addChild=function(Fo){s.core.Item.prototype.addChild.apply(this,arguments),"height"in Fo&&(Fo.onChanged("height",this._scheduleLayout.bind(this)),Fo.onChanged("recursiveVisible",this._scheduleLayout.bind(this)),Fo.anchors.on("marginsUpdated",this._scheduleLayout.bind(this)))},s.core._protoOnKey(Nt,"Key",function(Fo){return!!this.handleNavigationKeys&&("Up"===Fo?this.focusPrevChild():"Down"===Fo?this.focusNextChild():void 0)});var Ht=s.core.Object,Ft=Ht.prototype,Wt=s.core.MousePressMixin=function(){Ht.apply(this,arguments),this.element=this.parent.element,this._bindPress(this.enabled)},Dt=Wt.prototype=Object.create(Ft);Dt.constructor=Wt,Dt.componentName="core.MousePressMixin",_.addProperty(Dt,"bool","enabled",!0),_.addProperty(Dt,"bool","pressed"),Dt._bindPress=function(Fo){Fo&&!this._mpmPressBinder&&(this._mpmPressBinder=new s.core.EventBinder(this.element),this._mpmPressBinder.on("mousedown",function(){this.pressed=!0}.bind(this)),this._mpmPressBinder.on("mouseup",function(){this.pressed=!1}.bind(this)),this._mpmPressBinder.on("mouseleave",function(){this.pressed=!1}.bind(this))),this._mpmPressBinder&&this._mpmPressBinder.enable(Fo)},s.core._protoOnChanged(Dt,"enabled",function(Fo){this._bindPress(Fo)});var jt=s.core.Item,Vt=jt.prototype,Yt=s.controls.experiment.TextInputMaterial=function(){jt.apply(this,arguments)},Xt=Yt.prototype=Object.create(Vt);Xt.constructor=Yt,Xt.componentName="controls.experiment.TextInputMaterial",_.addProperty(Xt,"var","textInput"),_.addProperty(Xt,"Color","materialColor","#009688"),s.core._protoOnChanged(Xt,"materialColor",function(){this._get("ti",!0)}),Xt.$c=function(Fo){var Wo=this;Vt.$c.call(this,Fo.$b={});var Do=new s.controls.input.TextInput(Wo);Fo._this$child0=Do,Do.$c(Fo.$c$_this$child0={}),Do._setId("ti"),Wo.addChild(Do);var jo=new s.core.Rectangle(Wo);Fo._this$child1=jo,jo.$c(Fo.$c$_this$child1={}),Wo.addChild(jo);var Vo=new s.core.HoverMixin(Wo);Fo._this$child2=Vo,Vo.$c(Fo.$c$_this$child2={}),Vo._setId("hover"),Wo.addChild(Vo),_.addAliasProperty(Wo,"echoMode",function(){return Wo._get("ti")},"echoMode"),_.addAliasProperty(Wo,"color",function(){return Wo._get("ti")},"color"),_.addAliasProperty(Wo,"text",function(){return Wo._get("ti")},"text"),_.addAliasProperty(Wo,"enabled",function(){return Wo._get("ti")},"enabled"),_.addAliasProperty(Wo,"font",function(){return Wo._get("ti")},"font"),_.addAliasProperty(Wo,"placeholder",function(){return Wo._get("ti")},"placeholder")},Xt.$s=function(Fo){var Wo=this;Vt.$s.call(this,Fo.$b),delete Fo.$b,Wo._removeUpdater("width"),Wo.width=120,Wo._replaceUpdater("textInput",function(){Wo.textInput=Wo._get("ti")},[Wo,"ti"]),Wo._replaceUpdater("height",function(){Wo.height=Wo._get("ti").height+15},[Wo._get("ti"),"height"]);var Do=Fo._this$child0;Do.$s(Fo.$c$_this$child0),delete Fo.$c$_this$child0,Do.font._removeUpdater("pixelSize"),Do.font.pixelSize=16,Do._replaceUpdater("width",function(){Do.width=Do.parent.width},[Do.parent,"width"]),Do._replaceUpdater("height",function(){Do.height=1.4*Do.font.pixelSize},[Do.font,"pixelSize"]);var jo=Fo._this$child1;jo.$s(Fo.$c$_this$child1),delete Fo.$c$_this$child1,jo._replaceUpdater("height",function(){jo.height=jo._get("hover").value||jo._get("ti").focused?2:1},[jo._get("hover"),"value",jo._get("ti"),"focused"]),jo._replaceUpdater("width",function(){jo.width=jo.parent.width},[jo.parent,"width"]),jo.anchors._replaceUpdater("bottomMargin",function(){jo.anchors.bottomMargin=8+0.1*jo._get("ti").font.pixelSize},[jo._get("ti").font,"pixelSize"]),jo._replaceUpdater("color",function(){jo.color=jo._get("hover").value?jo._get("ti").enabled?jo._get("ti").focused?jo.parent.materialColor:"black":"gray":jo._get("ti").enabled?jo._get("ti").focused?jo.parent.materialColor:"gray":"gray"},[jo._get("hover"),"value",jo._get("ti"),"focused",jo._get("ti"),"enabled",jo.parent,"materialColor"]),jo.anchors._replaceUpdater("bottom",function(){jo.anchors.bottom=jo.parent.bottom},[jo.parent,"bottom"]);var Vo=Fo._this$child2;Vo.$s(Fo.$c$_this$child2),delete Fo.$c$_this$child2};var qt=s.core.Object,Kt=qt.prototype,Gt=s.core.Font=function(){qt.apply(this,arguments),this._disabledFontChanged=!0,this.pointSize=Math.round(4*(0.75*this.pixelSize))/4,this._disabledFontChanged=!1},Jt=Gt.prototype=Object.create(Kt);Jt.constructor=Gt,Jt.componentName="core.Font",_.addProperty(Jt,"bool","bold"),_.addProperty(Jt,"string","family",$manifest$style$font$family),_.addProperty(Jt,"bool","italic"),_.addProperty(Jt,"bool","kerning",!0),_.addProperty(Jt,"real","letterSpacing"),_.addProperty(Jt,"bool","overline"),_.addProperty(Jt,"int","pixelSize",$manifest$style$font$pixelSize),_.addProperty(Jt,"real","pointSize"),_.addProperty(Jt,"bool","strike"),_.addProperty(Jt,"bool","strikeout"),_.addProperty(Jt,"bool","underline"),_.addProperty(Jt,"int","weight"),_.addProperty(Jt,"real","wordSpacing"),_.addProperty(Jt,"real","lineHeight",$manifest$style$font$lineHeight),Jt.MixedCase=0,Gt.MixedCase=0,Jt.AllUppercase=1,Gt.AllUppercase=1,Jt.AllLowercase=2,Gt.AllLowercase=2,Jt.SmallCaps=3,Gt.SmallCaps=3,Jt.Capitalize=4,Gt.Capitalize=4,_.addProperty(Jt,"enum","capitalization"),Jt.toString=function(){return"Font (family: "+this.family+", "+this.pixelSize+"px, "+this.pointSize+"pt)"},Jt._updateParentSize=function(){this.parent._updateSize(),this.parent.fontChanged&&this.parent.fontChanged()},Jt._updateTextDecoration=function(){var Fo=(this.underline?" underline":"")+(this.overline?" overline":"")+(this.strike||this.strikeout?" line-through":"");this.parent.style("text-decoration",Fo),this._updateParentSize()},s.core._protoOnChanged(Jt,"pixelSize",function(Fo){return this._disabledFontChanged?void 0:0>=Fo?(console.warn("Pixel size <= 0, must be greater than 0"),this._disabledFontChanged=!0,this.pixelSize=Math.round(1.32*this.pointSize),void(this._disabledFontChanged=!1)):void(this._disabledFontChanged=!0,this.pointSize=Math.round(4*(0.75*Fo))/4,this._disabledFontChanged=!1,this.parent.style("font-size",0<Fo?Fo+"px":""),this._updateParentSize())}),s.core._protoOnChanged(Jt,"capitalization",function(Fo){return 0>Fo||4<Fo?void console.warn("Font.capitalization: Invalid property assignment: unknown enumeration"):void(this.parent.style("text-transform","none"),this.parent.style("font-variant","normal"),Fo===this.AllUppercase?this.parent.style("text-transform","uppercase"):Fo===this.AllLowercase?this.parent.style("text-transform","lowercase"):Fo===this.SmallCaps?this.parent.style("font-variant","small-caps"):Fo===this.Capitalize?this.parent.style("text-transform","capitalize"):void 0,this._updateParentSize())}),s.core._protoOnChanged(Jt,"pointSize",function(Fo){return this._disabledFontChanged?void 0:0>=Fo?(console.warn("Point size <= 0, must be greater than 0"),this._disabledFontChanged=!0,this.pointSize=0.75*this.pixelSize,void(this._disabledFontChanged=!1)):void(this._disabledFontChanged=!0,this.pixelSize=Math.round(1.32*Fo),this._disabledFontChanged=!1,this.parent.style("font-size",0<Fo?Fo+"pt":""),this._updateParentSize())}),s.core._protoOnChanged(Jt,"kerning",function(Fo){log("kerning",Fo),this.parent.style("font-kerning",Fo?"auto":"none"),this._updateParentSize()});var E=function(){this._updateTextDecoration()};s.core._protoOnChanged(Jt,"overline",E),s.core._protoOnChanged(Jt,"underline",E),s.core._protoOnChanged(Jt,"family",function(Fo){this.parent.style("font-family",Fo),this._updateParentSize()}),s.core._protoOnChanged(Jt,"italic",function(Fo){this.parent.style("font-style",Fo?"italic":"normal"),this._updateParentSize()}),s.core._protoOnChanged(Jt,"weight",function(Fo){this.parent.style("font-weight",Fo),this._updateParentSize()}),s.core._protoOnChanged(Jt,"bold",function(Fo){this.parent.style("font-weight",Fo?"bold":"normal"),this._updateParentSize()}),s.core._protoOnChanged(Jt,"letterSpacing",function(Fo){this.parent.style("letter-spacing",Fo+"px"),this._updateParentSize()}),s.core._protoOnChanged(Jt,"lineHeight",function(Fo){this.parent.style("line-height",Fo),this._updateParentSize()}),s.core._protoOnChanged(Jt,"wordSpacing",function(Fo){this.parent.style("word-spacing",Fo+"px"),this._updateParentSize()}),s.core._protoOnChanged(Jt,"strikeout",function(Fo){this.strike=Fo,this._updateTextDecoration()}),s.core._protoOnChanged(Jt,"strike",function(Fo){this.strikeout=Fo,this._updateTextDecoration()});var Zt=s.core.Rectangle,Qt=Zt.prototype,er=s.src.IToolBar=function(){Zt.apply(this,arguments)},tr=er.prototype=Object.create(Qt);tr.constructor=er,tr.componentName="src.IToolBar",tr.$c=function(Fo){var Wo=this;Qt.$c.call(this,Fo.$b={});var Do=new s.core.Text(Wo);Fo._this$child0=Do,Do.$c(Fo.$c$_this$child0={}),Wo.addChild(Do);var jo=new s.src.Components.LanguageButton(Wo);Fo._this$child1=jo,jo.$c(Fo.$c$_this$child1={}),Wo.addChild(jo),Wo._setId("toolBar")},tr.$s=function(Fo){var Wo=this;Qt.$s.call(this,Fo.$b),delete Fo.$b,Wo._removeUpdater("opacity"),Wo.opacity=1,Wo._removeUpdater("fixed"),Wo.fixed=!0,Wo.effects.shadow._removeUpdater("blur"),Wo.effects.shadow.blur=6,Wo._removeUpdater("height"),Wo.height=50,Wo._replaceUpdater("width",function(){Wo.width=Wo.parent.width},[Wo.parent,"width"]),Wo.effects.shadow._removeUpdater("color"),Wo.effects.shadow.color="#d3d3d3",Wo.effects.shadow._removeUpdater("spread"),Wo.effects.shadow.spread=2,Wo._removeUpdater("z"),Wo.z=1,Wo.effects.shadow._removeUpdater("x"),Wo.effects.shadow.x=1,Wo.effects.shadow._removeUpdater("y"),Wo.effects.shadow.y=1;var Do=Fo._this$child0;Do.$s(Fo.$c$_this$child0),delete Fo.$c$_this$child0,Do.font._replaceUpdater("pixelSize",function(){Do.font.pixelSize=Do.parent.height-25},[Do.parent,"height"]),Do._replaceUpdater("text",function(){Do.text=s.qsTr("Image Compressor")},[Do._context,"language"]),Do.anchors._removeUpdater("centerIn"),Do.anchors.centerIn=Do.parent,Do.font._removeUpdater("bold"),Do.font.bold=!0;var jo=Fo._this$child1;jo.$s(Fo.$c$_this$child1),delete Fo.$c$_this$child1};var rr=s.core.Object,or=rr.prototype,ar=s.core.Border=function(){rr.apply(this,arguments)},nr=ar.prototype=Object.create(or);nr.constructor=ar,nr.componentName="core.Border",_.addProperty(nr,"int","width"),_.addProperty(nr,"color","color","black"),_.addLazyProperty(nr,"left",function(Fo,Wo){var Do=new s.core.BorderSide(Fo,Wo),jo={lazy$left:Do};Do.$c(jo.$c$lazy$left={});var Do=jo.lazy$left;return Do.$s(jo.$c$lazy$left),delete jo.$c$lazy$left,Do._removeUpdater("name"),Do.name="left",Do}),_.addLazyProperty(nr,"right",function(Fo,Wo){var Do=new s.core.BorderSide(Fo,Wo),jo={lazy$right:Do};Do.$c(jo.$c$lazy$right={});var Do=jo.lazy$right;return Do.$s(jo.$c$lazy$right),delete jo.$c$lazy$right,Do._removeUpdater("name"),Do.name="right",Do}),_.addLazyProperty(nr,"top",function(Fo,Wo){var Do=new s.core.BorderSide(Fo,Wo),jo={lazy$top:Do};Do.$c(jo.$c$lazy$top={});var Do=jo.lazy$top;return Do.$s(jo.$c$lazy$top),delete jo.$c$lazy$top,Do._removeUpdater("name"),Do.name="top",Do}),_.addLazyProperty(nr,"bottom",function(Fo,Wo){var Do=new s.core.BorderSide(Fo,Wo),jo={lazy$bottom:Do};Do.$c(jo.$c$lazy$bottom={});var Do=jo.lazy$bottom;return Do.$s(jo.$c$lazy$bottom),delete jo.$c$lazy$bottom,Do._removeUpdater("name"),Do.name="bottom",Do}),nr.None=0,ar.None=0,nr.Hidden=1,ar.Hidden=1,nr.Dotted=2,ar.Dotted=2,nr.Dashed=3,ar.Dashed=3,nr.Solid=4,ar.Solid=4,nr.Double=5,ar.Double=5,nr.Groove=6,ar.Groove=6,nr.Ridge=7,ar.Ridge=7,nr.Inset=8,ar.Inset=8,nr.Outset=9,ar.Outset=9,_.addProperty(nr,"enum","style",ar.Solid),nr.Inner=0,ar.Inner=0,nr.Outer=1,ar.Outer=1,nr.Center=2,ar.Center=2,_.addProperty(nr,"enum","type"),s.core._protoOnChanged(nr,"color",function(){var Wo=s.core.Color.normalize(this.color);this.parent.style("border-color",Wo)}),s.core._protoOnChanged(nr,"width",function(Fo){var Wo=this.parent;Wo.style("border-width",Fo),this.type==this.Outer?(Wo._borderXAdjust=-Fo,Wo._borderYAdjust=-Fo,Wo._setSizeAdjust()):this.type==this.Center&&(Wo._borderXAdjust=-Fo/2,Wo._borderYAdjust=-Fo/2,Wo._borderWidthAdjust=-Fo,Wo._borderHeightAdjust=-Fo,Wo._setSizeAdjust())}),s.core._protoOnChanged(nr,"type",function(Fo){var Wo;Fo===this.Inner?Wo="border-box":Fo===this.Outer||Fo===this.Center?Wo="content-box":void 0,this.parent.style("box-sizing",Wo)}),s.core._protoOnChanged(nr,"style",function(Fo){var Wo;Fo===this.None?Wo="none":Fo===this.Hidden?Wo="hidden":Fo===this.Dotted?Wo="dotted":Fo===this.Dashed?Wo="dashed":Fo===this.Solid?Wo="solid":Fo===this.Double?Wo="double":Fo===this.Groove?Wo="groove":Fo===this.Ridge?Wo="ridge":Fo===this.Inset?Wo="inset":Fo===this.Outset?Wo="outset":void 0,this.parent.style("border-style",Wo)});var ir=s.core.Object,dr=ir.prototype,lr=s.core.Timer=function(){ir.apply(this,arguments),this._trigger=this._context.wrapNativeCallback(this.triggered.bind(this))},cr=lr.prototype=Object.create(dr);cr.constructor=lr,cr.componentName="core.Timer",cr.triggered=s.core.createSignal("triggered"),_.addProperty(cr,"int","interval",1e3),_.addProperty(cr,"bool","repeat"),_.addProperty(cr,"bool","running"),_.addProperty(cr,"bool","triggeredOnStart"),cr._restart=function(){if(this._timeout&&(clearTimeout(this._timeout),this._timeout=void 0),this._interval&&(clearTimeout(this._interval),this._interval=void 0),!!this.running){var Fo=this,Wo=Fo._context;this.repeat?this._interval=setInterval(this._trigger,this.interval):this._timeout=setTimeout(this._trigger,this.interval)}},cr.__complete=function(){dr.__complete.call(this),this.running&&this.triggeredOnStart&&this.triggered()},cr.stop=function(){this.running=!1},cr.start=function(){this.running=!0},cr.restart=function(){this.stop(),this.start()},s.core._protoOnChanged(cr,"running",function(Fo){this._restart(),Fo&&this.triggeredOnStart&&(this._triggered=!1,this.triggered())});var E=function(){this._restart()};s.core._protoOnChanged(cr,"interval",E),s.core._protoOnChanged(cr,"repeat",E),s.core._protoOn(cr,"triggered",function(){this.repeat||this.triggeredOnStart&&!this._triggered||(this.running=!1),this._triggered=!0});var sr=s.controls.core.BaseActivity,pr=sr.prototype,hr=s.controls.core.Activity=function(){sr.apply(this,arguments)},_r=hr.prototype=Object.create(pr);_r.constructor=hr,_r.componentName="controls.core.Activity",_.addProperty(_r,"bool","handleDisplay"),_r.start=function(){this.handleDisplay&&this.style("display","block"),this.visible=!0,this.started()},_r.stop=function(){this.handleDisplay&&this.style("display","none"),this.visible=!1,this.stopped()},_r.getActivity=function(){return this};var gr=s.core.Object,ur=gr.prototype,mr=s.core.Effects=function(){gr.apply(this,arguments)},yr=mr.prototype=Object.create(ur);yr.constructor=mr,yr.componentName="core.Effects",_.addProperty(yr,"real","blur"),_.addProperty(yr,"real","grayscale"),_.addProperty(yr,"real","sepia"),_.addProperty(yr,"real","brightness"),_.addProperty(yr,"real","contrast"),_.addProperty(yr,"real","hueRotate"),_.addProperty(yr,"real","invert"),_.addProperty(yr,"real","saturate"),_.addLazyProperty(yr,"shadow",function(Fo,Wo){var Do=new s.core.Shadow(Fo,Wo),jo={lazy$shadow:Do};Do.$c(jo.$c$lazy$shadow={});var Do=jo.lazy$shadow;return Do.$s(jo.$c$lazy$shadow),delete jo.$c$lazy$shadow,Do}),yr._getFilterStyle=function(){var Fo=[];return this._addStyle(Fo,"blur","blur","px"),this._addStyle(Fo,"grayscale"),this._addStyle(Fo,"sepia"),this._addStyle(Fo,"brightness"),this._addStyle(Fo,"contrast"),this._addStyle(Fo,"hueRotate","hue-rotate","deg"),this._addStyle(Fo,"invert"),this._addStyle(Fo,"saturate"),Fo},yr._addStyle=function(Fo,Wo,Do,jo){var Vo=this[Wo];Vo&&Fo.push((Do||Wo)+"("+Vo+(jo||"")+") ")},yr._updateStyle=function(Fo){var Wo=this._getFilterStyle().join(""),Do=this.parent,jo={};jo["-webkit-filter"]=Wo,jo.filter=Wo,this.shadow&&(!this.shadow._empty()||Fo)&&(jo["box-shadow"]=this.shadow._getFilterStyle()),Do.style(jo)};var E=function(){this._updateStyle()};s.core._protoOnChanged(yr,"saturate",E),s.core._protoOnChanged(yr,"brightness",E),s.core._protoOnChanged(yr,"grayscale",E),s.core._protoOnChanged(yr,"sepia",E),s.core._protoOnChanged(yr,"invert",E),s.core._protoOnChanged(yr,"hueRotate",E),s.core._protoOnChanged(yr,"contrast",E),s.core._protoOnChanged(yr,"blur",E);var fr=s.core.Object,br=fr.prototype,$r=s.core.LocalStorage=function(){fr.apply(this,arguments);{var Do=s.core.__localStorageBackend;this.impl=Do().createLocalStorage(this)}},vr=$r.prototype=Object.create(br);vr.constructor=$r,vr.componentName="core.LocalStorage",vr._ensureErrCallback=function(Fo){return Fo||function(Wo){log(Wo.message)}},vr._ensureCallback=function(Fo,Wo){return Fo||function(Do){log("ignore value of",Wo,"gotten from storage:",Do)}},vr._checkNameValid=function(Fo){if(!Fo)throw new Error("empty name")},vr.getOrDefault=function(Fo,Wo,Do){this._checkNameValid(Fo),Wo=this._ensureCallback(Wo,Fo),this.impl.get(Fo,Wo,function(){Wo(Do)},this)},vr.get=function(Fo,Wo,Do){this._checkNameValid(Fo),this.impl.get(Fo,this._ensureCallback(Wo,Fo),this._ensureErrCallback(Do),this)},vr.erase=function(Fo,Wo){this._checkNameValid(Fo),this.impl.erase(Fo,this._ensureErrCallback(Wo),this)},vr.set=function(Fo,Wo,Do){this._checkNameValid(Fo),this.impl.set(Fo,Wo,this._ensureErrCallback(Do),this)};var xr=s.core.Rectangle,wr=xr.prototype,Cr=s.controls.experiment.AbstractButton=function(){xr.apply(this,arguments)},Pr=Cr.prototype=Object.create(wr);Pr.constructor=Cr,Pr.componentName="controls.experiment.AbstractButton",Pr.clicked=s.core.createSignal("clicked"),_.addProperty(Pr,"string","text"),_.addProperty(Pr,"bool","enabled",!0),_.addProperty(Pr,"int","spacing",5),_.addProperty(Pr,"Object","colors"),_.addProperty(Pr,"Object","icon"),Pr.None=0,Cr.None=0,Pr.Center=1,Cr.Center=1,Pr.Left=2,Cr.Left=2,Pr.Right=3,Cr.Right=3,_.addProperty(Pr,"enum","position",Cr.Center),Pr.$c=function(Fo){var Wo=this;wr.$c.call(this,Fo.$b={});var Do=new s.core.Row(Wo);Fo._this$child0=Do,Do.$c(Fo.$c$_this$child0={});var jo=new s.core.Image(Do);Fo._this_child0$child0=jo,jo.$c(Fo.$c$_this_child0$child0={}),Do.addChild(jo);var Vo=new s.core.Text(Do);Fo._this_child0$child1=Vo,Vo.$c(Fo.$c$_this_child0$child1={}),Vo._setId("privateAbstractButtonText"),Do.addChild(Vo),Do._setId("privateAbstractButtonRow"),Wo.addChild(Do);var Yo=new s.core.MousePressMixin(Wo);Fo._this$child1=Yo,Yo.$c(Fo.$c$_this$child1={}),Yo._setId("privateAbstractButtonPress"),Wo.addChild(Yo);var Xo=new s.core.HoverMixin(Wo);Fo._this$child2=Xo,Xo.$c(Fo.$c$_this$child2={}),Xo._setId("privateAbstractButtonHover"),Wo.addChild(Xo);var qo=new s.core.Object(Wo);Fo._this$colors=qo,qo.$c(Fo.$c$_this$colors={}),_.addProperty(qo,"string","pressed","darkgray"),_.addProperty(qo,"string","hovered","lightgray"),_.addProperty(qo,"string","default","transparent"),_.addProperty(qo,"string","text","black"),qo._setId("privateAbstractButtonColor"),Wo.colors=qo,Wo._setId("privateAbstractButton");var Ko=new s.core.Object(Wo);Fo._this$icon=Ko,Ko.$c(Fo.$c$_this$icon={}),_.addProperty(Ko,"string","source"),_.addProperty(Ko,"int","width"),_.addProperty(Ko,"int","height",0),_.addProperty(Ko,"real","opacity",1),Ko._setId("privateAbstractButtonIcon"),Wo.icon=Ko,_.addAliasProperty(Wo,"font",function(){return Wo._get("privateAbstractButtonText")},"font"),_.addAliasProperty(Wo,"pressed",function(){return Wo._get("privateAbstractButtonPress")},"pressed"),_.addAliasProperty(Wo,"hovered",function(){return Wo._get("privateAbstractButtonHover")},"value")},Pr.$s=function(Fo){var Wo=this;wr.$s.call(this,Fo.$b),delete Fo.$b,Wo._replaceUpdater("color",function(){Wo.color=Wo.hovered&&Wo.enabled?Wo.pressed?Wo.colors.pressed:Wo.colors.hovered:Wo.colors.default},[Wo,"enabled",Wo.colors,"pressed",Wo,"hovered",Wo.colors,"default",Wo.colors,"hovered",Wo,"pressed"]),Wo._removeUpdater("height"),Wo.height=45,Wo._replaceUpdater("width",function(){Wo.width=Wo._get("privateAbstractButtonRow").width+15},[Wo._get("privateAbstractButtonRow"),"width"]);var Do=Fo._this$colors;Do.$s(Fo.$c$_this$colors),delete Fo.$c$_this$colors;var jo=Fo._this$icon;jo.$s(Fo.$c$_this$icon),delete Fo.$c$_this$icon,jo._replaceUpdater("width",function(){jo.width=jo.parent.height},[jo.parent,"height"]);var Vo=Fo._this$child0;Vo.$s(Fo.$c$_this$child0),delete Fo.$c$_this$child0,Vo.anchors._removeUpdater("rightMargin"),Vo.anchors.rightMargin=7,Vo.anchors._replaceUpdater("verticalCenter",function(){Vo.anchors.verticalCenter=Vo._get("privateAbstractButton").position===Vo.parent.Center?null:Vo.parent.verticalCenter},[Vo.parent,"verticalCenter",Vo.parent,"Center",Vo._get("privateAbstractButton"),"position"]),Vo._replaceUpdater("spacing",function(){Vo.spacing=Vo._get("privateAbstractButtonText").text&&Vo._get("privateAbstractButtonIcon").source?Vo._get("privateAbstractButton").spacing:0},[Vo._get("privateAbstractButtonText"),"text",Vo._get("privateAbstractButtonIcon"),"source",Vo._get("privateAbstractButton"),"spacing"]),Vo.anchors._removeUpdater("leftMargin"),Vo.anchors.leftMargin=7,Vo.anchors._replaceUpdater("right",function(){Vo.anchors.right=Vo._get("privateAbstractButton").position===Vo.parent.Right?Vo.parent.right:null},[Vo.parent,"Right",Vo.parent,"right",Vo._get("privateAbstractButton"),"position"]),Vo.anchors._replaceUpdater("centerIn",function(){Vo.anchors.centerIn=Vo._get("privateAbstractButton").position===Vo.parent.Center?Vo.parent:null},[Vo.parent,"Center",Vo._get("privateAbstractButton"),"position"]),Vo.anchors._replaceUpdater("left",function(){Vo.anchors.left=Vo._get("privateAbstractButton").position===Vo.parent.Left?Vo.parent.left:null},[Vo.parent,"Left",Vo._get("privateAbstractButton"),"position",Vo.parent,"left"]);var Yo=Fo._this_child0$child0;Yo.$s(Fo.$c$_this_child0$child0),delete Fo.$c$_this_child0$child0,Yo._replaceUpdater("opacity",function(){Yo.opacity=Yo._get("privateAbstractButtonIcon").opacity},[Yo._get("privateAbstractButtonIcon"),"opacity"]),Yo._replaceUpdater("source",function(){Yo.source=Yo._get("privateAbstractButtonIcon").source},[Yo._get("privateAbstractButtonIcon"),"source"]),Yo.anchors._replaceUpdater("verticalCenter",function(){Yo.anchors.verticalCenter=Yo.parent.verticalCenter},[Yo.parent,"verticalCenter"]),Yo._replaceUpdater("height",function(){Yo.height=Yo._get("privateAbstractButtonIcon").height?Yo._get("privateAbstractButtonIcon").height:Yo.source?Yo.sourceHeight:0},[Yo,"sourceHeight",Yo._get("privateAbstractButtonIcon"),"height",Yo,"source"]),Yo._replaceUpdater("width",function(){Yo.width=Yo.source?Yo._get("privateAbstractButtonIcon").width:0},[Yo._get("privateAbstractButtonIcon"),"width",Yo,"source"]),Yo._replaceUpdater("fillMode",function(){Yo.fillMode=Yo._get("privateAbstractButtonIcon").height?s.core.Image.prototype.Stretch:s.core.Image.prototype.PreserveAspectFit},[Yo._get("privateAbstractButtonIcon"),"height"]);var Xo=Fo._this_child0$child1;Xo.$s(Fo.$c$_this_child0$child1),delete Fo.$c$_this_child0$child1,Xo._replaceUpdater("color",function(){Xo.color=Xo._get("privateAbstractButtonColor").text},[Xo._get("privateAbstractButtonColor"),"text"]),Xo._replaceUpdater("text",function(){Xo.text=Xo._get("privateAbstractButton").text},[Xo._get("privateAbstractButton"),"text"]),Xo.anchors._replaceUpdater("verticalCenter",function(){Xo.anchors.verticalCenter=Xo.parent.verticalCenter},[Xo.parent,"verticalCenter"]);var qo=Fo._this$child1;qo.$s(Fo.$c$_this$child1),delete Fo.$c$_this$child1,qo.onChanged("pressed",function(Go){Go&&this.parent.clicked()}.bind(qo));var Ko=Fo._this$child2;Ko.$s(Fo.$c$_this$child2),delete Fo.$c$_this$child2,Ko._removeUpdater("cursor"),Ko.cursor="pointer"};var Ar=s.core.Object,Or=Ar.prototype,Ir=s.core.HoverMixin=function(){Ar.apply(this,arguments),this.element=this.parent.element,this.parent.style("cursor",this.cursor),this._bindHover(this.enabled)},Sr=Ir.prototype=Object.create(Or);Sr.constructor=Ir,Sr.componentName="core.HoverMixin",_.addProperty(Sr,"bool","value"),_.addProperty(Sr,"bool","enabled",!0),_.addProperty(Sr,"string","cursor"),Sr._bindHover=function(Fo){Fo&&!this._hmHoverBinder&&(this._hmHoverBinder=new s.core.EventBinder(this.parent.element),this._context.backend.capabilities.mouseEnterLeaveSupported?(this._hmHoverBinder.on("mouseenter",function(){this.value=!0}.bind(this)),this._hmHoverBinder.on("mouseleave",function(){this.value=!1}.bind(this))):(this._hmHoverBinder.on("mouseover",function(){this.value=!0}.bind(this)),this._hmHoverBinder.on("mouseout",function(){this.value=!1}.bind(this)))),this._hmHoverBinder&&this._hmHoverBinder.enable(Fo)},s.core._protoOnChanged(Sr,"cursor",function(Fo){this._get("cursor",!0);this.parent.style("cursor",Fo)}),s.core._protoOnChanged(Sr,"enabled",function(Fo){this._bindHover(Fo)});var kr=s.controls.experiment.MainItem,Ur=kr.prototype,zr=s.src.UiCompress=function(){kr.apply(this,arguments),this.serverUrl=window.location.href.includes("file")?"http://localhost:3000/":"./"},Er=zr.prototype=Object.create(Ur);Er.constructor=zr,Er.componentName="src.UiCompress",_.addProperty(Er,"string","serverUrl"),Er.$c=function(Fo){var Wo=this;Ur.$c.call(this,Fo.$b={});var Do=new s.src.IToolBar(Wo);Fo._this$child0=Do,Do.$c(Fo.$c$_this$child0={}),Wo.addChild(Do);var jo=new s.core.Item(Wo);Fo._this$child1=jo,jo.$c(Fo.$c$_this$child1={});var Vo=new s.src.CompressInput(jo);Fo._this_child1$child0=Vo,Vo.$c(Fo.$c$_this_child1$child0={}),jo.addChild(Vo);var Yo=new s.src.Filters(jo);Fo._this_child1$child1=Yo,Yo.$c(Fo.$c$_this_child1$child1={}),jo.addChild(Yo);var Xo=new s.core.Text(jo);Fo._this_child1$child2=Xo,Xo.$c(Fo.$c$_this_child1$child2={}),jo.addChild(Xo);var qo=new s.src.Gallery(jo);Fo._this_child1$child3=qo,qo.$c(Fo.$c$_this_child1$child3={}),jo.addChild(qo),Wo.addChild(jo);var Ko=new s.core.LocalStorage(Wo);Fo._this$child2=Ko,Ko.$c(Fo.$c$_this$child2={}),Ko._setId("localStorage"),Wo.addChild(Ko);var Go=new s.src.ErrorRect(Wo);Fo._this$child3=Go,Go.$c(Fo.$c$_this$child3={}),Wo.addChild(Go),Wo._setId("webApp")},Er.$s=function(Fo){var Wo=this;Ur.$s.call(this,Fo.$b),delete Fo.$b,Wo._replaceUpdater("title",function(){Wo.title=s.qsTr("Image Compressor")},[Wo._context,"language"]);var Do=Fo._this$child0;Do.$s(Fo.$c$_this$child0),delete Fo.$c$_this$child0;var jo=Fo._this$child1;jo.$s(Fo.$c$_this$child1),delete Fo.$c$_this$child1,jo._replaceUpdater("width",function(){jo.width=97/100*jo.parent.width},[jo.parent,"width"]),jo.anchors._replaceUpdater("top",function(){jo.anchors.top=jo._get("toolBar").bottom},[jo._get("toolBar"),"bottom"]),jo.anchors._removeUpdater("horizontalCenter"),jo.anchors.horizontalCenter=jo.parent,jo.anchors._removeUpdater("topMargin"),jo.anchors.topMargin=15,jo.anchors._replaceUpdater("bottom",function(){jo.anchors.bottom=jo.parent.bottom},[jo.parent,"bottom"]);var Vo=Fo._this_child1$child0;Vo.$s(Fo.$c$_this_child1$child0),delete Fo.$c$_this_child1$child0;var Yo=Fo._this_child1$child1;Yo.$s(Fo.$c$_this_child1$child1),delete Fo.$c$_this_child1$child1;var Xo=Fo._this_child1$child2;Xo.$s(Fo.$c$_this_child1$child2),delete Fo.$c$_this_child1$child2,Xo._replaceUpdater("text",function(){Xo.text="<b>"+Xo._get("imagesModel").count+"</b> images"+(Xo._get("filters").isSearch?" | <b>"+Xo._get("proxyModel").count+"</b> matches":"")},[Xo._get("imagesModel"),"count",Xo._get("filters"),"isSearch",Xo._get("proxyModel"),"count"]),Xo.anchors._replaceUpdater("top",function(){Xo.anchors.top=Xo._get("filters").bottom},[Xo._get("filters"),"bottom"]);var qo=Fo._this_child1$child3;qo.$s(Fo.$c$_this_child1$child3),delete Fo.$c$_this_child1$child3;var Ko=Fo._this$child2;Ko.$s(Fo.$c$_this$child2),delete Fo.$c$_this$child2;var Go=Fo._this$child3;Go.$s(Fo.$c$_this$child3),delete Fo.$c$_this$child3,Go._removeUpdater("fixed"),Go.fixed=!0,Go.anchors._removeUpdater("fill"),Go.anchors.fill=Go.parent};var Br=s.core.Item,Tr=Br.prototype,Lr=s.core.Context=function(){Br.apply(this,arguments),this.options=arguments[2],this.l10n=this.options.l10n||{},this._local.context=this,this._context=this,this._started=!1,this._completed=!1,this._processingActions=!1,this._delayedActions=[],this._completedObjects=[],this._stylesRegistered={},this._asyncInvoker=s.core.safeCall(this,[],function(Do){log("async action failed:",Do,Do.stack)}),this.backend=s._backend(),this._init(),this._onCompleted(this),document.documentElement.style.overflowY="auto",document.documentElement.style.overflowX="hidden",window.addEventListener("scroll",function(){this._updateContentScroll()}.bind(this))},Mr=Lr.prototype=Object.create(Tr);Mr.constructor=Lr,Mr.componentName="core.Context",Mr.scrolling=s.core.createSignal("scrolling"),_.addProperty(Mr,"int","scrollY"),_.addProperty(Mr,"int","keyProcessDelay"),_.addProperty(Mr,"bool","fullscreen"),_.addProperty(Mr,"string","language"),_.addProperty(Mr,"System","system"),_.addProperty(Mr,"Location","location"),_.addProperty(Mr,"Stylesheet","stylesheet"),_.addProperty(Mr,"string","buildIdentifier","Powered by PureQML No-Partnership Edition Engine"),_.addProperty(Mr,"bool","atXBeginning"),_.addProperty(Mr,"bool","atXEnd"),_.addProperty(Mr,"bool","atYBeginning"),_.addProperty(Mr,"bool","atYEnd"),_.addProperty(Mr,"int","contentX"),_.addProperty(Mr,"int","contentY"),_.addProperty(Mr,"int","contentHeight"),_.addProperty(Mr,"int","contentWidth"),_.addProperty(Mr,"int","contentMaxX"),_.addProperty(Mr,"int","contentMaxY"),Mr.ScrollBarAsNeeded=0,Lr.ScrollBarAsNeeded=0,Mr.ScrollBarAlwaysOff=1,Lr.ScrollBarAlwaysOff=1,Mr.ScrollBarAlwaysOn=2,Lr.ScrollBarAlwaysOn=2,_.addProperty(Mr,"enum","horizontalScrollBarPolicy",Lr.ScrollBarAlwaysOff),Mr.ScrollBarAsNeeded=0,Lr.ScrollBarAsNeeded=0,Mr.ScrollBarAlwaysOff=1,Lr.ScrollBarAlwaysOff=1,Mr.ScrollBarAlwaysOn=2,Lr.ScrollBarAlwaysOn=2,_.addProperty(Mr,"enum","verticalScrollBarPolicy"),Mr._processActions=function(){if(this._started&&!this._processingActions){this._processingActions=!0;for(var Wo,Fo=this._asyncInvoker;this._delayedActions.length||this._completedObjects.length;){Wo=this._delayedActions,this._delayedActions=[];for(var Do=0,jo=Wo.length;Do<jo;++Do)Fo(Wo[Do]);var Vo=this._completedObjects;this._completedObjects=[];for(var Yo,Do=0,jo=Vo.length;Do<jo;++Do){Yo=Vo[Do];try{Yo.__complete()}catch(Xo){log("onCompleted failed",Xo,Xo.stack)}}}this._processingActions=!1,this.backend.tick(this)}},Mr._init=function(){log("Context: initializing..."),new this.backend.init(this)},Mr._run=function(){log("Context: signalling layout"),this.visibleInView=!0,this.newBoundingBox(),log("Context: calling completed()"),this._started=!0,this._processActions(),this._completed=!0},Mr.init=function(){this.__init(),this.backend.initSystem(this.system)},Mr.run=function(){this.backend.run(this,this._run.bind(this))},Mr._updateContentScroll=function(){this.contentX=window.pageXOffset,this.contentY=window.pageYOffset,this.contentHeight=document.documentElement.scrollHeight,this.contentWidth=document.documentElement.scrollWidth,this.scrolling()},Mr.scheduleComplete=function(){this.delayedAction("completed",this,this._processActions)},Mr.__complete=function(){var Fo=this._get("hackScrollTimerToDelete",!0);Tr.__complete.call(this),Fo.start()},Mr.scheduleAction=function(Fo){this._delayedActions.push(Fo)},Mr.wrapNativeCallback=function(Fo){var Wo=this;return function(){try{var Do=Fo.apply(this,arguments);return Wo._processActions(),Do}catch(jo){throw Wo._processActions(),jo}}},Mr.processKey=function(Fo){for(var Vo,Wo=_.forEach(this,s.core.Item.prototype._enqueueNextChildInFocusChain,[]),Do=Wo.length,jo=0;jo<Do;++jo)if(Vo=Wo[jo],Vo._processKey(Fo))return!0;return!1},Mr.start=function(Fo){return this.children.push(Fo),Fo.__init(),log("Context: created instance"),Fo},Mr.registerStyle=function(Fo,Wo,Do){Do=this.mangleClass(Do);var jo=Do?Wo+"."+Do:Wo;jo in this._stylesRegistered||(Fo.registerStyle(this.stylesheet,jo),this._stylesRegistered[jo]=!0)},Mr.mangleClass=function(Fo){return $manifest$html5$prefix+Fo},Mr.delayedAction=function(Fo,Wo,Do,jo){var Vo=Wo._registeredDelayedActions;if(void 0===Vo&&(Vo=Wo._registeredDelayedActions={}),!0!==Vo[Fo]){Vo[Fo]=!0;var Yo=function(){Vo[Fo]=!1,Do.call(Wo)};0<jo?setTimeout(Yo,jo):0===jo?this.backend.requestAnimationFrame(Yo):this.scheduleAction(Yo)}},Mr._onCompleted=function(Fo){this._completedObjects.push(Fo)},Mr.createElement=function(Fo,Wo){return this.backend.createElement(this,Fo,Wo)},Mr.qsTr=function(Fo){var Wo=arguments,Do=this.language,jo=this.l10n[Do]||{},Vo=jo[Fo]||{};for(var Yo in Vo){Fo=Vo[Yo];break}return Fo.replace(/%(\d+)/,function(Xo,qo){return Wo[qo]})},Mr.scroll=function(Fo,Wo){window.scroll({left:Fo,top:Wo,behavior:"smooth"})},s.core._protoOnChanged(Mr,"horizontalScrollBarPolicy",function(Fo){Fo===s.controls.experiment.MainItem.prototype.ScrollBarAsNeeded?document.documentElement.style.overflowX="auto":Fo===s.controls.experiment.MainItem.prototype.ScrollBarAlwaysOn?document.documentElement.style.overflowX="visible":Fo===s.controls.experiment.MainItem.prototype.ScrollBarAlwaysOff?document.documentElement.style.overflowX="hidden":void 0}),s.core._protoOnChanged(Mr,"verticalScrollBarPolicy",function(Fo){Fo===s.controls.experiment.MainItem.prototype.ScrollBarAsNeeded?document.documentElement.style.overflowY="auto":Fo===s.controls.experiment.MainItem.prototype.ScrollBarAlwaysOn?document.documentElement.style.overflowY="visible":Fo===s.controls.experiment.MainItem.prototype.ScrollBarAlwaysOff?document.documentElement.style.overflowY="hidden":void 0}),s.core._protoOnChanged(Mr,"fullscreen",function(Fo){Fo?this.backend.enterFullscreenMode(this.element):this.backend.exitFullscreenMode()}),Mr.$c=function(Fo){var Wo=this;Tr.$c.call(this,Fo.$b={});var Do=new s.core.Timer(Wo);Fo._this$child0=Do,Do.$c(Fo.$c$_this$child0={}),Do._setId("hackScrollTimerToDelete"),Wo.addChild(Do);var jo=new s.core.System(Wo);Fo._this$system=jo,jo.$c(Fo.$c$_this$system={}),Wo.system=jo;var Vo=new s.html5.Stylesheet(Wo);Fo._this$stylesheet=Vo,Vo.$c(Fo.$c$_this$stylesheet={}),Wo.stylesheet=Vo;var Yo=new s.core.Location(Wo);Fo._this$location=Yo,Yo.$c(Fo.$c$_this$location={}),Wo.location=Yo},Mr.$s=function(Fo){var Wo=this;Tr.$s.call(this,Fo.$b),delete Fo.$b,Wo._replaceUpdater("contentMaxX",function(){Wo.contentMaxX=Wo.contentWidth-Wo.width},[Wo,"contentWidth",Wo,"width"]),Wo._replaceUpdater("atXEnd",function(){Wo.atXEnd=Wo.contentX>=Wo.contentMaxX},[Wo,"contentMaxX",Wo,"contentX"]),Wo._replaceUpdater("contentMaxY",function(){Wo.contentMaxY=Wo.contentHeight-Wo.height},[Wo,"height",Wo,"contentHeight"]);var Do=Fo._this$system;Do.$s(Fo.$c$_this$system),delete Fo.$c$_this$system,Wo._replaceUpdater("atYEnd",function(){Wo.atYEnd=Wo.contentY>=Wo.contentMaxY},[Wo,"contentY",Wo,"contentMaxY"]);var jo=Fo._this$stylesheet;jo.$s(Fo.$c$_this$stylesheet),delete Fo.$c$_this$stylesheet;var Vo=Fo._this$location;Vo.$s(Fo.$c$_this$location),delete Fo.$c$_this$location,Wo._replaceUpdater("atXBeginning",function(){Wo.atXBeginning=!Wo.contentX},[Wo,"contentX"]),Wo._removeUpdater("visibleInView"),Wo.visibleInView=!1,Wo._replaceUpdater("atYBeginning",function(){Wo.atYBeginning=!Wo.contentY},[Wo,"contentY"]);var Yo=Fo._this$child0;Yo.$s(Fo.$c$_this$child0),delete Fo.$c$_this$child0,Yo._removeUpdater("interval"),Yo.interval=100,Yo.on("triggered",function(){this.parent._updateContentScroll()}.bind(Yo))};var Rr=s.controls.experiment.AbstractButton,Nr=Rr.prototype,Hr=s.controls.experiment.ButtonMaterial=function(){Rr.apply(this,arguments)},Fr=Hr.prototype=Object.create(Nr);Fr.constructor=Hr,Fr.componentName="controls.experiment.ButtonMaterial",Fr.$c=function(Fo){this;Nr.$c.call(this,Fo.$b={})},Fr.$s=function(Fo){var Wo=this;Nr.$s.call(this,Fo.$b),delete Fo.$b,Wo.effects.shadow._removeUpdater("color"),Wo.effects.shadow.color="rgba(0,0,0,0.2)",Wo.font._removeUpdater("capitalization"),Wo.font.capitalization=s.core.Font.prototype.AllUppercase,Wo.effects.shadow._removeUpdater("blur"),Wo.effects.shadow.blur=6,Wo.colors._removeUpdater("default"),Wo.colors.default="white",Wo.effects.shadow._removeUpdater("spread"),Wo.effects.shadow.spread=2,Wo.effects.shadow._removeUpdater("x"),Wo.effects.shadow.x=1,Wo.effects.shadow._removeUpdater("y"),Wo.effects.shadow.y=1};var Wr=s.core.Item,Dr=Wr.prototype,jr=s.core.Text=function(){Wr.apply(this,arguments),this._context.backend.initText(this),0<this.text.length&&this._setText(this.text)},Vr=jr.prototype=Object.create(Dr);Vr.constructor=jr,Vr.componentName="core.Text",Vr.fontChanged=s.core.createSignal("fontChanged"),_.addProperty(Vr,"string","text"),_.addProperty(Vr,"color","color","black"),_.addLazyProperty(Vr,"shadow",function(Fo,Wo){var Do=new s.core.Shadow(Fo,Wo),jo={lazy$shadow:Do};Do.$c(jo.$c$lazy$shadow={});var Do=jo.lazy$shadow;return Do.$s(jo.$c$lazy$shadow),delete jo.$c$lazy$shadow,Do}),_.addLazyProperty(Vr,"font",function(Fo,Wo){var Do=new s.core.Font(Fo,Wo),jo={lazy$font:Do};Do.$c(jo.$c$lazy$font={});var Do=jo.lazy$font;return Do.$s(jo.$c$lazy$font),delete jo.$c$lazy$font,Do}),_.addProperty(Vr,"int","paintedWidth"),_.addProperty(Vr,"int","paintedHeight"),Vr.AlignTop=0,jr.AlignTop=0,Vr.AlignBottom=1,jr.AlignBottom=1,Vr.AlignVCenter=2,jr.AlignVCenter=2,_.addProperty(Vr,"enum","verticalAlignment"),Vr.Html=0,jr.Html=0,Vr.Text=1,jr.Text=1,_.addProperty(Vr,"enum","textFormat"),Vr.ElideNone=0,jr.ElideNone=0,Vr.ElideLeft=1,jr.ElideLeft=1,Vr.ElideMiddle=2,jr.ElideMiddle=2,Vr.ElideRight=3,jr.ElideRight=3,_.addProperty(Vr,"enum","elide"),Vr.AlignLeft=0,jr.AlignLeft=0,Vr.AlignRight=1,jr.AlignRight=1,Vr.AlignHCenter=2,jr.AlignHCenter=2,Vr.AlignJustify=3,jr.AlignJustify=3,_.addProperty(Vr,"enum","horizontalAlignment"),Vr.NoWrap=0,jr.NoWrap=0,Vr.WordWrap=1,jr.WordWrap=1,Vr.WrapAnywhere=2,jr.WrapAnywhere=2,Vr.Wrap=3,jr.Wrap=3,_.addProperty(Vr,"enum","wrapMode"),Vr._updateSize=function(){this.recursiveVisible&&(this._updateSizeNeeded||this.clip)&&this._scheduleUpdateSize()},Vr._updateStyle=function(){this.shadow&&!this.shadow._empty()?this.style("text-shadow",this.shadow._getFilterStyle()):this.style("text-shadow",""),s.core.Item.prototype._updateStyle.apply(this,arguments)},Vr._updateSizeImpl=function(){return 0===this.text.length?(this.paintedWidth=0,void(this.paintedHeight=0)):void this._context.backend.layoutText(this)},Vr.toString=function(){return"Text (color: "+this.color+", width: "+this.paintedWidth+", height: "+this.paintedHeight+", x: "+this.x+", y: "+this.y+")"},Vr._scheduleUpdateSize=function(){this._context.delayedAction("text:update-size",this,this._updateSizeImpl)},Vr._enableSizeUpdate=function(){this._updateSizeNeeded=!0,this._updateSize()},Vr._updateWSHandling=function(){var Fo=this.textFormat===this.Text;switch(this.wrapMode){case this.NoWrap:this.style({"white-space":Fo?"pre":"nowrap","word-break":""});break;case this.Wrap:case this.WordWrap:this.style({"white-space":Fo?"pre-wrap":"normal","word-break":""});break;case this.WrapAnywhere:this.style({"white-space":Fo?"pre-wrap":"normal","word-break":"break-all"});}this._updateSize()},Vr.getClass=function(){return"core-text"},Vr._setText=function(Fo){this._context.backend.setText(this,Fo)},Vr.on=function(Fo){this._updateSizeNeeded||"newBoundingBox"!=Fo||this._enableSizeUpdate(),s.core.Object.prototype.on.apply(this,arguments)},Vr.onChanged=function(Fo){this._updateSizeNeeded||("right"===Fo||"width"===Fo||"bottom"===Fo||"height"===Fo||"verticalCenter"===Fo||"horizontalCenter"===Fo?this._enableSizeUpdate():void 0),s.core.Object.prototype.onChanged.apply(this,arguments)},Vr.registerStyle=function(Fo,Wo){Fo.addRule(Wo,"width: auto; height: auto;")},s.core._protoOnChanged(Vr,"recursiveVisible",function(Fo){Fo&&this._updateSize()}),s.core._protoOnChanged(Vr,"horizontalAlignment",function(Fo){Fo===this.AlignLeft?this.style("text-align","left"):Fo===this.AlignRight?this.style("text-align","right"):Fo===this.AlignHCenter?this.style("text-align","center"):Fo===this.AlignJustify?this.style("text-align","justify"):void 0});var E=function(){this._updateWSHandling()};s.core._protoOnChanged(Vr,"wrapMode",E),s.core._protoOnChanged(Vr,"textFormat",E),s.core._protoOnChanged(Vr,"elide",function(Fo){this.style("direction","ltr"),Fo===this.ElideNone?(this.style("text-overflow","string"),this.clip=!1):Fo===this.ElideLeft?(this.style("direction","rtl"),this.style("text-overflow","ellipsis"),this.clip=!0):Fo===this.ElideRight?(this.style("text-overflow","ellipsis"),this.clip=!0):void 0}),s.core._protoOnChanged(Vr,"verticalAlignment",function(Fo){this.verticalAlignment=Fo,this._enableSizeUpdate()}),s.core._protoOnChanged(Vr,"text",function(Fo){this._setText(Fo),this._updateSize()}),s.core._protoOnChanged(Vr,"width",function(){this._updateSize()}),s.core._protoOnChanged(Vr,"color",function(Fo){this.style("color",s.core.Color.normalize(Fo))}),Vr.$c=function(Fo){this;Dr.$c.call(this,Fo.$b={})},Vr.$s=function(Fo){var Wo=this;Dr.$s.call(this,Fo.$b),delete Fo.$b,Wo._replaceUpdater("width",function(){Wo.width=Wo.paintedWidth},[Wo,"paintedWidth"]),Wo._replaceUpdater("height",function(){Wo.height=Wo.paintedHeight},[Wo,"paintedHeight"])};var Yr=s.core.Layout,Xr=Yr.prototype,qr=s.core.Grid=function(){Yr.apply(this,arguments)},Kr=qr.prototype=Object.create(Xr);Kr.constructor=qr,Kr.componentName="core.Grid",_.addProperty(Kr,"int","horizontalSpacing"),_.addProperty(Kr,"int","verticalSpacing"),_.addProperty(Kr,"int","rowsCount"),Kr.FlowTopToBottom=0,qr.FlowTopToBottom=0,Kr.FlowLeftToRight=1,qr.FlowLeftToRight=1,_.addProperty(Kr,"enum","flow"),Kr.AlignLeft=0,qr.AlignLeft=0,Kr.AlignRight=1,qr.AlignRight=1,Kr.AlignHCenter=2,qr.AlignHCenter=2,Kr.AlignJustify=3,qr.AlignJustify=3,_.addProperty(Kr,"enum","horizontalAlignment"),Kr._layout=function(){if(this.recursiveVisible||this.offlineLayout){var Fo=this.children;this.trace&&log("Grid.layout "+Fo.length+" items into "+this.width+"x"+this.height);var Wo=0,Do=0,jo=0,Vo=0,Yo=this.verticalSpacing||this.spacing,Xo=this.horizontalSpacing||this.spacing;this.count=Fo.length;var qo=[],Ko=[];this._rows=[],qo.push({idx:0,size:0});for(var Qo,Go=this.flow==this.FlowLeftToRight,Jo=Go?this.height:this.width,Zo=0;Zo<Fo.length;++Zo)if(Qo=Fo[Zo],"height"in Qo&&"width"in Qo){if(!Go)var ea=Qo.anchors.topMargin||Qo.anchors.margins,ta=Qo.anchors.bottomMargin||Qo.anchors.margins,ra=Qo.anchors.leftMargin||Qo.anchors.margins,oa=Qo.anchors.rightMargin||Qo.anchors.margins,aa=Qo.width+oa+ra,na=Qo.height+ea+ta;else var ea=Qo.anchors.leftMargin||Qo.anchors.margins,ta=Qo.anchors.rightMargin||Qo.anchors.margins,ra=Qo.anchors.topMargin||Qo.anchors.margins,oa=Qo.anchors.bottomMargin||Qo.anchors.margins,aa=Qo.height+oa+ra,na=Qo.width+ea+ta;Qo.recursiveVisible&&(Jo-Wo<aa?(qo.push({idx:Zo,size:Wo-Xo}),Do=Vo+Yo,Vo=Do+na,Go?(Qo.y=ra,Qo.x=Do+ea):(Qo.x=ra,Qo.y=Do+ea),this._rows.push(Ko),Ko=[],Ko.push({i:Zo,x:Qo.x,w:aa})):(Go?(Qo.y=Wo+ra,Qo.x=Do+ea):(Qo.x=Wo+ra,Qo.y=Do+ea),Ko.push({i:Zo,x:Qo.x,w:aa})),Vo<Do+na&&(Vo=Do+na),Wo=Go?Qo.y+Qo.height+oa+Xo:Qo.x+Qo.width+oa+Xo,jo<Wo-Xo&&(jo=Wo-Xo))}if(this._rows.push(Ko),this.rowsCount=qo.length,qo.push({idx:Fo.length,size:Wo-Xo}),this.contentHeight=Go?jo:Vo,this.contentWidth=Go?Vo:jo,this.horizontalAlignment!==this.AlignLeft)for(var ca,sa,ia=this.horizontalAlignment===this.AlignRight,da=this.horizontalAlignment===this.AlignHCenter,la=this.horizontalAlignment===this.AlignJustify,Zo=0;Zo<qo.length-1;++Zo)if(sa=qo[Zo+1],ia?ca=Jo-sa.size:da?ca=(Jo-sa.size)/2:la&&(ca=Jo-sa.size),0!==ca){var pa=qo[Zo].idx,ha=pa,_a=ha+this._rows[Zo].length,ga=sa.idx>_a?_a:sa.idx;if(ia||da)for(;pa<ga;++pa)Go?(Fo[pa].y+=ca,this._rows[Zo][pa-ha].y+=ca):(Fo[pa].x+=ca,this._rows[Zo][pa-ha].x+=ca);else if(la)for(var Qo=ga-pa+1,ua=ca/Qo;pa<ga;++pa)Go?(Fo[pa].y+=ua*(pa+Qo-ga),this._rows[Zo][pa-ha].y+=ua*(pa+Qo-ga)):(Fo[pa].x+=ua*(pa+Qo-ga),this._rows[Zo][pa-ha].x+=ua*(pa+Qo-ga))}}},Kr.focusUp=function(){var Fo=0,Wo=0,Do=this.verticalSpacing||this.spacing;this.focusedChild&&(Wo=this.children.indexOf(this.focusedChild),Fo=this.focusedChild.x+this.focusedChild.width/2);var jo=this.getPosition(Wo);if(!this.keyNavigationWraps&&0===jo.row)return!1;for(var Vo=this._rows.length,Yo=(jo.row+Vo-1)%Vo,Xo=this._rows[Yo],qo=0;qo<Xo.length;++qo)if(Fo<=Xo[qo].x+Xo[qo].w+Do){Wo=Xo[qo].i;break}return this.currentIndex=Wo,this.focusChild(this.children[Wo]),!0},Kr.focusDown=function(){var Fo=0,Wo=0,Do=this.verticalSpacing||this.spacing;this.focusedChild&&(Wo=this.children.indexOf(this.focusedChild),Fo=this.focusedChild.x+this.focusedChild.width/2);var jo=this.getPosition(Wo);if(!this.keyNavigationWraps&&jo.row===this._rows.length-1)return!1;for(var Vo=this._rows.length,Yo=(jo.row+1)%Vo,Xo=this._rows[Yo],qo=0;qo<Xo.length;++qo)if(Fo<=Xo[qo].x+Xo[qo].w+Do){Wo=Xo[qo].i;break}else Wo=Xo[qo].i;return this.currentIndex=Wo,this.focusChild(this.children[Wo]),!0},Kr.addChild=function(Fo){s.core.Item.prototype.addChild.apply(this,arguments),Fo instanceof s.core.Item&&(Fo.onChanged("height",this._scheduleLayout.bind(this)),Fo.onChanged("width",this._scheduleLayout.bind(this)),Fo.onChanged("recursiveVisible",this._scheduleLayout.bind(this)),Fo.anchors.on("marginsUpdated",this._scheduleLayout.bind(this)))},Kr.getPosition=function(Fo){for(var Do,Wo=0;Wo<this._rows.length;++Wo){Do=this._rows[Wo];for(var jo=0;jo<Do.length;++jo)if(Do[jo].i===Fo)return{row:Wo,idx:Do[jo].i}}},s.core._protoOnChanged(Kr,"height",function(){this.flow==this.FlowLeftToRight&&this._scheduleLayout()}),s.core._protoOnChanged(Kr,"width",function(){this.flow==this.FlowTopToBottom&&this._scheduleLayout()});var E=function(){this._scheduleLayout()};s.core._protoOnChanged(Kr,"horizontalAlignment",E),s.core._protoOnChanged(Kr,"verticalSpacing",E),s.core._protoOnChanged(Kr,"flow",E),s.core._protoOnChanged(Kr,"horizontalSpacing",E),s.core._protoOnKey(Kr,"Key",function(Fo){return!!this.handleNavigationKeys&&("Up"===Fo?this.focusUp():"Down"===Fo?this.focusDown():"Left"===Fo?this.focusPrevChild():"Right"===Fo?this.focusNextChild():void 0)});var Gr=s.core.Grid,Jr=Gr.prototype,Zr=s.src.CompressInput=function(){Gr.apply(this,arguments)},Qr=Zr.prototype=Object.create(Jr);Qr.constructor=Zr,Qr.componentName="src.CompressInput",_.addProperty(Qr,"bool","active"),_.addProperty(Qr,"string","format"),Qr.$c=function(Fo){var Wo=this;Jr.$c.call(this,Fo.$b={});var Do=new s.controls.experiment.TextInputMaterial(Wo);Fo._this$child0=Do,Do.$c(Fo.$c$_this$child0={}),Do._setId("imageInput"),Wo.addChild(Do);var jo=new s.controls.experiment.TextInputMaterial(Wo);Fo._this$child1=jo,jo.$c(Fo.$c$_this$child1={}),jo._setId("imageCompress"),Wo.addChild(jo);var Vo=new s.controls.experiment.ButtonMaterial(Wo);Fo._this$child2=Vo,Vo.$c(Fo.$c$_this$child2={}),Vo._setId("imageButton"),Wo.addChild(Vo);var Yo=new s.controls.experiment.NetworkRequest(Wo);Fo._this$child3=Yo,Yo.$c(Fo.$c$_this$child3={}),Yo._setId("urlRequest"),Wo.addChild(Yo),Wo._setId("compressInput")},Qr.$s=function(Fo){var Wo=this;Jr.$s.call(this,Fo.$b),delete Fo.$b,Wo._replaceUpdater("width",function(){Wo.width=Wo._get("webApp").mobile?300:Wo._get("imageInput").width+Wo._get("imageButton").width+Wo._get("imageCompress").width+2*Wo.spacing},[Wo._get("imageCompress"),"width",Wo,"spacing",Wo._get("imageButton"),"width",Wo._get("webApp"),"mobile",Wo._get("imageInput"),"width"]),Wo.anchors._removeUpdater("horizontalCenter"),Wo.anchors.horizontalCenter=Wo.parent,Wo._removeUpdater("spacing"),Wo.spacing=10,Wo._removeUpdater("format"),Wo.format="jpg";var Do=Fo._this$child0;Do.$s(Fo.$c$_this$child0),delete Fo.$c$_this$child0,Do._removeUpdater("width"),Do.width=300,Do._replaceUpdater("enabled",function(){Do.enabled=!Do._get("compressInput").active},[Do._get("compressInput"),"active"]),Do.placeholder._replaceUpdater("text",function(){Do.placeholder.text=s.qsTr("Insert a link to image compression")},[Do._context,"language"]),Do.onChanged("text",function(){var qo=this._get("compressInput",!0);qo.format=this.text.includes("png")?"png":this.text.match(/.jpg|.jpeg/g)?"jpg":""}.bind(Do));var jo=Fo._this$child1;jo.$s(Fo.$c$_this$child1),delete Fo.$c$_this$child1,jo._replaceUpdater("enabled",function(){jo.enabled=!jo._get("compressInput").active},[jo._get("compressInput"),"active"]),jo.placeholder._replaceUpdater("text",function(){jo.placeholder.text="png"===jo._get("compressInput").format?s.qsTr("Compress (9)"):s.qsTr("Quality (20)")},[jo._context,"language",jo._get("compressInput"),"format"]);var Vo=Fo._this$child2;Vo.$s(Fo.$c$_this$child2),delete Fo.$c$_this$child2,Vo._replaceUpdater("text",function(){Vo.text=s.qsTr("Compress")},[Vo._context,"language"]),Vo._replaceUpdater("enabled",function(){Vo.enabled=!Vo._get("compressInput").active},[Vo._get("compressInput"),"active"]),Vo._replaceUpdater("height",function(){Vo.height=Vo._get("imageInput").height},[Vo._get("imageInput"),"height"]),Vo.on("clicked",function(){var Xo=this._get("urlRequest",!0),qo=this._get("imageInput",!0),Ko=this._get("compressInput",!0);return qo.text&&"http"===qo.text.substring(0,4)?void(Ko.active=!0,Xo.send()):void log("TODO: url error")}.bind(Vo));var Yo=Fo._this$child3;Yo.$s(Fo.$c$_this$child3),delete Fo.$c$_this$child3,Yo._replaceUpdater("url",function(){Yo.url=Yo._get("webApp").serverUrl+"add?url="+Yo._get("imageInput").text+(Yo._get("imageCompress").text?"&jpegQuality="+Yo._get("imageCompress").text:"")},[Yo._get("webApp"),"serverUrl",Yo._get("imageCompress"),"text",Yo._get("imageInput"),"text"]),Yo.on("error",function(){var qo=this._get("errorRect",!0);qo.visible=!0}.bind(Yo)),Yo.on("loaded",function(Xo){var qo=this._get("imagesModel",!0),Ko=this._get("compressErrorRect",!0),Go=this._get("compressErrorTimer",!0),Jo=this._get("time",!0),Zo=this._get("imageInput",!0),Qo=this._get("compressInput",!0);Zo.text="",Qo.active=!1;let ea=JSON.parse(Xo);if(ea.error){let ra;switch(ea.error){case"Download":ra="Incorrect image url";break;case"SQL":ra="Server error";break;case"Convert":ra="Incorrect image format";break;default:ra="Unknown";}return Ko.errorText=ra,Ko.visible=!0,void Go.start()}let ta={name:ea.image.original.name,original_size:ea.image.original.size,original_url:ea.image.original.url,file:ea.image.compress.name,compress_size:ea.image.compress.size,time:ea.date};qo.insert(0,ta)}.bind(Yo))};var eo=s.controls.experiment.AbstractButton,to=eo.prototype,ro=s.src.Components.LanguageButton=function(){eo.apply(this,arguments)},oo=ro.prototype=Object.create(to);oo.constructor=ro,oo.componentName="src.Components.LanguageButton",_.addProperty(oo,"string","lang"),s.core._protoOnChanged(oo,"lang",function(Fo){var Wo=this._get("localStorage",!0),Do=this._get("context",!0);log("lang",Fo),Do.language=Fo,Wo.set("lang",Fo,function(jo){log("lang error",jo)})}),s.core._protoOn(oo,"clicked",function(){var Fo=this._get("context",!0);log("set lang",Fo.language),Fo.language="uk"}),oo.$c=function(Fo){this;to.$c.call(this,Fo.$b={})},oo.$s=function(Fo){var Wo=this;to.$s.call(this,Fo.$b),delete Fo.$b,Wo._replaceUpdater("text",function(){Wo.text="en"===Wo.lang?"\u0420\u0443\u0441\u0441\u043A\u0438\u0439":"English"},[Wo,"lang"])};var ao=s.core.Object,no=ao.prototype,io=s.core.BorderSide=function(){ao.apply(this,arguments)},lo=io.prototype=Object.create(no);lo.constructor=io,lo.componentName="core.BorderSide",_.addProperty(lo,"string","name"),_.addProperty(lo,"int","width"),_.addProperty(lo,"color","color"),_.addProperty(lo,"int","style"),lo._updateStyle=function(){if(this.parent&&this.parent.parent&&this.name){var Wo,Fo=s.core.Border;switch(this.style){case s.core.Border.prototype.None:Wo="none";break;case s.core.Border.prototype.Hidden:Wo="hidden";break;case s.core.Border.prototype.Dotted:Wo="dotted";break;case s.core.Border.prototype.Dashed:Wo="dashed";break;case s.core.Border.prototype.Solid:Wo="solid";break;case s.core.Border.prototype.Double:Wo="double";break;case s.core.Border.prototype.Groove:Wo="groove";break;case s.core.Border.prototype.Ridge:Wo="ridge";break;case s.core.Border.prototype.Inset:Wo="inset";break;case s.core.Border.prototype.Outset:Wo="outset";}var Do=this.width+"px "+Wo+" "+s.core.Color.normalize(this.color);this.parent.parent.style("border-"+this.name,Do)}};var E=function(){this._updateStyle()};s.core._protoOnChanged(lo,"width",E),s.core._protoOnChanged(lo,"color",E),s.core._protoOnChanged(lo,"style",E),lo.$c=function(Fo){this;no.$c.call(this,Fo.$b={})},lo.$s=function(Fo){var Wo=this;no.$s.call(this,Fo.$b),delete Fo.$b,Wo._replaceUpdater("color",function(){Wo.color=Wo.parent.color},[Wo.parent,"color"]),Wo._replaceUpdater("width",function(){Wo.width=Wo.parent.width},[Wo.parent,"width"]),Wo._replaceUpdater("style",function(){Wo.style=Wo.parent.style},[Wo.parent,"style"])};var co=s.core.Model,so=co.prototype,po=s.core.ListModel=function(){co.apply(this,arguments),this._rows=[]},ho=po.prototype=Object.create(so);ho.constructor=po,ho.componentName="core.ListModel",_.addProperty(ho,"array","data"),ho.clear=function(){this.assign([])},ho.forEach=function(Fo){return this._rows.forEach(Fo)},ho.addChild=function(Fo){this.append(Fo)},ho.get=function(Fo){if(0>Fo||Fo>=this._rows.length)throw new Error("index "+Fo+" out of bounds ("+this._rows.length+")");var Wo=this._rows[Fo];if(!(Wo instanceof Object))throw new Error("row is non-object");return Wo.index=Fo,Wo},ho.remove=function(Fo,Wo){if(0>Fo||Fo>=this._rows.length)throw new Error("index "+Fo+" out of bounds");void 0===Wo&&(Wo=1),this._rows.splice(Fo,Wo),this.count=this._rows.length,this.rowsRemoved(Fo,Fo+Wo)},ho.setProperty=function(Fo,Wo,Do){if(0>Fo||Fo>=this._rows.length)throw new Error("index "+Fo+" out of bounds ("+this._rows.length+")");var jo=this._rows[Fo];if(!(jo instanceof Object))throw new Error("row is non-object, invalid index? ("+Fo+")");jo[Wo]!==Do&&(jo[Wo]=Do,this.rowsChanged(Fo,Fo+1))},ho.insert=function(Fo,Wo){if(0>Fo||Fo>this._rows.length)throw new Error("index "+Fo+" out of bounds ("+this._rows.length+")");this._rows.splice(Fo,0,Wo),this.count=this._rows.length,this.rowsInserted(Fo,Fo+1)},ho.set=function(Fo,Wo){if(0>Fo||Fo>=this._rows.length)throw new Error("index "+Fo+" out of bounds ("+this._rows.length+")");if(!(Wo instanceof Object))throw new Error("row is non-object");this._rows[Fo]=Wo,this.rowsChanged(Fo,Fo+1)},ho.append=function(Fo){var Wo=this._rows.length;Array.isArray(Fo)?(Array.prototype.push.apply(this._rows,Fo),this.count=this._rows.length,this.rowsInserted(Wo,Wo+Fo.length)):(this._rows.push(Fo),this.count=this._rows.length,this.rowsInserted(Wo,Wo+1))},ho.assign=function(Fo){this._rows=Fo,this.count=this._rows.length,this.reset()},s.core._protoOnChanged(ho,"data",function(Fo){this.assign(Fo)});var _o=s.core.Object,go=_o.prototype,uo=s.core.Location=function(){_o.apply(this,arguments);{var Do=s.core.__locationBackend;if(!Do)throw new Error("no backend found");this.impl=Do().createLocation(this)}},mo=uo.prototype=Object.create(go);mo.constructor=uo,mo.componentName="core.Location",_.addProperty(mo,"string","hash"),_.addProperty(mo,"string","host"),_.addProperty(mo,"string","href"),_.addProperty(mo,"string","port"),_.addProperty(mo,"string","origin"),_.addProperty(mo,"string","hostname"),_.addProperty(mo,"string","pathname"),_.addProperty(mo,"string","protocol"),_.addProperty(mo,"string","search"),_.addProperty(mo,"Object","state"),mo.changeHref=function(Fo){this.impl.changeHref(Fo)},mo.pushState=function(Fo,Wo,Do){this.impl.pushState(Fo,Wo,Do)};var yo=s.core.Grid,fo=yo.prototype,bo=s.src.Filters=function(){yo.apply(this,arguments)},$o=bo.prototype=Object.create(fo);$o.constructor=bo,$o.componentName="src.Filters",_.addProperty($o,"bool","isSearch"),_.addProperty($o,"string","filterDateTime"),$o.resetDate=function(){var Fo=this._get("filterDate",!0),Wo=this._get("filterTime",!0),Do=this._get("filters",!0);Fo.value||(Do.filterDateTime="");let jo=Fo.value,Vo=Wo.value?Wo.value:"00:00";Do.filterDateTime=jo+" "+Vo},$o.$c=function(Fo){var Wo=this;fo.$c.call(this,Fo.$b={});var Do=new s.core.Text(Wo);Fo._this$child0=Do,Do.$c(Fo.$c$_this$child0={}),Do._setId("fSearch"),Wo.addChild(Do);var jo=new s.controls.experiment.TextInputMaterial(Wo);Fo._this$child1=jo,jo.$c(Fo.$c$_this$child1={}),jo._setId("filterName"),Wo.addChild(jo);var Vo=new s.core.Text(Wo);Fo._this$child2=Vo,Vo.$c(Fo.$c$_this$child2={}),Vo._setId("fMb"),Wo.addChild(Vo);var Yo=new s.controls.experiment.TextInputMaterial(Wo);Fo._this$child3=Yo,Yo.$c(Fo.$c$_this$child3={}),Yo._setId("filterSize"),Wo.addChild(Yo);var Xo=new s.core.Text(Wo);Fo._this$child4=Xo,Xo.$c(Fo.$c$_this$child4={}),Wo.addChild(Xo);var qo=new s.controls.input.DateInput(Wo);Fo._this$child5=qo,qo.$c(Fo.$c$_this$child5={}),qo._setId("filterDate"),Wo.addChild(qo);var Ko=new s.controls.input.TimeInput(Wo);Fo._this$child6=Ko,Ko.$c(Fo.$c$_this$child6={}),Ko._setId("filterTime"),Wo.addChild(Ko);var Go=new s.controls.experiment.AbstractButton(Wo);Fo._this$child7=Go,Go.$c(Fo.$c$_this$child7={}),Wo.addChild(Go),Wo._setId("filters")},$o.$s=function(Fo){var Wo=this;fo.$s.call(this,Fo.$b),delete Fo.$b,Wo.anchors._removeUpdater("horizontalAlignment"),Wo.anchors.horizontalAlignment=Wo.parent,Wo._removeUpdater("spacing"),Wo.spacing=5,Wo._replaceUpdater("width",function(){Wo.width=Wo.parent.width},[Wo.parent,"width"]),Wo._replaceUpdater("isSearch",function(){Wo.isSearch=Wo._get("filterName").text||Wo._get("filterSize").text||Wo._get("filterDate").value||Wo._get("filterTime").value},[Wo._get("filterDate"),"value",Wo._get("filterTime"),"value",Wo._get("filterSize"),"text",Wo._get("filterName"),"text"]),Wo.anchors._removeUpdater("topMargin"),Wo.anchors.topMargin=30,Wo.anchors._replaceUpdater("top",function(){Wo.anchors.top=Wo._get("compressInput").bottom},[Wo._get("compressInput"),"bottom"]);var Do=Fo._this$child0;Do.$s(Fo.$c$_this$child0),delete Fo.$c$_this$child0,Do._removeUpdater("text"),Do.text="Search:";var jo=Fo._this$child1;jo.$s(Fo.$c$_this$child1),delete Fo.$c$_this$child1,jo._removeUpdater("width"),jo.width=250,jo.onChanged("text",function(){var Zo=this._get("proxyModel",!0);Zo._buildIndexMap()}.bind(jo));var Vo=Fo._this$child2;Vo.$s(Fo.$c$_this$child2),delete Fo.$c$_this$child2,Vo._removeUpdater("text"),Vo.text="Filter by size (MB):";var Yo=Fo._this$child3;Yo.$s(Fo.$c$_this$child3),delete Fo.$c$_this$child3,Yo.onChanged("text",function(){var Zo=this._get("proxyModel",!0);Zo._buildIndexMap()}.bind(Yo));var Xo=Fo._this$child4;Xo.$s(Fo.$c$_this$child4),delete Fo.$c$_this$child4,Xo._removeUpdater("text"),Xo.text="Filter by load date:";var qo=Fo._this$child5;qo.$s(Fo.$c$_this$child5),delete Fo.$c$_this$child5,qo.onChanged("value",function(){var Zo=this._get("proxyModel",!0),Qo=this._get("filters",!0);Qo.resetDate(),Zo._buildIndexMap()}.bind(qo));var Ko=Fo._this$child6;Ko.$s(Fo.$c$_this$child6),delete Fo.$c$_this$child6,Ko._replaceUpdater("enabled",function(){Ko.enabled=Ko._get("filterDate").value},[Ko._get("filterDate"),"value"]),Ko.onChanged("value",function(){var Zo=this._get("proxyModel",!0),Qo=this._get("filters",!0);Qo.resetDate(),Zo._buildIndexMap()}.bind(Ko));var Go=Fo._this$child7;Go.$s(Fo.$c$_this$child7),delete Fo.$c$_this$child7,Go._removeUpdater("text"),Go.text="Reset",Go._replaceUpdater("height",function(){Go.height=Go._get("filterTime").height},[Go._get("filterTime"),"height"]),Go.on("clicked",function(){var Jo=this._get("filterDate",!0),Zo=this._get("filterName",!0),Qo=this._get("filterSize",!0),ea=this._get("proxyModel",!0),ta=this._get("filterTime",!0);Zo.text="",Qo.text="",Jo.element.dom.value="",ta.element.dom.value="",Jo.value="",ta.value="",ea._buildIndexMap()}.bind(Go))};var vo=s.core.Object,xo=vo.prototype,wo=s.core.Anchors=function(){vo.apply(this,arguments),this._items=[],this._scheduleUpdate=function(){this._context.delayedAction("update-anchors",this,this._updateAll)}.bind(this),this._grabX=!1,this._grabY=!1},Co=wo.prototype=Object.create(xo);Co.constructor=wo,Co.componentName="core.Anchors",Co.marginsUpdated=s.core.createSignal("marginsUpdated"),_.addProperty(Co,"AnchorLine","bottom"),_.addProperty(Co,"AnchorLine","verticalCenter"),_.addProperty(Co,"AnchorLine","top"),_.addProperty(Co,"AnchorLine","left"),_.addProperty(Co,"AnchorLine","horizontalCenter"),_.addProperty(Co,"AnchorLine","right"),_.addProperty(Co,"Item","fill"),_.addProperty(Co,"Item","centerIn"),_.addProperty(Co,"int","margins"),_.addProperty(Co,"int","bottomMargin"),_.addProperty(Co,"int","topMargin"),_.addProperty(Co,"int","leftMargin"),_.addProperty(Co,"int","rightMargin"),Co._updateAll=function(){var ia,da,la,ca,sa,pa,Fo=this,Wo=Fo.parent,Do=Wo.parent,jo=Do.toScreen(),Vo=jo[0],Yo=jo[1],Xo=Fo.fill,qo=Fo._getAnchor("left")||(Xo?Xo.left:null),Ko=Fo._getAnchor("right")||(Xo?Xo.right:null),Go=Fo._getAnchor("top")||(Xo?Xo.top:null),Jo=Fo._getAnchor("bottom")||(Xo?Xo.bottom:null),Zo=Fo.centerIn,Qo=Fo._getAnchor("horizontalCenter")||(Zo?Zo.horizontalCenter:null),ea=Fo._getAnchor("verticalCenter")||(Zo?Zo.verticalCenter:null),ta=Fo.leftMargin||Fo.margins,ra=Fo.rightMargin||Fo.margins,oa=Fo.topMargin||Fo.margins,aa=Fo.bottomMargin||Fo.margins,na=function(ha){var _a=ha[0],ga=ha[1];return _a.toScreen()[ga]};qo&&Ko?(ia=na(qo),la=na(Ko),Wo.x=ia+ta-Vo-Wo.viewX,Wo.width=la-ia-ra-ta):qo&&Qo?(ia=na(qo),sa=na(Qo),Wo.x=ia+ta-Vo-Wo.viewX,Wo.width=2*(sa-ia)-ra-ta):Qo&&Ko?(sa=na(Qo),la=na(Ko),Wo.width=2*(la-sa)-ra-ta,Wo.x=sa-(Wo.width+ta-ra)/2-Vo-Wo.viewX):qo?(ia=na(qo),Wo.x=ia+ta-Vo-Wo.viewX):Ko?(la=na(Ko),Wo.x=la-Vo-ra-Wo.width-Wo.viewX):Qo?(sa=na(Qo),Wo.x=sa-(Wo.width+ta-ra)/2-Vo-Wo.viewX):this._grabX&&(Wo.x=ta),Go&&Jo?(da=na(Go),ca=na(Jo),Wo.y=da+oa-Yo-Wo.viewY,Wo.height=ca-da-aa-oa):Go&&ea?(da=na(Go),pa=na(ea),Wo.y=da+oa-Yo-Wo.viewY,Wo.height=2*(pa-da)-aa-oa):ea&&Jo?(pa=na(ea),ca=na(Jo),Wo.height=2*(ca-pa)-aa-oa,Wo.y=pa-(Wo.height+oa-aa)/2-Yo-Wo.viewY):Go?(da=na(Go),Wo.y=da+oa-Yo-Wo.viewY):Jo?(ca=na(Jo),Wo.y=ca-Yo-aa-Wo.height-Wo.viewY):ea?(pa=na(ea),Wo.y=pa-(Wo.height+oa-aa)/2-Yo-Wo.viewY):this._grabY&&(Wo.y=oa)},Co._grab=function(Fo,Wo){"x"===Wo&&(this._grabX=!0),"y"===Wo&&(this._grabY=!0),Fo._removeUpdater(Wo)},Co._getAnchor=function(Fo){var Wo=this[Fo];return Wo?Array.isArray(Wo)?Wo:Wo[Fo]:null},Co._subscribe=function(Fo){var Wo=this._items;0>Wo.indexOf(Fo)&&(Wo.push(Fo),this.connectOn(Fo,"newBoundingBox",this._scheduleUpdate))},s.core._protoOnChanged(Co,"fill",function(Fo){if(this._scheduleUpdate(),null!==Fo){var Wo=this.parent,Do=this;this._grab(Wo,"x"),this._grab(Wo,"width"),this._grab(Wo,"y"),this._grab(Wo,"height"),this._subscribe(Fo)}}),s.core._protoOnChanged(Co,"centerIn",function(Fo){if(this._scheduleUpdate(),null!==Fo){var Wo=this.parent,Do=this;this._grab(Wo,"x"),this._grab(Wo,"y"),this._subscribe(Fo),this._subscribe(Wo)}}),s.core._protoOnChanged(Co,"bottom",function(){this._scheduleUpdate();var Wo=this._getAnchor("bottom");if(null!==Wo){var Do=this.parent,jo=this;this._grab(Do,"y"),(jo.top||jo.verticalCenter)&&this._grab(Do,"height"),this._subscribe(Do),this._subscribe(Wo[0])}}),s.core._protoOnChanged(Co,"horizontalCenter",function(){this._scheduleUpdate();var Wo=this._getAnchor("horizontalCenter");if(null!==Wo){var Do=this.parent,jo=this;this._grab(Do,"x"),(jo.left||jo.right)&&this._grab(Do,"width"),this._subscribe(Do),this._subscribe(Wo[0])}}),s.core._protoOnChanged(Co,"left",function(){this._scheduleUpdate();var Wo=this._getAnchor("left");if(null!==Wo){var Do=this.parent,jo=this;this._grab(Do,"x"),(jo.right||jo.horizontalCenter)&&(this._grab(Do,"width"),this._subscribe(Do)),this._subscribe(Wo[0])}}),s.core._protoOnChanged(Co,"right",function(){this._scheduleUpdate();var Wo=this._getAnchor("right");if(null!==Wo){var Do=this.parent,jo=this;this._grab(Do,"x"),(jo.left||jo.horizontalCenter)&&this._grab(Do,"width"),this._subscribe(Do),this._subscribe(Wo[0])}}),s.core._protoOnChanged(Co,"top",function(){this._scheduleUpdate();var Wo=this._getAnchor("top");if(null!==Wo){var Do=this.parent,jo=this;this._grab(Do,"y"),(jo.bottom||jo.verticalCenter)&&(this._grab(Do,"height"),this._subscribe(Do)),this._subscribe(Wo[0])}}),s.core._protoOnChanged(Co,"verticalCenter",function(){this._scheduleUpdate();var Wo=this._getAnchor("verticalCenter");if(null!==Wo){var Do=this.parent,jo=this;this._grab(Do,"y"),(jo.top||jo.bottom)&&this._grab(Do,"height"),this._subscribe(Do),this._subscribe(Wo[0])}});var E=function(){this.marginsUpdated(),this._scheduleUpdate()};s.core._protoOnChanged(Co,"bottomMargin",E),s.core._protoOnChanged(Co,"leftMargin",E),s.core._protoOnChanged(Co,"topMargin",E),s.core._protoOnChanged(Co,"rightMargin",E),s.core._protoOnChanged(Co,"margin",E);var Po=s.core.Object,Ao=Po.prototype,Oo=s.controls.core.PlaceholderFont=function(){Po.apply(this,arguments)},Io=Oo.prototype=Object.create(Ao);Io.constructor=Oo,Io.componentName="controls.core.PlaceholderFont",_.addProperty(Io,"string","family"),_.addProperty(Io,"bool","italic"),_.addProperty(Io,"bool","bold"),_.addProperty(Io,"bool","underline"),_.addProperty(Io,"bool","strike"),_.addProperty(Io,"int","pixelSize"),_.addProperty(Io,"int","pointSize"),_.addProperty(Io,"int","lineHeight"),_.addProperty(Io,"int","weight"),Io.getClass=function(){var Fo;return this._placeholderClass?Fo=this._placeholderClass:(Fo=this._placeholderClass=this._context.stylesheet.allocateClass("placeholderFont"),this.parent.parent.element.addClass(Fo)),Fo},Io.updateProperty=function(Fo,Wo){var Do=this.getClass();["::-webkit-input-placeholder","::-moz-placeholder",":-moz-placeholder",":-ms-input-placeholder"].forEach(function(Vo){try{this._context.stylesheet._addRule("."+Do+Vo,Fo+":"+Wo),log("added rule for ."+Do+Vo)}catch(Yo){}}.bind(this))},s.core._protoOnChanged(Io,"family",function(Fo){this.updateProperty("font-family",Fo),this.parent.parent._updateSize()}),s.core._protoOnChanged(Io,"pointSize",function(Fo){this.updateProperty("font-size",Fo+"pt"),this.parent.parent._updateSize()}),s.core._protoOnChanged(Io,"pixelSize",function(Fo){this.updateProperty("font-size",Fo+"px"),this.parent.parent._updateSize()}),s.core._protoOnChanged(Io,"italic",function(Fo){this.updateProperty("font-style",Fo?"italic":"normal"),this.parent.parent._updateSize()}),s.core._protoOnChanged(Io,"weight",function(Fo){this.updateProperty("font-weight",Fo),this.parent.parent._updateSize()}),s.core._protoOnChanged(Io,"bold",function(Fo){this.updateProperty("font-weight",Fo?"bold":"normal"),this.parent.parent._updateSize()}),s.core._protoOnChanged(Io,"lineHeight",function(Fo){this.updateProperty("line-height",Fo+"px"),this.parent.parent._updateSize()}),s.core._protoOnChanged(Io,"strike",function(Fo){this.updateProperty("text-decoration",Fo?"line-through":""),this.parent._updateSize()}),s.core._protoOnChanged(Io,"underline",function(Fo){this.updateProperty("text-decoration",Fo?"underline":""),this.parent.parent._updateSize()});var So=s.core.EventEmitter,ko=So.prototype,Uo=s.core.RAIIEventEmitter=function(){So.apply(this,arguments),this._onListener={}},zo=Uo.prototype=Object.create(ko);zo.constructor=Uo,zo.componentName="core.RAIIEventEmitter",zo.removeAllListeners=function(Fo){s.core.EventEmitter.prototype.removeAllListeners.call(this,Fo),Fo in this._onListener?this._onListener[Fo][1](Fo):""in this._onListener&&this._onListener[""][1](Fo)},zo.on=function(Fo,Wo){if(!(Fo in this._eventHandlers)&&(Fo in this._onListener?this._onListener[Fo][0](Fo):""in this._onListener&&this._onListener[""][0](Fo),this._eventHandlers[Fo]))throw new Error("listener callback added event handler");s.core.EventEmitter.prototype.on.call(this,Fo,Wo)},zo.onListener=function(Fo,Wo,Do){this._onListener[Fo]=[Wo,Do]};var Eo=s.core.Object,Bo=Eo.prototype,To=s.html5.Stylesheet=function(){Eo.apply(this,arguments);{var Do=this._context,jo=Do.options,Vo=this.style=Do.createElement("style");Vo.dom.type="text/css",this.prefix=jo.prefix;var Yo=jo.id,Xo=document.getElementById(Do,Yo),Ko=window.Modernizr.prefixedCSS("user-select")+": none; ",Go=s.core.os,Jo="android"==Go||"androidttk"==Go||"hisense"==Go;Vo.setHtml("div#"+Yo+" { position: absolute; visibility: hidden; left: 0px; top: 0px; }"+("webOS"==Go||Jo?this.mangleRule("div","{ "+Ko+" }"):"")+(Jo?this.mangleRule("div","{ -webkit-tap-highlight-color: rgba(255, 255, 255, 0); -webkit-focus-ring-color: rgba(255, 255, 255, 0); outline: none; }"):"")+(null===Xo?"body { padding: 0; margin: 0; border: 0px; overflow: hidden; }":"")+this.mangleRule("video","{ position: absolute; }")+this.mangleRule("img","{ position: absolute; -webkit-touch-callout: none; "+Ko+" }"));var Zo=s.html5.html.getElement(Do,"head");Zo.append(Vo),Zo.updateStyle(),this._addRule=s.html5.html.createAddRule(Vo.dom).bind(this),this._lastId=0}},Lo=To.prototype=Object.create(Bo);Lo.constructor=To,Lo.componentName="html5.Stylesheet",Lo.allocateClass=function(Fo){var Wo=this.prefix;return(Wo?Wo:"")+Fo+"-"+this._lastId++},Lo.mangleSelector=function(Fo){var Wo=this.prefix;return Wo?Fo+"."+Wo+"core-item":Fo},Lo.mangleRule=function(Fo,Wo){return this.mangleSelector(Fo)+" "+Wo+" "},Lo.addRule=function(Fo,Wo){this._addRule(Fo,Wo)};var Mo=s.core.Model,Ro=Mo.prototype,No=s.core.ProxyModel=function(){Mo.apply(this,arguments),this._indexes=[]},Ho=No.prototype=Object.create(Ro);return Ho.constructor=No,Ho.componentName="core.ProxyModel",_.addProperty(Ho,"Object","target"),Ho.Number=0,No.Number=0,Ho.String=1,No.String=1,_.addProperty(Ho,"enum","filterType",No.String),Ho.clear=function(){this._indexes=[],this.count=0,this.reset()},Ho._buildIndexMap=function(){this._get("model",!0);this.clear();var Wo=this.target._rows;if(!Wo)return void log("Bad target model");if(this._filter){for(var Do=0;Do<Wo.length;++Do)if(this._filter(Wo[Do])){this._indexes.length;this._indexes.push(Do)}}else for(var Do=0;Do<Wo.length;++Do)this._indexes.push(Do);if(this._cmp){var Vo=this;this._indexes=this._indexes.sort(function(Yo,Xo){return Vo._cmp(Wo[Yo],Wo[Xo])})}this.count=this._indexes.length,this.rowsInserted(0,this.count)},Ho.__complete=function(){Ro.__complete.call(this);var Fo=this.target;this.connectOn(Fo,"reset",this._buildIndexMap.bind(this)),this.connectOn(Fo,"rowsInserted",this._buildIndexMap.bind(this)),this.connectOn(Fo,"rowsChanged",this._buildIndexMap.bind(this)),this.connectOn(Fo,"rowsRemoved",this._buildIndexMap.bind(this)),this._buildIndexMap()},Ho.rebuild=function(){this._buildIndexMap()},Ho.addChild=function(Fo){this.append(Fo)},Ho.setCompare=function(Fo){this._cmp=Fo,this._buildIndexMap()},Ho.setFilter=function(Fo){this._filter=Fo,this._buildIndexMap()},Ho.get=function(Fo){var Wo=this._get("model",!0),Do=this.target._rows;if(!Do)throw new Error("Bad target model");if(0>Fo||Fo>=this._indexes.length)throw new Error("index "+Fo+" out of bounds");var jo=Do[this._indexes[Fo]];if(!(jo instanceof Object))throw new Error("row is non-object");return jo.index=Fo,jo},Ho.remove=function(Fo,Wo){if(0>Fo||Fo>=this._indexes.length)throw new Error("index "+Fo+" out of bounds");this.target.remove(this._indexes[Fo],Wo)},Ho.setProperty=function(Fo,Wo,Do){if(0>Fo||Fo>=this._indexes.length)throw new Error("index "+Fo+" out of bounds");var jo=this._indexes[Fo];this.target.setProperty(jo,Wo,Do)},Ho.insert=function(Fo,Wo){if(0>Fo||Fo>this._indexes.length)throw new Error("index "+Fo+" out of bounds");var Do=this._indexes[Fo];this.target.set(Do,Wo)},Ho.set=function(Fo,Wo){if(0>Fo||Fo>=this._indexes.length)throw new Error("index "+Fo+" out of bounds");if(!(Wo instanceof Object))throw new Error("row is non-object");var Do=this._indexes[Fo];this.target.set(Do,Wo)},Ho.append=function(Fo){this.target.append(Fo)},s.core.model=function(){var Fo={};Fo._get=function(Xo){return Fo[Xo]};var Wo=0,Do=1,jo=2,Vo=function(Xo,qo){this.type=Xo,this.length=qo};Fo.ModelUpdate=function(){this.count=0,this._reset()},Fo.ModelUpdate.prototype.constructor=Fo.ModelUpdate,Fo.ModelUpdate.prototype._reset=function(){this._ranges=[new Vo(Wo,this.count)],this._updateIndex=this.count},Fo.ModelUpdate.prototype._setUpdateIndex=function(Xo){Xo<this._updateIndex&&(this._updateIndex=Xo)},Fo.ModelUpdate.prototype._find=function(Xo){var Ko,qo=this._ranges;for(Ko=0;Ko<qo.length;++Ko){var Go=qo[Ko];if(Xo<Go.length)return{index:Ko,offset:Xo};0<Go.length&&(Xo-=Go.length)}if(0!=Xo)throw new Error("invalid index "+Xo);return{index:Ko-1,offset:Go.length}},Fo.ModelUpdate.prototype.reset=function(Xo){this.update(Xo,0,Math.min(Xo.count,this.count)),this.count<Xo.count?this.insert(Xo,this.count,Xo.count):this.remove(Xo,Xo.count,this.count)},Fo.ModelUpdate.prototype._merge=function(){for(var Xo=this._ranges,qo=1;qo<Xo.length;){var Ko=Xo[qo-1],Go=Xo[qo];if(Ko.type!==Go.type)Ko.type==Do&&0===Ko.length?Xo.splice(qo,1):++qo;else if(Ko.type===Do&&0>Ko.length&&0<Go.length){var Jo=Math.min(-Ko.length,Go.length);Ko.type=jo,Go.length+=Ko.length,Ko.length=Jo,1<qo&&--qo}else Ko.length+=Go.length,Xo.splice(qo,1)}},Fo.ModelUpdate.prototype._split=function(Xo,qo,Ko,Go){var Jo=this._ranges;if(0==qo)return Jo.splice(Xo,0,new Vo(Ko,Go)),Xo+1;var Zo=Jo[Xo],Qo=Zo.length-qo;return Zo.length=qo,0==Qo?(Jo.splice(Xo+1,0,new Vo(Ko,Go)),Xo+2):(Jo.splice(Xo+1,0,new Vo(Ko,Go),new Vo(Zo.type,Qo)),Xo+2)},Fo.ModelUpdate.prototype.insert=function(Xo,qo,Ko){if(!(qo>=Ko)){this._setUpdateIndex(qo);var Go=this._ranges,Jo=Ko-qo;if(this.count+=Jo,this.count!=Xo.count)throw new Error("unbalanced insert "+this.count+" + ["+qo+"-"+Ko+"], model reported "+Xo.count);var Zo=this._find(qo),Qo=Go[Zo.index];0==Qo.length?(Qo.type=Do,Qo.length+=Jo):0<=Zo.offset?this._split(Zo.index,Zo.offset,Do,Jo):this._split(Zo.index+1,0,Do,Jo),this._merge()}},Fo.ModelUpdate.prototype.remove=function(Xo,qo,Ko){if(!(qo>=Ko)){this._setUpdateIndex(qo);var Go=this._ranges,Jo=Ko-qo;if(this.count-=Jo,this.count!=Xo.count)throw new Error("unbalanced remove "+this.count+" + ["+qo+"-"+Ko+"], model reported "+Xo.count);var Zo=this._find(qo),Qo=Go[Zo.index];if(Qo.type==Do)Qo.length-=Jo;else for(var Qo,ea=this._split(Zo.index,Zo.offset,Do,-Jo);0<Jo;)Qo=Go[ea],Qo.length<=Jo?(Go.splice(ea,1),Jo-=Qo.length):(Qo.length-=Jo,Jo=0);this._merge()}},Fo.ModelUpdate.prototype.update=function(Xo,qo,Ko){if(!(qo>=Ko)){var Go=this._ranges,Jo=Ko-qo,Zo=this._find(qo),Qo=Zo.index,ea=Go[Qo];if(0<Zo.offset&&(Go.splice(Qo+1,0,new Vo(ea.type,ea.length-Zo.offset)),ea.length=Zo.offset,++Qo,0==ea.length))throw new Error("invalid offset");for(;0<Jo;){var ea=Go[Qo],ta=ea.length;switch(ea.type){case Wo:ta>Jo?(ea.length-=Jo,Go.splice(Qo,0,new Vo(jo,Jo)),Jo-=ta):(ea.type=jo,Jo-=ta);break;case Do:0<ta&&(Jo-=ta),++Qo;break;case jo:Jo-=ta,++Qo;}}this._merge()}},Fo.ModelUpdate.prototype.clear=function(){this.count=0,this._reset()},Fo.ModelUpdate.prototype.apply=function(Xo,qo){var Ko=0;if(this._ranges.forEach(function(Jo){var Zo=Jo.length;switch(Jo.type){case Do:0<Zo?(Xo._insertItems(Ko,Ko+Zo),Ko+=Zo):0>Zo&&Xo._removeItems(Ko,Ko-Zo);break;case jo:Xo._updateItems(Ko,Ko+Zo),Ko+=Zo;break;default:Ko+=Jo.length;}}),!qo&&Xo._items.length!=this.count)throw new Error("unbalanced items update, view: "+Xo._items.length+", update:"+this.count);for(var Go=this._updateIndex;Go<this.count;++Go)Xo._updateDelegateIndex(Go);this._reset()};var Yo=Fo.ArrayModelWrapper=function(Xo){this.data=Xo,this.count=Xo.length};return Yo.prototype.get=function(Xo){return{value:this.data[Xo]}},Yo.prototype.on=function(){},Yo.prototype.removeListener=function(){},Fo}(),s.html5.cache=function(){var Fo={};Fo._get=function(Vo){return Fo[Vo]};var Wo=function(){return Math.floor(new Date().getTime()/1e3)},Do=function(){this.created=Wo(),this.waiters=[],this.invoker=null};Do.prototype.expired=function(Vo){return Wo()-this.created>=Vo},Do.prototype.set=function(Vo){this.created=Wo();for(var Xo,Yo=this.invoker=s.core.safeCall(null,[Vo],function(qo){log("cache entry callback failed: ",qo,qo.stack)});this.waiters.length;)Xo=this.waiters,this.waiters=[],Xo.forEach(Yo);this.waiters=null},Do.prototype.wait=function(Vo){null===this.invoker?this.waiters.push(Vo):this.invoker(Vo)};var jo=function(Vo,Yo){if(!Vo)throw new Error("create callback is required");this._create=Vo,this._ttl=Yo||3600,this._cache={},setInterval(this.cleanup.bind(this),1e3*(this._ttl/2))};return jo.prototype.get=function(Vo,Yo){var Xo=this._cache[Vo];(void 0===Xo||Xo.expired(this._ttl))&&(this._cache[Vo]=Xo=new Do,this._create(Vo,function(qo){Xo.set(qo)})),Xo.wait(Yo)},jo.prototype.cleanup=function(){for(var Vo in this._cache){var Yo=this._cache[Vo];Yo.expired(this._ttl)&&delete this._cache[Vo]}},Fo.Cache=jo,Fo}(),s.html5.html=function(){function Fo(ga){return $manifest$html5$prefix+ga}var Wo={};Wo._get=function(ga){return Wo[ga]};var Do=window.Modernizr;Wo.capabilities={csstransforms3d:Do.csstransforms3d,csstransforms:Do.csstransforms,csstransitions:Do.csstransitions,mouseEnterLeaveSupported:"netcast"!=s.core.os};var jo=null;Wo.createAddRule=function(ga){if(!(ga.sheet||{}).insertRule){var ua=ga.styleSheet||ga.sheet;return function(ma,ya){try{ua.addRule(ma,ya)}catch(fa){log("AddRule failed:",fa,", sheet:",ua,", name:",ma,", rules:",ya)}}}var ua=ga.sheet;return function(ma,ya){try{ua.insertRule(ma+"{"+ya+"}",ua.cssRules.length)}catch(fa){log("InsertRule failed:",fa,", sheet:",ua,", name:",ma,", rules:",ya)}}};var Vo=function(){this._cache={}},Yo=Vo.prototype;Yo.constructor=Vo,Yo.update=function(ga,ua,ma){var ya=this._cache,fa=ga._uniqueId,ba=ya[fa];if(void 0!==ba)ba.data[ua]=ma,++ba.size;else{var $a={};$a[ua]=ma,ya[fa]={data:$a,element:ga,size:1}}},Yo.pop=function(ga){var ua=ga._uniqueId,ma=this._cache[ua];if(void 0!==ma)return delete this._cache[ua],ma},Yo.apply=function(){var ga=this._cache;for(var ua in this._cache={},ga){var ma=ga[ua];ma.element.updateStyle(ma)}};var Xo=function(ga){var ua=document.createElement("style");ua.type="text/css",document.head.appendChild(ua),this.prefix=ga+"C-",this.style=ua,this.total=0,this.stats={},this.classes={},this.classes_total=0,this._addRule=Wo.createAddRule(ua)},qo=Xo.prototype;qo.constructor=Xo,qo.add=function(ga){this.stats[ga]=(this.stats[ga]||0)+1,++this.total},qo.register=function(ga){var ua=ga.join(";"),ma=this.classes,ya=ma[ua];return void 0===ya?(ya=ma[ua]=this.prefix+this.classes_total++,this._addRule("."+ya,ua),ya):ya},qo.classify=function(ga){var ua=this.total;if(10>ua)return"";ga.sort();var ma=[],ya=[],fa=this.stats;return(ga.forEach(function(ba,$a){var va=fa[ba];0.05<va/ua&&(ma.push(ba),ya.push($a))}),2>ya.length)?"":(ya.forEach(function(ba,$a){ga.splice(ba-$a,1)}),this.register(ma))};var Ko={};0<=s.core.userAgent.toLowerCase().indexOf("webkit")&&(Ko.appearance="-webkit-appearance");var Go=function(ga){var ua=Ko[ga];return void 0===ua&&(Ko[ga]=ua=window.Modernizr.prefixedCSS(ga)),ua};Wo.getPrefixedName=Go;var Jo=["touchstart","touchend","wheel","scroll"],Zo=!!Do.passiveeventlisteners&&{passive:!0},Qo=function(ga){var ua=ga.__domEventListeners;void 0===ua&&(ua=ga.__domEventListeners={}),ga.onListener("",function(ma){var ya=ua[ma]=ga._context.wrapNativeCallback(function(){ga.emitWithArgs(ma,arguments)}),fa=[ma,ya];0<=Jo.indexOf(ma)&&fa.push(Zo),ga.dom.addEventListener.apply(ga.dom,fa)},function(ma){ga.dom.removeEventListener(ma,ua[ma])})},ea={};Wo.loadExternalStylesheet=function(ga){if(!ea[ga]){var ua=document.createElement("link");ua.setAttribute("rel","stylesheet"),ua.setAttribute("href",ga),document.head.appendChild(ua),ea[ga]=!0}};var ta=0,ra={};Wo.Element=function(ga,ua,ma){if("string"==typeof ua){void 0===ma&&(ma="");var ya=ua+"."+ma;if(!ra[ya]){var fa=document.createElement(ua);ma&&fa.classList.add(Fo(ma)),$manifest$html5$prefix,ra[ya]=fa}this.dom=ra[ya].cloneNode(!1)}else this.dom=ua;s.core.RAIIEventEmitter.apply(this),this._context=ga,this._transitions={},this._class="",this._widthAdjust=0,this._uniqueId=++ta+"",this._firstChildIndex=0,Qo(this)};var oa=Wo.Element.prototype=Object.create(s.core.RAIIEventEmitter.prototype);oa.constructor=Wo.Element,oa.addClass=function(ga){this.dom.classList.add(ga)},oa.appendChildren=function(ga){if(0<ga.length){var ua=document.createDocumentFragment();ga.forEach(function(ma){ua.appendChild(ma)}),this.dom.appendChild(ua)}},oa.removeChildren=function(ga){var ua=[],ma=this.dom;return ga.children.forEach(function(ya){var fa=ya.element;if(void 0!==fa){var ba=fa.dom;ba.parentNode===ma&&(ma.removeChild(ba),ua.push(ba))}}),ua},oa.setHtml=function(ga,ua){this._widthAdjust=0;var ya,ma=this.dom;ya=void 0===ua?[]:this.removeChildren(ua),ma.innerHTML=ga,this.appendChildren(ya)},oa.width=function(){return this.updateStyle(),this.dom.clientWidth-this._widthAdjust},oa.height=function(){return this.updateStyle(),this.dom.clientHeight},oa.fullWidth=function(){return this.updateStyle(),this.dom.scrollWidth-this._widthAdjust},oa.fullHeight=function(){return this.updateStyle(),this.dom.scrollHeight},oa.style=function(ga,ua){var ma=this._context._styleCache;if(void 0!==ua)ma.update(this,ga,ua);else if("object"==typeof ga)for(var ya in ga)ma.update(this,ya,ga[ya]);else throw new Error("cache is write-only")},oa.setAttribute=function(ga,ua){this.dom.setAttribute(ga,ua)};var aa={left:"px",top:"px",width:"px",height:"px","border-radius":"px","border-width":"px","margin-left":"px","margin-top":"px","margin-right":"px","margin-bottom":"px","padding-left":"px","padding-top":"px","padding-right":"px","padding-bottom":"px",padding:"px"};oa.forceLayout=function(){return this.updateStyle(),this.dom.offsetWidth|this.dom.offsetHeight},oa.updateStyle=function(ga){var ua=this.dom;if(ua&&!(void 0===ga&&(ga=this._context._styleCache.pop(this),void 0===ga))){var ma=ga.data;for(var fa in ma){var ba=ma[fa],$a=Go(fa),va=!1===$a?fa:$a;Array.isArray(ba)&&(ba=ba.join(","));var xa="";"number"==typeof ba&&(fa in aa&&(xa=aa[fa]),"width"==fa&&(ba+=this._widthAdjust)),ba+=xa,ua.style[va]=ba}var wa=this._context._styleClassifier,Ca=wa?wa.classify([]):"";if(Ca!==this._class){var Pa=ua.classList;""!==this._class&&Pa.remove(this._class),this._class=Ca,""!==Ca&&Pa.add(Ca)}}},oa.append=function(ga){this.dom.appendChild(ga instanceof Wo.Element?ga.dom:ga)},oa.discard=function(){s.core.RAIIEventEmitter.prototype.discard.apply(this),this.remove()},oa.remove=function(){var ga=this.dom;ga.parentNode&&ga.parentNode.removeChild(ga)},Wo.Document=function(ga,ua){s.core.RAIIEventEmitter.apply(this),this._context=ga,this.dom=ua,Qo(this)};var na=Wo.Document.prototype=Object.create(s.core.RAIIEventEmitter.prototype);na.constructor=Wo.Document,Wo.Window=function(ga,ua){s.core.RAIIEventEmitter.apply(this),this._context=ga,this.dom=ua,Qo(this)};var ia=Wo.Window.prototype=Object.create(s.core.RAIIEventEmitter.prototype);ia.constructor=Wo.Window,ia.width=function(){return this.dom.innerWidth},ia.height=function(){return this.dom.innerHeight},ia.scrollY=function(){return this.dom.scrollY},Wo.getElement=function(ga,ua){var ma=document.getElementsByTagName(ua);if(1!=ma.length)throw new Error("no tag "+ua+"/multiple tags");return new Wo.Element(ga,ma[0])},Wo.init=function(ga){jo=new s.html5.cache.Cache(sa),ga._styleCache=new Vo;var ua=ga.options,ma=ga._prefix,ya=ua.id,fa=ua.tag||"div";ma&&(ma+="-",log("Context: using prefix",ma));var ba=new s.html5.html.Document(ga,document);ga.document=ba;var $a=new s.html5.html.Window(ga,window);ga.window=$a;var va,xa,wa=Wo,Ca=document.getElementById(ya),Pa=null===Ca;if(!Pa)Ca=new wa.Element(ga,Ca),va=Ca.width(),xa=Ca.height(),log("Context: found element by id, size: "+va+"x"+xa),$a.on("resize",function(){ga.width=Ca.width(),ga.height=Ca.height()});else{va=$a.width(),xa=$a.height(),log("Context: window size: "+va+"x"+xa),Ca=wa.createElement(ga,fa),Ca.dom.id=ya,$a.on("resize",function(){ga.width=$a.width(),ga.height=$a.height()});var Aa=wa.getElement(ga,"body");Aa.append(Ca)}Do.canvastext?(ga._textCanvas=wa.createElement(ga,"canvas"),ga._textCanvas.style("width",0),ga._textCanvas.style("height",0),Ca.append(ga._textCanvas),ga._textCanvasContext="getContext"in ga._textCanvas.dom?ga._textCanvas.dom.getContext("2d"):null):ga._textCanvasContext=null,ga.element=Ca,ga.width=va,ga.height=xa,$a.on("scroll",function(){ga.scrollY=$a.scrollY()});var Oa=function(){var Sa=document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen;ga.fullscreen=Sa};["webkitfullscreenchange","mozfullscreenchange","fullscreenchange"].forEach(function(Ia){Ca.on(Ia,Oa)}),$a.on("keydown",function(Ia){ga.processKey(Ia)&&Ia.preventDefault()}),ga._styleClassifier=null},Wo.initSystem=function(ga){var ua=ga._context.window;ua.on("focus",function(){ga.pageActive=!0}),ua.on("blur",function(){ga.pageActive=!1}),ga.screenWidth=window.screen.width,ga.screenHeight=window.screen.height},Wo.createElement=function(ga,ua,ma){return new Wo.Element(ga,ua,ma)},Wo.initRectangle=function(){};var da=s.core.Image,la=function(ga,ua){if(!ua)return void(ga.status=da.Error);var ma={"background-image":"url(\""+ga.source+"\")"},ya=ua.width,fa=ua.height;switch(ga.sourceWidth=ya,ga.sourceHeight=fa,ga.fillMode!==da.PreserveAspectFit&&(ga.paintedWidth=ga.width,ga.paintedHeight=ga.height),ga.fillMode){case da.Stretch:ma["background-repeat"]="no-repeat",ma["background-size"]="100% 100%";break;case da.TileVertically:ma["background-repeat"]="repeat-y",ma["background-size"]="100% "+fa+"px";break;case da.TileHorizontally:ma["background-repeat"]="repeat-x",ma["background-size"]=ya+"px 100%";break;case da.Tile:ma["background-repeat"]="repeat-y repeat-x",ma["background-size"]="auto";break;case da.PreserveAspectCrop:ma["background-repeat"]="no-repeat",ma["background-position"]="center",ma["background-size"]="cover";break;case da.Pad:ma["background-repeat"]="no-repeat",ma["background-position"]="0% 0%",ma["background-size"]="auto";break;case da.PreserveAspectFit:ma["background-repeat"]="no-repeat",ma["background-position"]="center",ma["background-size"]="contain";var ba=ga.width,$a=ga.height,va=0,xa=ya/fa;ba&&$a&&(va=ba/$a),xa>va&&ba?(ga.paintedWidth=ba,ga.paintedHeight=ba/xa):(ga.paintedHeight=$a,ga.paintedWidth=$a*xa);}ma["image-rendering"]=ga.smooth?"auto":"pixelated",ga.style(ma),ga.status=da.Ready,ga._context._processActions()},sa=function(ga,ua){var ma=new Image;ma.onerror=function(){ma.onload=null,ma.onerror=null,ua(null)},ma.onload=function(){ma.onload=null,ma.onerror=null,ua({width:ma.naturalWidth,height:ma.naturalHeight})},ma.src=ga};Wo.initImage=function(){},Wo.loadImage=function(ga){var ua=function(ma){la(ga,ma)};0>ga.source.indexOf("?")?jo.get(ga.source,ua):sa(ga.source,ua)},Wo.initText=function(){};var pa=function(ga,ua){switch(ga.verticalAlignment){case ga.AlignTop:ga._topPadding=0;break;case ga.AlignBottom:ga._topPadding=ga.height-ga.paintedHeight;break;case ga.AlignVCenter:ga._topPadding=(ga.height-ga.paintedHeight)/2;}ua["padding-top"]=ga._topPadding,ua.height=ga.height-ga._topPadding,ga.style(ua)};Wo.setText=function(ga,ua){ga.element.setHtml(ua,ga)},Wo.layoutText=function(ga){var ua=ga._context,ma=ua._textCanvasContext,ya=ga.wrapMode!==s.core.Text.NoWrap,fa=ga.element,ba=fa.dom,$a=ga.textFormat===ga.Html||0<=ga.text.search(/[\<\&]/);if(!ya&&null!==ma&&!$a){var xa,va=ga.font;xa=va.pointSize?Math.round(96*va.pointSize/72):va.pixelSize,ma.font=xa+"px "+va.family;var wa=ma.measureText(ga.text);return ga.paintedWidth=wa.width,ga.paintedHeight=xa*va.lineHeight,void pa(ga,{})}var Ca=fa.removeChildren(ga);ya?ga.style({height:"auto","padding-top":0}):ga.style({width:"auto",height:"auto","padding-top":0}),ga.paintedWidth=fa.fullWidth(),ga.paintedHeight=fa.fullHeight(),fa._widthAdjust=1;var Pa;Pa=ya?{height:ga.height}:{width:ga.width,height:ga.height},pa(ga,Pa),fa.appendChildren(Ca)},Wo.run=function(ga,ua){ga.window.on("load",function(){ua()})},Wo.tick=function(ga){ga._styleCache.apply()};var ha=function(ga,ua,ma){var ya=Wo,fa={property:ya.getPrefixedName("transition-property"),delay:ya.getPrefixedName("transition-delay"),duration:ya.getPrefixedName("transition-duration"),timing:ya.getPrefixedName("transition-timing-function")},ba=ga.element;ba.forceLayout(),ua=ya.getPrefixedName(ua)||ua;var $a=ba._transitions,va=$a[fa.property]||[],xa=$a[fa.duration]||[],wa=$a[fa.timing]||[],Ca=$a[fa.delay]||[],Pa=va.indexOf(ua);return-1===Pa?ma&&(va.push(ua),xa.push(ma.duration+"ms"),wa.push(ma.easing),Ca.push(ma.delay+"ms")):ma&&ma.active()?(xa[Pa]=ma.duration+"ms",wa[Pa]=ma.easing,Ca[Pa]=ma.delay+"ms"):(va.splice(Pa,1),xa.splice(Pa,1),wa.splice(Pa,1),Ca.splice(Pa,1)),$a[fa.property]=va,$a[fa.duration]=xa,$a[fa.timing]=wa,$a[fa.delay]=Ca,("orsay"===ga._context.system.os||"netcast"===ga._context.system.os)&&($a["transition-property"]=va,$a["transition-duration"]=xa,$a["transition-delay"]=Ca,$a["transition-timing-function"]=wa),ga.style($a),!0},_a={width:"width",height:"height",x:"left",y:"top",viewX:"left",viewY:"top",opacity:"opacity",border:"border",radius:"border-radius",rotate:"transform",boxshadow:"box-shadow",transform:"transform",visible:"visibility",visibleInView:"visibility",background:"background",color:"color",backgroundImage:"background-image",font:"font"};return Wo.setAnimation=function(ga,ua,ma){if(!Wo.capabilities.csstransitions||$manifest$cssDisableTransitions||ma&&!ma.cssTransition)return!1;var ya=_a[ua];return void 0!==ya&&ha(ga,ya,ma)},Wo.requestAnimationFrame=Do.prefixed("requestAnimationFrame",window)||function(ga){return setTimeout(ga,0)},Wo.cancelAnimationFrame=Do.prefixed("cancelAnimationFrame",window)||function(ga){return clearTimeout(ga)},Wo.enterFullscreenMode=function(ga){return Do.prefixed("requestFullscreen",ga.dom)()},Wo.exitFullscreenMode=function(){return window.Modernizr.prefixed("exitFullscreen",document)()},Wo.inFullscreenMode=function(){return!!window.Modernizr.prefixed("fullscreenElement",document)},Wo}(),s.html5.localstorage=function(){var Fo={};Fo._get=function(Do){return Fo[Do]};var Wo=function(Do){if(Do&&void 0!==Do.name,this._storage=window.localStorage,!this._storage)throw new Error("no local storage support")};return Wo.prototype.get=function(Do,jo,Vo){var Yo=this._storage.getItem(Do);null===Yo?Vo(new Error("no item with name "+Do)):jo(Yo)},Wo.prototype.set=function(Do,jo){this._storage.setItem(Do,jo)},Wo.prototype.erase=function(Do){this._storage.removeItem(Do)},Fo.createLocalStorage=function(Do){return new Wo(Do)},Fo.LocalStorage=Wo,Fo}(),s.html5.location=function(){var Fo={};Fo._get=function(Do){return Fo[Do]};var Wo=function(Do){this._ui=Do;var jo=window.location;this.updateActualValues();var Vo=this,Yo=Do._context;Yo.window.on("hashchange",function(){Vo._ui.hash=jo.hash}.bind(this)),Yo.window.on("popstate",function(){Vo.updateActualValues()}.bind(this))};return Wo.prototype.updateActualValues=function(){var Do=this._ui,jo=Do._context.window.dom;Do.hash=jo.location.hash,Do.href=jo.location.href,Do.port=jo.location.port,Do.host=jo.location.host,Do.origin=jo.location.origin,Do.hostname=jo.location.hostname,Do.pathname=jo.location.pathname,Do.protocol=jo.location.protocol,Do.search=jo.location.search,Do.state=jo.history.state},Wo.prototype.changeHref=function(Do){this._ui._context.window.dom.location.href=Do,this.updateActualValues()},Wo.prototype.pushState=function(Do,jo,Vo){var Yo=this._ui,Xo=Yo._context.window.dom;Xo.location.hostname?(Xo.history.pushState(Do,jo,Vo),this.updateActualValues()):(Yo._context.document.title=jo,this._ui.state=Do)},Fo.createLocation=function(Do){return new Wo(Do)},Fo.Location=Wo,Fo}(),s.video.html5.backend=function(){var Fo={};Fo._get=function(Do){return Fo[Do]};var Wo=function(Do){var jo=Do._context.createElement("video");jo.dom.preload="metadata";var Vo=jo.dom;jo.on("play",function(){Do.waiting=!1,Do.paused=Vo.paused}.bind(Do)),jo.on("pause",function(){Do.paused=Vo.paused}.bind(Do)),jo.on("ended",function(){Do.finished()}.bind(Do)),jo.on("seeked",function(){log("seeked"),Do.seeking=!1,Do.waiting=!1}.bind(Do)),jo.on("canplay",function(){log("canplay",Vo.readyState),Do.ready=Vo.readyState}.bind(Do)),jo.on("seeking",function(){log("seeking"),Do.seeking=!0,Do.waiting=!0}.bind(Do)),jo.on("waiting",function(){log("waiting"),Do.waiting=!0}.bind(Do)),jo.on("stalled",function(){log("Was stalled",Vo.networkState)}.bind(Do)),jo.on("emptied",function(){log("Was emptied",Vo.networkState)}.bind(Do)),jo.on("volumechange",function(){Do.muted=Vo.muted}.bind(Do)),jo.on("canplaythrough",function(){log("ready to play"),Do.paused=Vo.paused}.bind(Do)),jo.on("error",function(){if(log("Player error occured",Vo.error,"src",Do.source),Vo.error&&Do.source)switch(Do.error(Vo.error),log("player.error",Vo.error),Vo.error.code){case 1:log("MEDIA_ERR_ABORTED error occured");break;case 2:log("MEDIA_ERR_NETWORK error occured");break;case 3:log("MEDIA_ERR_DECODE error occured");break;case 4:log("MEDIA_ERR_SRC_NOT_SUPPORTED error occured");break;default:log("UNDEFINED error occured");}}.bind(Do)),jo.on("timeupdate",function(){Do.waiting=!1,Do.seeking||(Do.progress=Vo.currentTime)}.bind(Do)),jo.on("durationchange",function(){var Yo=Vo.duration;log("Duration",Yo),Do.duration=isFinite(Yo)?Yo:0}.bind(Do)),jo.on("progress",function(){var Yo=Vo.buffered.length-1;Do.waiting=!1,0<=Yo&&(Do.buffered=Vo.buffered.end(Yo)-Vo.buffered.start(Yo))}.bind(Do)),this.element=jo,this.ui=Do,Do.element.remove(),Do.element=jo,Do.parent.element.append(Do.element)};return Wo.prototype.setSource=function(Do){this.ui.ready=!1,this.element.dom.src=Do},Wo.prototype.play=function(){this.element.dom.play()},Wo.prototype.pause=function(){this.element.dom.pause()},Wo.prototype.stop=function(){this.pause()},Wo.prototype.seek=function(Do){this.element.dom.currentTime+=Do},Wo.prototype.seekTo=function(Do){this.element.dom.currentTime=Do},Wo.prototype.setVolume=function(Do){this.element.dom.volume=Do},Wo.prototype.setMute=function(Do){this.element.dom.muted=Do},Wo.prototype.setLoop=function(Do){this.element.dom.loop=Do},Wo.prototype.setRect=function(){},Wo.prototype.setVisibility=function(Do){log("VISIBILITY LOGIC MISSING HERE, visible:",Do)},Wo.prototype.setBackgroundColor=function(Do){var jo=s.core.Color;this.element.dom.style.backgroundColor=new jo(Do).rgba()},Fo.createPlayer=function(Do){return new Wo(Do)},Fo.probeUrl=function(){return 50},Fo.Player=Wo,Fo}(),s.video.videojs.backend=function(){var Fo={};Fo._get=function(Do){return Fo[Do]};var Wo=function(Do){var jo=Do._context.createElement("video");jo.dom.preload="metadata",Do.autoPlay&&jo.setAttribute("autoplay"),jo.setAttribute("preload","auto"),jo.setAttribute("data-setup","{}"),jo.setAttribute("class","video-js");var Vo=jo.dom;jo.on("play",function(){Do.waiting=!1,Do.paused=Vo.paused}.bind(Do)),jo.on("pause",function(){Do.paused=Vo.paused}.bind(Do)),jo.on("ended",function(){Do.finished()}.bind(Do)),jo.on("seeked",function(){log("seeked"),Do.seeking=!1,Do.waiting=!1}.bind(Do)),jo.on("canplay",function(){log("canplay",Vo.readyState),Do.ready=Vo.readyState}.bind(Do)),jo.on("seeking",function(){log("seeking"),Do.seeking=!0,Do.waiting=!0}.bind(Do)),jo.on("waiting",function(){log("waiting"),Do.waiting=!0}.bind(Do)),jo.on("stalled",function(){log("Was stalled",Vo.networkState)}.bind(Do)),jo.on("emptied",function(){log("Was emptied",Vo.networkState)}.bind(Do)),jo.on("volumechange",function(){Do.muted=Vo.muted}.bind(Do)),jo.on("canplaythrough",function(){log("ready to play"),Do.autoPlay&&Vo.play()}.bind(Do)),jo.on("error",function(){if(log("Player error occured"),Do.error(Vo.error),!!Vo.error)switch(log("player.error",Vo.error),Vo.error.code){case 1:log("MEDIA_ERR_ABORTED error occured");break;case 2:log("MEDIA_ERR_NETWORK error occured");break;case 3:log("MEDIA_ERR_DECODE error occured");break;case 4:log("MEDIA_ERR_SRC_NOT_SUPPORTED error occured");break;default:log("UNDEFINED error occured");}}.bind(Do)),jo.on("timeupdate",function(){Do.waiting=!1,Do.seeking||(Do.progress=Vo.currentTime)}.bind(Do)),jo.on("durationchange",function(){var Ko=Vo.duration;Do.ready=!1,Do.duration=isFinite(Ko)?Ko:0}.bind(Do)),jo.on("progress",function(){var Ko=Vo.buffered.length-1;Do.waiting=!1,0<=Ko&&(Do.buffered=Vo.buffered.end(Ko)-Vo.buffered.start(Ko))}.bind(Do)),this.element=jo,this.ui=Do;var Yo="videojs"+this.element._uniqueId;jo.setAttribute("id",Yo),Do.element.remove(),Do.element=jo,Do.parent.element.append(Do.element),this.videojs=window.videojs(Yo),this.videojs.width="auto",this.videojs.height="auto";var Xo=document.getElementsByClassName("vjs-error-display");Xo&&Xo.length&&(Xo[0].style.display="none");var qo=document.getElementsByClassName("vjs-loading-spinner");qo&&qo.length&&(qo[0].style.display="none"),this.videojsContaner=document.getElementById(Yo),this.videojsContaner.style.zindex=-1};return Wo.prototype=Object.create(s.video.html5.backend.Player.prototype),Wo.prototype.setSource=function(Do){var jo={src:Do};if(log("SetSource",Do),Do){var Vo=Do.toLowerCase(),Yo=Do.indexOf("?");0<=Yo&&(Vo=Vo.substring(0,Yo));var Xo=Vo.lastIndexOf("."),qo=Vo.substring(Xo,Vo.length-1);".m3u8"==qo||".m3u"==qo?jo.type="application/x-mpegURL":".mpd"==qo&&(jo.type="application/dash+xml")}this.videojs.src(jo,{html5:{hls:{withCredentials:!0}},fluid:!0,preload:"none",techOrder:["html5"]})},Wo.prototype.play=function(){var Do=this.element.dom.play();void 0!==Do&&Do.catch(function(jo){log("play error:",jo),this.ui.autoPlay&&jo.code==DOMException.ABORT_ERR&&this.element.dom.play()}.bind(this))},Wo.prototype.setRect=function(Do,jo,Vo,Yo){this.videojsContaner.style.width=Vo-Do+"px",this.videojsContaner.style.height=Yo-jo+"px"},Fo.createPlayer=function(Do){return new Wo(Do)},Fo.probeUrl=function(){return window.videojs?60:0},Fo}(),s.web.device=function(){var Fo={};Fo._get=function(Do){return Fo[Do]};var Wo=function(Do){var jo=Do._context,Vo=jo.system.os+"_"+jo.system.browser;Vo=Vo.replace(/\s/g,""),Do.deviceId=Vo+"_"+Math.random().toString(36).substr(2,9)};return Fo.createDevice=function(Do){return new Wo(Do)},Fo.Device=Wo,Fo}(),s.controls.pure.format=function(){var Fo={};return Fo._get=function(Wo){return Fo[Wo]},Fo.currency=function(Wo,Do,jo){var Vo="\\d(?=(\\d{"+(jo||3)+"})+"+(0<Do?"\\.":"$")+")";return Wo.toFixed(Math.max(0,~~Do)).replace(new RegExp(Vo,"g"),"$&,")},Fo.format=function(){var Do=[].slice.call(arguments),jo=Do.shift();return Do.reduce(function(Vo,Yo){return Vo.replace("%s",Yo)},jo)},Fo}(),o}();try{var l10n={},context=qml._context=new qml.core.Context(null,!1,{id:"qml-context-compress",l10n:l10n,nativeContext:null});context.init(),context.start(new qml.src.UiCompress(context)),context.run()}catch(o){log("qml initialization failed: ",o,o.stack)}